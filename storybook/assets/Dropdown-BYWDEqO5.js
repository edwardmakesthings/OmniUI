import{j as a}from"./jsx-runtime-t1Y7DJZC.js";import{r}from"./index-CFacQ8Bc.js";import{t as M,u as A,v as B}from"./ThemeAwareText-Dzv815Gu.js";import{d as _}from"./dropdown-wJJ0wzB7.js";const z=({label:d,accessibleLabel:y,options:j,variant:q="default",className:N,disabled:f=!1,showCaret:k=!0,closeOnBlur:b=!0,closeOnMouseLeave:v=!1,closeDelay:w=150,onOpenChange:e,styleProps:m,...D})=>{const[t,u]=r.useState(!1),p=r.useRef(null),i=r.useRef(),E=r.useCallback(()=>{if(!f){const s=!t;u(s),e==null||e(s)}},[f,t,e]),I=r.useCallback(s=>{var l;(l=s.onClick)==null||l.call(s),u(!1),e==null||e(!1)},[e]);r.useEffect(()=>{if(!b)return;const s=l=>{p.current&&!p.current.contains(l.target)&&(u(!1),e==null||e(!1))};return t&&document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[t,b,e]),r.useEffect(()=>()=>{i.current&&clearTimeout(i.current)},[]);const R=r.useCallback(()=>{v&&t&&(i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{u(!1),e==null||e(!1)},w))},[v,w,t,e]),V=r.useCallback(()=>{i.current&&clearTimeout(i.current)},[]),$=({elementProps:s,state:l,computedStyle:n})=>{const c=`dropdown-${(s==null?void 0:s["data-component-id"])||"root"}`,x=`${c}-label`,L={"aria-expanded":t,"aria-haspopup":"listbox","aria-label":y,"aria-controls":t?`${c}-list`:void 0,"aria-labelledby":x};return a.jsxs("div",{...s,ref:p,className:n.root,onMouseLeave:R,onMouseEnter:V,children:[a.jsxs("button",{type:"button",id:x,onClick:E,disabled:l.isDisabled,className:n.trigger,...L,children:[typeof d=="string"?a.jsx("span",{children:d}):d,k&&a.jsx(A,{className:B("transition-transform duration-200",t&&"rotate-180"),"aria-hidden":"true"})]}),t&&a.jsx("div",{className:n.content,role:"listbox",id:`${c}-list`,"aria-label":`${d} options`,children:j.map((o,T)=>a.jsxs("button",{role:"option",onClick:()=>I(o),disabled:o.disabled,className:n.item,"aria-selected":"false",id:`${c}-option-${T}`,children:[o.icon&&a.jsx("span",{className:"flex-shrink-0 mr-2","aria-hidden":"true",children:o.icon}),a.jsx("span",{className:"flex-grow text-left",children:o.label})]},o.value||T))})]})};return a.jsx(M,{as:"div",stylePreset:_,styleProps:{variant:q,elements:{root:{base:N},...m==null?void 0:m.elements}},state:{isDisabled:f,isActive:t},renderElement:$,...D})};z.__docgenInfo={description:"",methods:[],displayName:"DropdownButton",props:{label:{required:!0,tsType:{name:"union",raw:"string | ReactNode",elements:[{name:"string"},{name:"ReactNode"}]},description:""},accessibleLabel:{required:!1,tsType:{name:"string"},description:""},options:{required:!0,tsType:{name:"Array",elements:[{name:"DropdownOption"}],raw:"DropdownOption[]"},description:""},variant:{required:!1,tsType:{name:"DropdownVariant"},description:"",defaultValue:{value:'"default"',computed:!1}},className:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},showCaret:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},closeOnBlur:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},closeOnMouseLeave:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},closeDelay:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"150",computed:!1}},onOpenChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(isOpen: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"isOpen"}],return:{name:"void"}}},description:""}},composes:["Omit"]};export{z as D};
