var Z1=Object.defineProperty;var Q1=(e,n,o)=>n in e?Z1(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o;var an=(e,n,o)=>Q1(e,typeof n!="symbol"?n+"":n,o);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function o(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(l){if(l.ep)return;l.ep=!0;const a=o(l);fetch(l.href,a)}})();function lm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nu={exports:{}},Wi={},Mu={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ih;function K1(){if(Ih)return Te;Ih=1;var e=Symbol.for("react.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),h=Symbol.iterator;function m(D){return D===null||typeof D!="object"?null:(D=h&&D[h]||D["@@iterator"],typeof D=="function"?D:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,b={};function k(D,B,ne){this.props=D,this.context=B,this.refs=b,this.updater=ne||v}k.prototype.isReactComponent={},k.prototype.setState=function(D,B){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,B,"setState")},k.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function I(){}I.prototype=k.prototype;function T(D,B,ne){this.props=D,this.context=B,this.refs=b,this.updater=ne||v}var C=T.prototype=new I;C.constructor=T,S(C,k.prototype),C.isPureReactComponent=!0;var _=Array.isArray,F=Object.prototype.hasOwnProperty,V={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function O(D,B,ne){var te,le={},se=null,re=null;if(B!=null)for(te in B.ref!==void 0&&(re=B.ref),B.key!==void 0&&(se=""+B.key),B)F.call(B,te)&&!P.hasOwnProperty(te)&&(le[te]=B[te]);var ue=arguments.length-2;if(ue===1)le.children=ne;else if(1<ue){for(var de=Array(ue),Me=0;Me<ue;Me++)de[Me]=arguments[Me+2];le.children=de}if(D&&D.defaultProps)for(te in ue=D.defaultProps,ue)le[te]===void 0&&(le[te]=ue[te]);return{$$typeof:e,type:D,key:se,ref:re,props:le,_owner:V.current}}function W(D,B){return{$$typeof:e,type:D.type,key:B,ref:D.ref,props:D.props,_owner:D._owner}}function U(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function Q(D){var B={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ne){return B[ne]})}var Z=/\/+/g;function X(D,B){return typeof D=="object"&&D!==null&&D.key!=null?Q(""+D.key):B.toString(36)}function N(D,B,ne,te,le){var se=typeof D;(se==="undefined"||se==="boolean")&&(D=null);var re=!1;if(D===null)re=!0;else switch(se){case"string":case"number":re=!0;break;case"object":switch(D.$$typeof){case e:case n:re=!0}}if(re)return re=D,le=le(re),D=te===""?"."+X(re,0):te,_(le)?(ne="",D!=null&&(ne=D.replace(Z,"$&/")+"/"),N(le,B,ne,"",function(Me){return Me})):le!=null&&(U(le)&&(le=W(le,ne+(!le.key||re&&re.key===le.key?"":(""+le.key).replace(Z,"$&/")+"/")+D)),B.push(le)),1;if(re=0,te=te===""?".":te+":",_(D))for(var ue=0;ue<D.length;ue++){se=D[ue];var de=te+X(se,ue);re+=N(se,B,ne,de,le)}else if(de=m(D),typeof de=="function")for(D=de.call(D),ue=0;!(se=D.next()).done;)se=se.value,de=te+X(se,ue++),re+=N(se,B,ne,de,le);else if(se==="object")throw B=String(D),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return re}function Y(D,B,ne){if(D==null)return D;var te=[],le=0;return N(D,te,"","",function(se){return B.call(ne,se,le++)}),te}function $(D){if(D._status===-1){var B=D._result;B=B(),B.then(function(ne){(D._status===0||D._status===-1)&&(D._status=1,D._result=ne)},function(ne){(D._status===0||D._status===-1)&&(D._status=2,D._result=ne)}),D._status===-1&&(D._status=0,D._result=B)}if(D._status===1)return D._result.default;throw D._result}var L={current:null},j={transition:null},A={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:j,ReactCurrentOwner:V};function R(){throw Error("act(...) is not supported in production builds of React.")}return Te.Children={map:Y,forEach:function(D,B,ne){Y(D,function(){B.apply(this,arguments)},ne)},count:function(D){var B=0;return Y(D,function(){B++}),B},toArray:function(D){return Y(D,function(B){return B})||[]},only:function(D){if(!U(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Te.Component=k,Te.Fragment=o,Te.Profiler=l,Te.PureComponent=T,Te.StrictMode=i,Te.Suspense=f,Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,Te.act=R,Te.cloneElement=function(D,B,ne){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var te=S({},D.props),le=D.key,se=D.ref,re=D._owner;if(B!=null){if(B.ref!==void 0&&(se=B.ref,re=V.current),B.key!==void 0&&(le=""+B.key),D.type&&D.type.defaultProps)var ue=D.type.defaultProps;for(de in B)F.call(B,de)&&!P.hasOwnProperty(de)&&(te[de]=B[de]===void 0&&ue!==void 0?ue[de]:B[de])}var de=arguments.length-2;if(de===1)te.children=ne;else if(1<de){ue=Array(de);for(var Me=0;Me<de;Me++)ue[Me]=arguments[Me+2];te.children=ue}return{$$typeof:e,type:D.type,key:le,ref:se,props:te,_owner:re}},Te.createContext=function(D){return D={$$typeof:u,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:a,_context:D},D.Consumer=D},Te.createElement=O,Te.createFactory=function(D){var B=O.bind(null,D);return B.type=D,B},Te.createRef=function(){return{current:null}},Te.forwardRef=function(D){return{$$typeof:d,render:D}},Te.isValidElement=U,Te.lazy=function(D){return{$$typeof:g,_payload:{_status:-1,_result:D},_init:$}},Te.memo=function(D,B){return{$$typeof:y,type:D,compare:B===void 0?null:B}},Te.startTransition=function(D){var B=j.transition;j.transition={};try{D()}finally{j.transition=B}},Te.unstable_act=R,Te.useCallback=function(D,B){return L.current.useCallback(D,B)},Te.useContext=function(D){return L.current.useContext(D)},Te.useDebugValue=function(){},Te.useDeferredValue=function(D){return L.current.useDeferredValue(D)},Te.useEffect=function(D,B){return L.current.useEffect(D,B)},Te.useId=function(){return L.current.useId()},Te.useImperativeHandle=function(D,B,ne){return L.current.useImperativeHandle(D,B,ne)},Te.useInsertionEffect=function(D,B){return L.current.useInsertionEffect(D,B)},Te.useLayoutEffect=function(D,B){return L.current.useLayoutEffect(D,B)},Te.useMemo=function(D,B){return L.current.useMemo(D,B)},Te.useReducer=function(D,B,ne){return L.current.useReducer(D,B,ne)},Te.useRef=function(D){return L.current.useRef(D)},Te.useState=function(D){return L.current.useState(D)},Te.useSyncExternalStore=function(D,B,ne){return L.current.useSyncExternalStore(D,B,ne)},Te.useTransition=function(){return L.current.useTransition()},Te.version="18.3.1",Te}var Nh;function ds(){return Nh||(Nh=1,Mu.exports=K1()),Mu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mh;function q1(){if(Mh)return Wi;Mh=1;var e=ds(),n=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,y){var g,h={},m=null,v=null;y!==void 0&&(m=""+y),f.key!==void 0&&(m=""+f.key),f.ref!==void 0&&(v=f.ref);for(g in f)i.call(f,g)&&!a.hasOwnProperty(g)&&(h[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)h[g]===void 0&&(h[g]=f[g]);return{$$typeof:n,type:d,key:m,ref:v,props:h,_owner:l.current}}return Wi.Fragment=o,Wi.jsx=u,Wi.jsxs=u,Wi}var Dh;function J1(){return Dh||(Dh=1,Nu.exports=q1()),Nu.exports}var x=J1(),M=ds();const ad=lm(M);var Ll={},Du={exports:{}},Tt={},Tu={exports:{}},Pu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Th;function ev(){return Th||(Th=1,function(e){function n(j,A){var R=j.length;j.push(A);e:for(;0<R;){var D=R-1>>>1,B=j[D];if(0<l(B,A))j[D]=A,j[R]=B,R=D;else break e}}function o(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var A=j[0],R=j.pop();if(R!==A){j[0]=R;e:for(var D=0,B=j.length,ne=B>>>1;D<ne;){var te=2*(D+1)-1,le=j[te],se=te+1,re=j[se];if(0>l(le,R))se<B&&0>l(re,le)?(j[D]=re,j[se]=R,D=se):(j[D]=le,j[te]=R,D=te);else if(se<B&&0>l(re,R))j[D]=re,j[se]=R,D=se;else break e}}return A}function l(j,A){var R=j.sortIndex-A.sortIndex;return R!==0?R:j.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var f=[],y=[],g=1,h=null,m=3,v=!1,S=!1,b=!1,k=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(j){for(var A=o(y);A!==null;){if(A.callback===null)i(y);else if(A.startTime<=j)i(y),A.sortIndex=A.expirationTime,n(f,A);else break;A=o(y)}}function _(j){if(b=!1,C(j),!S)if(o(f)!==null)S=!0,$(F);else{var A=o(y);A!==null&&L(_,A.startTime-j)}}function F(j,A){S=!1,b&&(b=!1,I(O),O=-1),v=!0;var R=m;try{for(C(A),h=o(f);h!==null&&(!(h.expirationTime>A)||j&&!Q());){var D=h.callback;if(typeof D=="function"){h.callback=null,m=h.priorityLevel;var B=D(h.expirationTime<=A);A=e.unstable_now(),typeof B=="function"?h.callback=B:h===o(f)&&i(f),C(A)}else i(f);h=o(f)}if(h!==null)var ne=!0;else{var te=o(y);te!==null&&L(_,te.startTime-A),ne=!1}return ne}finally{h=null,m=R,v=!1}}var V=!1,P=null,O=-1,W=5,U=-1;function Q(){return!(e.unstable_now()-U<W)}function Z(){if(P!==null){var j=e.unstable_now();U=j;var A=!0;try{A=P(!0,j)}finally{A?X():(V=!1,P=null)}}else V=!1}var X;if(typeof T=="function")X=function(){T(Z)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Y=N.port2;N.port1.onmessage=Z,X=function(){Y.postMessage(null)}}else X=function(){k(Z,0)};function $(j){P=j,V||(V=!0,X())}function L(j,A){O=k(function(){j(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){S||v||(S=!0,$(F))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return o(f)},e.unstable_next=function(j){switch(m){case 1:case 2:case 3:var A=3;break;default:A=m}var R=m;m=A;try{return j()}finally{m=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,A){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var R=m;m=j;try{return A()}finally{m=R}},e.unstable_scheduleCallback=function(j,A,R){var D=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?D+R:D):R=D,j){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=R+B,j={id:g++,callback:A,priorityLevel:j,startTime:R,expirationTime:B,sortIndex:-1},R>D?(j.sortIndex=R,n(y,j),o(f)===null&&j===o(y)&&(b?(I(O),O=-1):b=!0,L(_,R-D))):(j.sortIndex=B,n(f,j),S||v||(S=!0,$(F))),j},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(j){var A=m;return function(){var R=m;m=A;try{return j.apply(this,arguments)}finally{m=R}}}}(Pu)),Pu}var Ph;function tv(){return Ph||(Ph=1,Tu.exports=ev()),Tu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jh;function nv(){if(jh)return Tt;jh=1;var e=ds(),n=tv();function o(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function a(t,r){u(t,r),u(t+"Capture",r)}function u(t,r){for(l[t]=r,t=0;t<r.length;t++)i.add(r[t])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},h={};function m(t){return f.call(h,t)?!0:f.call(g,t)?!1:y.test(t)?h[t]=!0:(g[t]=!0,!1)}function v(t,r,s,c){if(s!==null&&s.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function S(t,r,s,c){if(r===null||typeof r>"u"||v(t,r,s,c))return!0;if(c)return!1;if(s!==null)switch(s.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function b(t,r,s,c,p,w,E){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=p,this.mustUseProperty=s,this.propertyName=t,this.type=r,this.sanitizeURL=w,this.removeEmptyString=E}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){k[t]=new b(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];k[r]=new b(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){k[t]=new b(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){k[t]=new b(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){k[t]=new b(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){k[t]=new b(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){k[t]=new b(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){k[t]=new b(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){k[t]=new b(t,5,!1,t.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function T(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(I,T);k[r]=new b(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(I,T);k[r]=new b(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(I,T);k[r]=new b(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){k[t]=new b(t,1,!1,t.toLowerCase(),null,!1,!1)}),k.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){k[t]=new b(t,1,!1,t.toLowerCase(),null,!0,!0)});function C(t,r,s,c){var p=k.hasOwnProperty(r)?k[r]:null;(p!==null?p.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(S(r,s,p,c)&&(s=null),c||p===null?m(r)&&(s===null?t.removeAttribute(r):t.setAttribute(r,""+s)):p.mustUseProperty?t[p.propertyName]=s===null?p.type===3?!1:"":s:(r=p.attributeName,c=p.attributeNamespace,s===null?t.removeAttribute(r):(p=p.type,s=p===3||p===4&&s===!0?"":""+s,c?t.setAttributeNS(c,r,s):t.setAttribute(r,s))))}var _=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),V=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),Q=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),L=Symbol.for("react.offscreen"),j=Symbol.iterator;function A(t){return t===null||typeof t!="object"?null:(t=j&&t[j]||t["@@iterator"],typeof t=="function"?t:null)}var R=Object.assign,D;function B(t){if(D===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);D=r&&r[1]||""}return`
`+D+t}var ne=!1;function te(t,r){if(!t||ne)return"";ne=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(J){var c=J}Reflect.construct(t,[],r)}else{try{r.call()}catch(J){c=J}t.call(r.prototype)}else{try{throw Error()}catch(J){c=J}t()}}catch(J){if(J&&c&&typeof J.stack=="string"){for(var p=J.stack.split(`
`),w=c.stack.split(`
`),E=p.length-1,z=w.length-1;1<=E&&0<=z&&p[E]!==w[z];)z--;for(;1<=E&&0<=z;E--,z--)if(p[E]!==w[z]){if(E!==1||z!==1)do if(E--,z--,0>z||p[E]!==w[z]){var H=`
`+p[E].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=E&&0<=z);break}}}finally{ne=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?B(t):""}function le(t){switch(t.tag){case 5:return B(t.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return t=te(t.type,!1),t;case 11:return t=te(t.type.render,!1),t;case 1:return t=te(t.type,!0),t;default:return""}}function se(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case V:return"Portal";case W:return"Profiler";case O:return"StrictMode";case X:return"Suspense";case N:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Q:return(t.displayName||"Context")+".Consumer";case U:return(t._context.displayName||"Context")+".Provider";case Z:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return r=t.displayName||null,r!==null?r:se(t.type)||"Memo";case $:r=t._payload,t=t._init;try{return se(t(r))}catch{}}return null}function re(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(r);case 8:return r===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function ue(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function de(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Me(t){var r=de(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),c=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var p=s.get,w=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return p.call(this)},set:function(E){c=""+E,w.call(this,E)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ce(t){t._valueTracker||(t._valueTracker=Me(t))}function be(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),c="";return t&&(c=de(t)?t.checked?"true":"false":t.value),t=c,t!==s?(r.setValue(t),!0):!1}function De(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $e(t,r){var s=r.checked;return R({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function rt(t,r){var s=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;s=ue(r.value!=null?r.value:s),t._wrapperState={initialChecked:c,initialValue:s,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Ct(t,r){r=r.checked,r!=null&&C(t,"checked",r,!1)}function Er(t,r){Ct(t,r);var s=ue(r.value),c=r.type;if(s!=null)c==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?kr(t,r.type,s):r.hasOwnProperty("defaultValue")&&kr(t,r.type,ue(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function to(t,r,s){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,s||r===t.value||(t.value=r),t.defaultValue=r}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function kr(t,r,s){(r!=="number"||De(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var en=Array.isArray;function pn(t,r,s,c){if(t=t.options,r){r={};for(var p=0;p<s.length;p++)r["$"+s[p]]=!0;for(s=0;s<t.length;s++)p=r.hasOwnProperty("$"+t[s].value),t[s].selected!==p&&(t[s].selected=p),p&&c&&(t[s].defaultSelected=!0)}else{for(s=""+ue(s),r=null,p=0;p<t.length;p++){if(t[p].value===s){t[p].selected=!0,c&&(t[p].defaultSelected=!0);return}r!==null||t[p].disabled||(r=t[p])}r!==null&&(r.selected=!0)}}function Cn(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(o(91));return R({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Bn(t,r){var s=r.value;if(s==null){if(s=r.children,r=r.defaultValue,s!=null){if(r!=null)throw Error(o(92));if(en(s)){if(1<s.length)throw Error(o(93));s=s[0]}r=s}r==null&&(r=""),s=r}t._wrapperState={initialValue:ue(s)}}function no(t,r){var s=ue(r.value),c=ue(r.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),r.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),c!=null&&(t.defaultValue=""+c)}function Vn(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function Hn(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wn(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?Hn(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ro,oo=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,s,c,p){MSApp.execUnsafeLocalFunction(function(){return t(r,s,c,p)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(ro=ro||document.createElement("div"),ro.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=ro.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Cr(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var _r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},La=["Webkit","ms","Moz","O"];Object.keys(_r).forEach(function(t){La.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),_r[r]=_r[t]})});function xs(t,r,s){return r==null||typeof r=="boolean"||r===""?"":s||typeof r!="number"||r===0||_r.hasOwnProperty(t)&&_r[t]?(""+r).trim():r+"px"}function ws(t,r){t=t.style;for(var s in r)if(r.hasOwnProperty(s)){var c=s.indexOf("--")===0,p=xs(s,r[s],c);s==="float"&&(s="cssFloat"),c?t.setProperty(s,p):t[s]=p}}var za=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ti(t,r){if(r){if(za[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(o(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(o(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(o(61))}if(r.style!=null&&typeof r.style!="object")throw Error(o(62))}}function ni(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ri=null;function oi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ii=null,Un=null,Yn=null;function bs(t){if(t=Mi(t)){if(typeof ii!="function")throw Error(o(280));var r=t.stateNode;r&&(r=Qs(r),ii(t.stateNode,t.type,r))}}function si(t){Un?Yn?Yn.push(t):Yn=[t]:Un=t}function Ss(){if(Un){var t=Un,r=Yn;if(Yn=Un=null,bs(t),r)for(t=0;t<r.length;t++)bs(r[t])}}function Es(t,r){return t(r)}function ks(){}var li=!1;function Cs(t,r,s){if(li)return t(r,s);li=!0;try{return Es(t,r,s)}finally{li=!1,(Un!==null||Yn!==null)&&(ks(),Ss())}}function Ir(t,r){var s=t.stateNode;if(s===null)return null;var c=Qs(s);if(c===null)return null;s=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(o(231,r,typeof s));return s}var ai=!1;if(d)try{var Nr={};Object.defineProperty(Nr,"passive",{get:function(){ai=!0}}),window.addEventListener("test",Nr,Nr),window.removeEventListener("test",Nr,Nr)}catch{ai=!1}function Ra(t,r,s,c,p,w,E,z,H){var J=Array.prototype.slice.call(arguments,3);try{r.apply(s,J)}catch(ie){this.onError(ie)}}var Mr=!1,io=null,so=!1,ci=null,$a={onError:function(t){Mr=!0,io=t}};function Oa(t,r,s,c,p,w,E,z,H){Mr=!1,io=null,Ra.apply($a,arguments)}function _s(t,r,s,c,p,w,E,z,H){if(Oa.apply(this,arguments),Mr){if(Mr){var J=io;Mr=!1,io=null}else throw Error(o(198));so||(so=!0,ci=J)}}function hn(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function Is(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Ns(t){if(hn(t)!==t)throw Error(o(188))}function Fa(t){var r=t.alternate;if(!r){if(r=hn(t),r===null)throw Error(o(188));return r!==t?null:t}for(var s=t,c=r;;){var p=s.return;if(p===null)break;var w=p.alternate;if(w===null){if(c=p.return,c!==null){s=c;continue}break}if(p.child===w.child){for(w=p.child;w;){if(w===s)return Ns(p),t;if(w===c)return Ns(p),r;w=w.sibling}throw Error(o(188))}if(s.return!==c.return)s=p,c=w;else{for(var E=!1,z=p.child;z;){if(z===s){E=!0,s=p,c=w;break}if(z===c){E=!0,c=p,s=w;break}z=z.sibling}if(!E){for(z=w.child;z;){if(z===s){E=!0,s=w,c=p;break}if(z===c){E=!0,c=w,s=p;break}z=z.sibling}if(!E)throw Error(o(189))}}if(s.alternate!==c)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?t:r}function Ms(t){return t=Fa(t),t!==null?Ds(t):null}function Ds(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Ds(t);if(r!==null)return r;t=t.sibling}return null}var Ts=n.unstable_scheduleCallback,Ps=n.unstable_cancelCallback,js=n.unstable_shouldYield,Ba=n.unstable_requestPaint,Ze=n.unstable_now,Va=n.unstable_getCurrentPriorityLevel,ui=n.unstable_ImmediatePriority,As=n.unstable_UserBlockingPriority,lo=n.unstable_NormalPriority,Ha=n.unstable_LowPriority,di=n.unstable_IdlePriority,ao=null,Wt=null;function Wa(t){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(ao,t,void 0,(t.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:Ga,Ua=Math.log,Ya=Math.LN2;function Ga(t){return t>>>=0,t===0?32:31-(Ua(t)/Ya|0)|0}var _n=64,co=4194304;function Dr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gn(t,r){var s=t.pendingLanes;if(s===0)return 0;var c=0,p=t.suspendedLanes,w=t.pingedLanes,E=s&268435455;if(E!==0){var z=E&~p;z!==0?c=Dr(z):(w&=E,w!==0&&(c=Dr(w)))}else E=s&~p,E!==0?c=Dr(E):w!==0&&(c=Dr(w));if(c===0)return 0;if(r!==0&&r!==c&&!(r&p)&&(p=c&-c,w=r&-r,p>=w||p===16&&(w&4194240)!==0))return r;if(c&4&&(c|=s&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=c;0<r;)s=31-jt(r),p=1<<s,c|=t[s],r&=~p;return c}function Xa(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Za(t,r){for(var s=t.suspendedLanes,c=t.pingedLanes,p=t.expirationTimes,w=t.pendingLanes;0<w;){var E=31-jt(w),z=1<<E,H=p[E];H===-1?(!(z&s)||z&c)&&(p[E]=Xa(z,r)):H<=r&&(t.expiredLanes|=z),w&=~z}}function uo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rf(){var t=_n;return _n<<=1,!(_n&4194240)&&(_n=64),t}function Qa(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function fi(t,r,s){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-jt(r),t[r]=s}function yy(t,r){var s=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<s;){var p=31-jt(s),w=1<<p;r[p]=0,c[p]=-1,t[p]=-1,s&=~w}}function Ka(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var c=31-jt(s),p=1<<c;p&r|t[c]&r&&(t[c]|=r),s&=~p}}var Fe=0;function of(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sf,qa,lf,af,cf,Ja=!1,Ls=[],Xn=null,Zn=null,Qn=null,pi=new Map,hi=new Map,Kn=[],vy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uf(t,r){switch(t){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":pi.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":hi.delete(r.pointerId)}}function gi(t,r,s,c,p,w){return t===null||t.nativeEvent!==w?(t={blockedOn:r,domEventName:s,eventSystemFlags:c,nativeEvent:w,targetContainers:[p]},r!==null&&(r=Mi(r),r!==null&&qa(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),t)}function xy(t,r,s,c,p){switch(r){case"focusin":return Xn=gi(Xn,t,r,s,c,p),!0;case"dragenter":return Zn=gi(Zn,t,r,s,c,p),!0;case"mouseover":return Qn=gi(Qn,t,r,s,c,p),!0;case"pointerover":var w=p.pointerId;return pi.set(w,gi(pi.get(w)||null,t,r,s,c,p)),!0;case"gotpointercapture":return w=p.pointerId,hi.set(w,gi(hi.get(w)||null,t,r,s,c,p)),!0}return!1}function df(t){var r=Tr(t.target);if(r!==null){var s=hn(r);if(s!==null){if(r=s.tag,r===13){if(r=Is(s),r!==null){t.blockedOn=r,cf(t.priority,function(){lf(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zs(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=tc(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var c=new s.constructor(s.type,s);ri=c,s.target.dispatchEvent(c),ri=null}else return r=Mi(s),r!==null&&qa(r),t.blockedOn=s,!1;r.shift()}return!0}function ff(t,r,s){zs(t)&&s.delete(r)}function wy(){Ja=!1,Xn!==null&&zs(Xn)&&(Xn=null),Zn!==null&&zs(Zn)&&(Zn=null),Qn!==null&&zs(Qn)&&(Qn=null),pi.forEach(ff),hi.forEach(ff)}function mi(t,r){t.blockedOn===r&&(t.blockedOn=null,Ja||(Ja=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,wy)))}function yi(t){function r(p){return mi(p,t)}if(0<Ls.length){mi(Ls[0],t);for(var s=1;s<Ls.length;s++){var c=Ls[s];c.blockedOn===t&&(c.blockedOn=null)}}for(Xn!==null&&mi(Xn,t),Zn!==null&&mi(Zn,t),Qn!==null&&mi(Qn,t),pi.forEach(r),hi.forEach(r),s=0;s<Kn.length;s++)c=Kn[s],c.blockedOn===t&&(c.blockedOn=null);for(;0<Kn.length&&(s=Kn[0],s.blockedOn===null);)df(s),s.blockedOn===null&&Kn.shift()}var fo=_.ReactCurrentBatchConfig,Rs=!0;function by(t,r,s,c){var p=Fe,w=fo.transition;fo.transition=null;try{Fe=1,ec(t,r,s,c)}finally{Fe=p,fo.transition=w}}function Sy(t,r,s,c){var p=Fe,w=fo.transition;fo.transition=null;try{Fe=4,ec(t,r,s,c)}finally{Fe=p,fo.transition=w}}function ec(t,r,s,c){if(Rs){var p=tc(t,r,s,c);if(p===null)vc(t,r,c,$s,s),uf(t,c);else if(xy(p,t,r,s,c))c.stopPropagation();else if(uf(t,c),r&4&&-1<vy.indexOf(t)){for(;p!==null;){var w=Mi(p);if(w!==null&&sf(w),w=tc(t,r,s,c),w===null&&vc(t,r,c,$s,s),w===p)break;p=w}p!==null&&c.stopPropagation()}else vc(t,r,c,null,s)}}var $s=null;function tc(t,r,s,c){if($s=null,t=oi(c),t=Tr(t),t!==null)if(r=hn(t),r===null)t=null;else if(s=r.tag,s===13){if(t=Is(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return $s=t,null}function pf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Va()){case ui:return 1;case As:return 4;case lo:case Ha:return 16;case di:return 536870912;default:return 16}default:return 16}}var qn=null,nc=null,Os=null;function hf(){if(Os)return Os;var t,r=nc,s=r.length,c,p="value"in qn?qn.value:qn.textContent,w=p.length;for(t=0;t<s&&r[t]===p[t];t++);var E=s-t;for(c=1;c<=E&&r[s-c]===p[w-c];c++);return Os=p.slice(t,1<c?1-c:void 0)}function Fs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Bs(){return!0}function gf(){return!1}function At(t){function r(s,c,p,w,E){this._reactName=s,this._targetInst=p,this.type=c,this.nativeEvent=w,this.target=E,this.currentTarget=null;for(var z in t)t.hasOwnProperty(z)&&(s=t[z],this[z]=s?s(w):w[z]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Bs:gf,this.isPropagationStopped=gf,this}return R(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Bs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Bs)},persist:function(){},isPersistent:Bs}),r}var po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rc=At(po),vi=R({},po,{view:0,detail:0}),Ey=At(vi),oc,ic,xi,Vs=R({},vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xi&&(xi&&t.type==="mousemove"?(oc=t.screenX-xi.screenX,ic=t.screenY-xi.screenY):ic=oc=0,xi=t),oc)},movementY:function(t){return"movementY"in t?t.movementY:ic}}),mf=At(Vs),ky=R({},Vs,{dataTransfer:0}),Cy=At(ky),_y=R({},vi,{relatedTarget:0}),sc=At(_y),Iy=R({},po,{animationName:0,elapsedTime:0,pseudoElement:0}),Ny=At(Iy),My=R({},po,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Dy=At(My),Ty=R({},po,{data:0}),yf=At(Ty),Py={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ay={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ly(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ay[t])?!!r[t]:!1}function lc(){return Ly}var zy=R({},vi,{key:function(t){if(t.key){var r=Py[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Fs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lc,charCode:function(t){return t.type==="keypress"?Fs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ry=At(zy),$y=R({},Vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vf=At($y),Oy=R({},vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lc}),Fy=At(Oy),By=R({},po,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vy=At(By),Hy=R({},Vs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Wy=At(Hy),Uy=[9,13,27,32],ac=d&&"CompositionEvent"in window,wi=null;d&&"documentMode"in document&&(wi=document.documentMode);var Yy=d&&"TextEvent"in window&&!wi,xf=d&&(!ac||wi&&8<wi&&11>=wi),wf=" ",bf=!1;function Sf(t,r){switch(t){case"keyup":return Uy.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ef(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ho=!1;function Gy(t,r){switch(t){case"compositionend":return Ef(r);case"keypress":return r.which!==32?null:(bf=!0,wf);case"textInput":return t=r.data,t===wf&&bf?null:t;default:return null}}function Xy(t,r){if(ho)return t==="compositionend"||!ac&&Sf(t,r)?(t=hf(),Os=nc=qn=null,ho=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return xf&&r.locale!=="ko"?null:r.data;default:return null}}var Zy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Zy[t.type]:r==="textarea"}function Cf(t,r,s,c){si(c),r=Gs(r,"onChange"),0<r.length&&(s=new rc("onChange","change",null,s,c),t.push({event:s,listeners:r}))}var bi=null,Si=null;function Qy(t){Hf(t,0)}function Hs(t){var r=xo(t);if(be(r))return t}function Ky(t,r){if(t==="change")return r}var _f=!1;if(d){var cc;if(d){var uc="oninput"in document;if(!uc){var If=document.createElement("div");If.setAttribute("oninput","return;"),uc=typeof If.oninput=="function"}cc=uc}else cc=!1;_f=cc&&(!document.documentMode||9<document.documentMode)}function Nf(){bi&&(bi.detachEvent("onpropertychange",Mf),Si=bi=null)}function Mf(t){if(t.propertyName==="value"&&Hs(Si)){var r=[];Cf(r,Si,t,oi(t)),Cs(Qy,r)}}function qy(t,r,s){t==="focusin"?(Nf(),bi=r,Si=s,bi.attachEvent("onpropertychange",Mf)):t==="focusout"&&Nf()}function Jy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hs(Si)}function e1(t,r){if(t==="click")return Hs(r)}function t1(t,r){if(t==="input"||t==="change")return Hs(r)}function n1(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var tn=typeof Object.is=="function"?Object.is:n1;function Ei(t,r){if(tn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),c=Object.keys(r);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var p=s[c];if(!f.call(r,p)||!tn(t[p],r[p]))return!1}return!0}function Df(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tf(t,r){var s=Df(t);t=0;for(var c;s;){if(s.nodeType===3){if(c=t+s.textContent.length,t<=r&&c>=r)return{node:s,offset:r-t};t=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Df(s)}}function Pf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Pf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function jf(){for(var t=window,r=De();r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=De(t.document)}return r}function dc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function r1(t){var r=jf(),s=t.focusedElem,c=t.selectionRange;if(r!==s&&s&&s.ownerDocument&&Pf(s.ownerDocument.documentElement,s)){if(c!==null&&dc(s)){if(r=c.start,t=c.end,t===void 0&&(t=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(t,s.value.length);else if(t=(r=s.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var p=s.textContent.length,w=Math.min(c.start,p);c=c.end===void 0?w:Math.min(c.end,p),!t.extend&&w>c&&(p=c,c=w,w=p),p=Tf(s,w);var E=Tf(s,c);p&&E&&(t.rangeCount!==1||t.anchorNode!==p.node||t.anchorOffset!==p.offset||t.focusNode!==E.node||t.focusOffset!==E.offset)&&(r=r.createRange(),r.setStart(p.node,p.offset),t.removeAllRanges(),w>c?(t.addRange(r),t.extend(E.node,E.offset)):(r.setEnd(E.node,E.offset),t.addRange(r)))}}for(r=[],t=s;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)t=r[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var o1=d&&"documentMode"in document&&11>=document.documentMode,go=null,fc=null,ki=null,pc=!1;function Af(t,r,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;pc||go==null||go!==De(c)||(c=go,"selectionStart"in c&&dc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ki&&Ei(ki,c)||(ki=c,c=Gs(fc,"onSelect"),0<c.length&&(r=new rc("onSelect","select",null,r,s),t.push({event:r,listeners:c}),r.target=go)))}function Ws(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var mo={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionend:Ws("Transition","TransitionEnd")},hc={},Lf={};d&&(Lf=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function Us(t){if(hc[t])return hc[t];if(!mo[t])return t;var r=mo[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in Lf)return hc[t]=r[s];return t}var zf=Us("animationend"),Rf=Us("animationiteration"),$f=Us("animationstart"),Of=Us("transitionend"),Ff=new Map,Bf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jn(t,r){Ff.set(t,r),a(r,[t])}for(var gc=0;gc<Bf.length;gc++){var mc=Bf[gc],i1=mc.toLowerCase(),s1=mc[0].toUpperCase()+mc.slice(1);Jn(i1,"on"+s1)}Jn(zf,"onAnimationEnd"),Jn(Rf,"onAnimationIteration"),Jn($f,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(Of,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ci="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ci));function Vf(t,r,s){var c=t.type||"unknown-event";t.currentTarget=s,_s(c,r,void 0,t),t.currentTarget=null}function Hf(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var c=t[s],p=c.event;c=c.listeners;e:{var w=void 0;if(r)for(var E=c.length-1;0<=E;E--){var z=c[E],H=z.instance,J=z.currentTarget;if(z=z.listener,H!==w&&p.isPropagationStopped())break e;Vf(p,z,J),w=H}else for(E=0;E<c.length;E++){if(z=c[E],H=z.instance,J=z.currentTarget,z=z.listener,H!==w&&p.isPropagationStopped())break e;Vf(p,z,J),w=H}}}if(so)throw t=ci,so=!1,ci=null,t}function We(t,r){var s=r[kc];s===void 0&&(s=r[kc]=new Set);var c=t+"__bubble";s.has(c)||(Wf(r,t,2,!1),s.add(c))}function yc(t,r,s){var c=0;r&&(c|=4),Wf(s,t,c,r)}var Ys="_reactListening"+Math.random().toString(36).slice(2);function _i(t){if(!t[Ys]){t[Ys]=!0,i.forEach(function(s){s!=="selectionchange"&&(l1.has(s)||yc(s,!1,t),yc(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ys]||(r[Ys]=!0,yc("selectionchange",!1,r))}}function Wf(t,r,s,c){switch(pf(r)){case 1:var p=by;break;case 4:p=Sy;break;default:p=ec}s=p.bind(null,r,s,t),p=void 0,!ai||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),c?p!==void 0?t.addEventListener(r,s,{capture:!0,passive:p}):t.addEventListener(r,s,!0):p!==void 0?t.addEventListener(r,s,{passive:p}):t.addEventListener(r,s,!1)}function vc(t,r,s,c,p){var w=c;if(!(r&1)&&!(r&2)&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var z=c.stateNode.containerInfo;if(z===p||z.nodeType===8&&z.parentNode===p)break;if(E===4)for(E=c.return;E!==null;){var H=E.tag;if((H===3||H===4)&&(H=E.stateNode.containerInfo,H===p||H.nodeType===8&&H.parentNode===p))return;E=E.return}for(;z!==null;){if(E=Tr(z),E===null)return;if(H=E.tag,H===5||H===6){c=w=E;continue e}z=z.parentNode}}c=c.return}Cs(function(){var J=w,ie=oi(s),ae=[];e:{var oe=Ff.get(t);if(oe!==void 0){var fe=rc,me=t;switch(t){case"keypress":if(Fs(s)===0)break e;case"keydown":case"keyup":fe=Ry;break;case"focusin":me="focus",fe=sc;break;case"focusout":me="blur",fe=sc;break;case"beforeblur":case"afterblur":fe=sc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=mf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Cy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=Fy;break;case zf:case Rf:case $f:fe=Ny;break;case Of:fe=Vy;break;case"scroll":fe=Ey;break;case"wheel":fe=Wy;break;case"copy":case"cut":case"paste":fe=Dy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=vf}var ve=(r&4)!==0,nt=!ve&&t==="scroll",K=ve?oe!==null?oe+"Capture":null:oe;ve=[];for(var G=J,q;G!==null;){q=G;var ce=q.stateNode;if(q.tag===5&&ce!==null&&(q=ce,K!==null&&(ce=Ir(G,K),ce!=null&&ve.push(Ii(G,ce,q)))),nt)break;G=G.return}0<ve.length&&(oe=new fe(oe,me,null,s,ie),ae.push({event:oe,listeners:ve}))}}if(!(r&7)){e:{if(oe=t==="mouseover"||t==="pointerover",fe=t==="mouseout"||t==="pointerout",oe&&s!==ri&&(me=s.relatedTarget||s.fromElement)&&(Tr(me)||me[In]))break e;if((fe||oe)&&(oe=ie.window===ie?ie:(oe=ie.ownerDocument)?oe.defaultView||oe.parentWindow:window,fe?(me=s.relatedTarget||s.toElement,fe=J,me=me?Tr(me):null,me!==null&&(nt=hn(me),me!==nt||me.tag!==5&&me.tag!==6)&&(me=null)):(fe=null,me=J),fe!==me)){if(ve=mf,ce="onMouseLeave",K="onMouseEnter",G="mouse",(t==="pointerout"||t==="pointerover")&&(ve=vf,ce="onPointerLeave",K="onPointerEnter",G="pointer"),nt=fe==null?oe:xo(fe),q=me==null?oe:xo(me),oe=new ve(ce,G+"leave",fe,s,ie),oe.target=nt,oe.relatedTarget=q,ce=null,Tr(ie)===J&&(ve=new ve(K,G+"enter",me,s,ie),ve.target=q,ve.relatedTarget=nt,ce=ve),nt=ce,fe&&me)t:{for(ve=fe,K=me,G=0,q=ve;q;q=yo(q))G++;for(q=0,ce=K;ce;ce=yo(ce))q++;for(;0<G-q;)ve=yo(ve),G--;for(;0<q-G;)K=yo(K),q--;for(;G--;){if(ve===K||K!==null&&ve===K.alternate)break t;ve=yo(ve),K=yo(K)}ve=null}else ve=null;fe!==null&&Uf(ae,oe,fe,ve,!1),me!==null&&nt!==null&&Uf(ae,nt,me,ve,!0)}}e:{if(oe=J?xo(J):window,fe=oe.nodeName&&oe.nodeName.toLowerCase(),fe==="select"||fe==="input"&&oe.type==="file")var xe=Ky;else if(kf(oe))if(_f)xe=t1;else{xe=Jy;var Ee=qy}else(fe=oe.nodeName)&&fe.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(xe=e1);if(xe&&(xe=xe(t,J))){Cf(ae,xe,s,ie);break e}Ee&&Ee(t,oe,J),t==="focusout"&&(Ee=oe._wrapperState)&&Ee.controlled&&oe.type==="number"&&kr(oe,"number",oe.value)}switch(Ee=J?xo(J):window,t){case"focusin":(kf(Ee)||Ee.contentEditable==="true")&&(go=Ee,fc=J,ki=null);break;case"focusout":ki=fc=go=null;break;case"mousedown":pc=!0;break;case"contextmenu":case"mouseup":case"dragend":pc=!1,Af(ae,s,ie);break;case"selectionchange":if(o1)break;case"keydown":case"keyup":Af(ae,s,ie)}var ke;if(ac)e:{switch(t){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else ho?Sf(t,s)&&(Ie="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ie="onCompositionStart");Ie&&(xf&&s.locale!=="ko"&&(ho||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&ho&&(ke=hf()):(qn=ie,nc="value"in qn?qn.value:qn.textContent,ho=!0)),Ee=Gs(J,Ie),0<Ee.length&&(Ie=new yf(Ie,t,null,s,ie),ae.push({event:Ie,listeners:Ee}),ke?Ie.data=ke:(ke=Ef(s),ke!==null&&(Ie.data=ke)))),(ke=Yy?Gy(t,s):Xy(t,s))&&(J=Gs(J,"onBeforeInput"),0<J.length&&(ie=new yf("onBeforeInput","beforeinput",null,s,ie),ae.push({event:ie,listeners:J}),ie.data=ke))}Hf(ae,r)})}function Ii(t,r,s){return{instance:t,listener:r,currentTarget:s}}function Gs(t,r){for(var s=r+"Capture",c=[];t!==null;){var p=t,w=p.stateNode;p.tag===5&&w!==null&&(p=w,w=Ir(t,s),w!=null&&c.unshift(Ii(t,w,p)),w=Ir(t,r),w!=null&&c.push(Ii(t,w,p))),t=t.return}return c}function yo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Uf(t,r,s,c,p){for(var w=r._reactName,E=[];s!==null&&s!==c;){var z=s,H=z.alternate,J=z.stateNode;if(H!==null&&H===c)break;z.tag===5&&J!==null&&(z=J,p?(H=Ir(s,w),H!=null&&E.unshift(Ii(s,H,z))):p||(H=Ir(s,w),H!=null&&E.push(Ii(s,H,z)))),s=s.return}E.length!==0&&t.push({event:r,listeners:E})}var a1=/\r\n?/g,c1=/\u0000|\uFFFD/g;function Yf(t){return(typeof t=="string"?t:""+t).replace(a1,`
`).replace(c1,"")}function Xs(t,r,s){if(r=Yf(r),Yf(t)!==r&&s)throw Error(o(425))}function Zs(){}var xc=null,wc=null;function bc(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Sc=typeof setTimeout=="function"?setTimeout:void 0,u1=typeof clearTimeout=="function"?clearTimeout:void 0,Gf=typeof Promise=="function"?Promise:void 0,d1=typeof queueMicrotask=="function"?queueMicrotask:typeof Gf<"u"?function(t){return Gf.resolve(null).then(t).catch(f1)}:Sc;function f1(t){setTimeout(function(){throw t})}function Ec(t,r){var s=r,c=0;do{var p=s.nextSibling;if(t.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"){if(c===0){t.removeChild(p),yi(r);return}c--}else s!=="$"&&s!=="$?"&&s!=="$!"||c++;s=p}while(s);yi(r)}function er(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Xf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}var vo=Math.random().toString(36).slice(2),gn="__reactFiber$"+vo,Ni="__reactProps$"+vo,In="__reactContainer$"+vo,kc="__reactEvents$"+vo,p1="__reactListeners$"+vo,h1="__reactHandles$"+vo;function Tr(t){var r=t[gn];if(r)return r;for(var s=t.parentNode;s;){if(r=s[In]||s[gn]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=Xf(t);t!==null;){if(s=t[gn])return s;t=Xf(t)}return r}t=s,s=t.parentNode}return null}function Mi(t){return t=t[gn]||t[In],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(o(33))}function Qs(t){return t[Ni]||null}var Cc=[],wo=-1;function tr(t){return{current:t}}function Ue(t){0>wo||(t.current=Cc[wo],Cc[wo]=null,wo--)}function He(t,r){wo++,Cc[wo]=t.current,t.current=r}var nr={},vt=tr(nr),_t=tr(!1),Pr=nr;function bo(t,r){var s=t.type.contextTypes;if(!s)return nr;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var p={},w;for(w in s)p[w]=r[w];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=p),p}function It(t){return t=t.childContextTypes,t!=null}function Ks(){Ue(_t),Ue(vt)}function Zf(t,r,s){if(vt.current!==nr)throw Error(o(168));He(vt,r),He(_t,s)}function Qf(t,r,s){var c=t.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return s;c=c.getChildContext();for(var p in c)if(!(p in r))throw Error(o(108,re(t)||"Unknown",p));return R({},s,c)}function qs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||nr,Pr=vt.current,He(vt,t),He(_t,_t.current),!0}function Kf(t,r,s){var c=t.stateNode;if(!c)throw Error(o(169));s?(t=Qf(t,r,Pr),c.__reactInternalMemoizedMergedChildContext=t,Ue(_t),Ue(vt),He(vt,t)):Ue(_t),He(_t,s)}var Nn=null,Js=!1,_c=!1;function qf(t){Nn===null?Nn=[t]:Nn.push(t)}function g1(t){Js=!0,qf(t)}function rr(){if(!_c&&Nn!==null){_c=!0;var t=0,r=Fe;try{var s=Nn;for(Fe=1;t<s.length;t++){var c=s[t];do c=c(!0);while(c!==null)}Nn=null,Js=!1}catch(p){throw Nn!==null&&(Nn=Nn.slice(t+1)),Ts(ui,rr),p}finally{Fe=r,_c=!1}}return null}var So=[],Eo=0,el=null,tl=0,Ut=[],Yt=0,jr=null,Mn=1,Dn="";function Ar(t,r){So[Eo++]=tl,So[Eo++]=el,el=t,tl=r}function Jf(t,r,s){Ut[Yt++]=Mn,Ut[Yt++]=Dn,Ut[Yt++]=jr,jr=t;var c=Mn;t=Dn;var p=32-jt(c)-1;c&=~(1<<p),s+=1;var w=32-jt(r)+p;if(30<w){var E=p-p%5;w=(c&(1<<E)-1).toString(32),c>>=E,p-=E,Mn=1<<32-jt(r)+p|s<<p|c,Dn=w+t}else Mn=1<<w|s<<p|c,Dn=t}function Ic(t){t.return!==null&&(Ar(t,1),Jf(t,1,0))}function Nc(t){for(;t===el;)el=So[--Eo],So[Eo]=null,tl=So[--Eo],So[Eo]=null;for(;t===jr;)jr=Ut[--Yt],Ut[Yt]=null,Dn=Ut[--Yt],Ut[Yt]=null,Mn=Ut[--Yt],Ut[Yt]=null}var Lt=null,zt=null,Ge=!1,nn=null;function ep(t,r){var s=Qt(5,null,null,0);s.elementType="DELETED",s.stateNode=r,s.return=t,r=t.deletions,r===null?(t.deletions=[s],t.flags|=16):r.push(s)}function tp(t,r){switch(t.tag){case 5:var s=t.type;return r=r.nodeType!==1||s.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Lt=t,zt=er(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Lt=t,zt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(s=jr!==null?{id:Mn,overflow:Dn}:null,t.memoizedState={dehydrated:r,treeContext:s,retryLane:1073741824},s=Qt(18,null,null,0),s.stateNode=r,s.return=t,t.child=s,Lt=t,zt=null,!0):!1;default:return!1}}function Mc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dc(t){if(Ge){var r=zt;if(r){var s=r;if(!tp(t,r)){if(Mc(t))throw Error(o(418));r=er(s.nextSibling);var c=Lt;r&&tp(t,r)?ep(c,s):(t.flags=t.flags&-4097|2,Ge=!1,Lt=t)}}else{if(Mc(t))throw Error(o(418));t.flags=t.flags&-4097|2,Ge=!1,Lt=t}}}function np(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Lt=t}function nl(t){if(t!==Lt)return!1;if(!Ge)return np(t),Ge=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!bc(t.type,t.memoizedProps)),r&&(r=zt)){if(Mc(t))throw rp(),Error(o(418));for(;r;)ep(t,r),r=er(r.nextSibling)}if(np(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(r===0){zt=er(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++}t=t.nextSibling}zt=null}}else zt=Lt?er(t.stateNode.nextSibling):null;return!0}function rp(){for(var t=zt;t;)t=er(t.nextSibling)}function ko(){zt=Lt=null,Ge=!1}function Tc(t){nn===null?nn=[t]:nn.push(t)}var m1=_.ReactCurrentBatchConfig;function Di(t,r,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(o(309));var c=s.stateNode}if(!c)throw Error(o(147,t));var p=c,w=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===w?r.ref:(r=function(E){var z=p.refs;E===null?delete z[w]:z[w]=E},r._stringRef=w,r)}if(typeof t!="string")throw Error(o(284));if(!s._owner)throw Error(o(290,t))}return t}function rl(t,r){throw t=Object.prototype.toString.call(r),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function op(t){var r=t._init;return r(t._payload)}function ip(t){function r(K,G){if(t){var q=K.deletions;q===null?(K.deletions=[G],K.flags|=16):q.push(G)}}function s(K,G){if(!t)return null;for(;G!==null;)r(K,G),G=G.sibling;return null}function c(K,G){for(K=new Map;G!==null;)G.key!==null?K.set(G.key,G):K.set(G.index,G),G=G.sibling;return K}function p(K,G){return K=dr(K,G),K.index=0,K.sibling=null,K}function w(K,G,q){return K.index=q,t?(q=K.alternate,q!==null?(q=q.index,q<G?(K.flags|=2,G):q):(K.flags|=2,G)):(K.flags|=1048576,G)}function E(K){return t&&K.alternate===null&&(K.flags|=2),K}function z(K,G,q,ce){return G===null||G.tag!==6?(G=Su(q,K.mode,ce),G.return=K,G):(G=p(G,q),G.return=K,G)}function H(K,G,q,ce){var xe=q.type;return xe===P?ie(K,G,q.props.children,ce,q.key):G!==null&&(G.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===$&&op(xe)===G.type)?(ce=p(G,q.props),ce.ref=Di(K,G,q),ce.return=K,ce):(ce=Il(q.type,q.key,q.props,null,K.mode,ce),ce.ref=Di(K,G,q),ce.return=K,ce)}function J(K,G,q,ce){return G===null||G.tag!==4||G.stateNode.containerInfo!==q.containerInfo||G.stateNode.implementation!==q.implementation?(G=Eu(q,K.mode,ce),G.return=K,G):(G=p(G,q.children||[]),G.return=K,G)}function ie(K,G,q,ce,xe){return G===null||G.tag!==7?(G=Vr(q,K.mode,ce,xe),G.return=K,G):(G=p(G,q),G.return=K,G)}function ae(K,G,q){if(typeof G=="string"&&G!==""||typeof G=="number")return G=Su(""+G,K.mode,q),G.return=K,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case F:return q=Il(G.type,G.key,G.props,null,K.mode,q),q.ref=Di(K,null,G),q.return=K,q;case V:return G=Eu(G,K.mode,q),G.return=K,G;case $:var ce=G._init;return ae(K,ce(G._payload),q)}if(en(G)||A(G))return G=Vr(G,K.mode,q,null),G.return=K,G;rl(K,G)}return null}function oe(K,G,q,ce){var xe=G!==null?G.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return xe!==null?null:z(K,G,""+q,ce);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case F:return q.key===xe?H(K,G,q,ce):null;case V:return q.key===xe?J(K,G,q,ce):null;case $:return xe=q._init,oe(K,G,xe(q._payload),ce)}if(en(q)||A(q))return xe!==null?null:ie(K,G,q,ce,null);rl(K,q)}return null}function fe(K,G,q,ce,xe){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return K=K.get(q)||null,z(G,K,""+ce,xe);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case F:return K=K.get(ce.key===null?q:ce.key)||null,H(G,K,ce,xe);case V:return K=K.get(ce.key===null?q:ce.key)||null,J(G,K,ce,xe);case $:var Ee=ce._init;return fe(K,G,q,Ee(ce._payload),xe)}if(en(ce)||A(ce))return K=K.get(q)||null,ie(G,K,ce,xe,null);rl(G,ce)}return null}function me(K,G,q,ce){for(var xe=null,Ee=null,ke=G,Ie=G=0,dt=null;ke!==null&&Ie<q.length;Ie++){ke.index>Ie?(dt=ke,ke=null):dt=ke.sibling;var Re=oe(K,ke,q[Ie],ce);if(Re===null){ke===null&&(ke=dt);break}t&&ke&&Re.alternate===null&&r(K,ke),G=w(Re,G,Ie),Ee===null?xe=Re:Ee.sibling=Re,Ee=Re,ke=dt}if(Ie===q.length)return s(K,ke),Ge&&Ar(K,Ie),xe;if(ke===null){for(;Ie<q.length;Ie++)ke=ae(K,q[Ie],ce),ke!==null&&(G=w(ke,G,Ie),Ee===null?xe=ke:Ee.sibling=ke,Ee=ke);return Ge&&Ar(K,Ie),xe}for(ke=c(K,ke);Ie<q.length;Ie++)dt=fe(ke,K,Ie,q[Ie],ce),dt!==null&&(t&&dt.alternate!==null&&ke.delete(dt.key===null?Ie:dt.key),G=w(dt,G,Ie),Ee===null?xe=dt:Ee.sibling=dt,Ee=dt);return t&&ke.forEach(function(fr){return r(K,fr)}),Ge&&Ar(K,Ie),xe}function ve(K,G,q,ce){var xe=A(q);if(typeof xe!="function")throw Error(o(150));if(q=xe.call(q),q==null)throw Error(o(151));for(var Ee=xe=null,ke=G,Ie=G=0,dt=null,Re=q.next();ke!==null&&!Re.done;Ie++,Re=q.next()){ke.index>Ie?(dt=ke,ke=null):dt=ke.sibling;var fr=oe(K,ke,Re.value,ce);if(fr===null){ke===null&&(ke=dt);break}t&&ke&&fr.alternate===null&&r(K,ke),G=w(fr,G,Ie),Ee===null?xe=fr:Ee.sibling=fr,Ee=fr,ke=dt}if(Re.done)return s(K,ke),Ge&&Ar(K,Ie),xe;if(ke===null){for(;!Re.done;Ie++,Re=q.next())Re=ae(K,Re.value,ce),Re!==null&&(G=w(Re,G,Ie),Ee===null?xe=Re:Ee.sibling=Re,Ee=Re);return Ge&&Ar(K,Ie),xe}for(ke=c(K,ke);!Re.done;Ie++,Re=q.next())Re=fe(ke,K,Ie,Re.value,ce),Re!==null&&(t&&Re.alternate!==null&&ke.delete(Re.key===null?Ie:Re.key),G=w(Re,G,Ie),Ee===null?xe=Re:Ee.sibling=Re,Ee=Re);return t&&ke.forEach(function(X1){return r(K,X1)}),Ge&&Ar(K,Ie),xe}function nt(K,G,q,ce){if(typeof q=="object"&&q!==null&&q.type===P&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case F:e:{for(var xe=q.key,Ee=G;Ee!==null;){if(Ee.key===xe){if(xe=q.type,xe===P){if(Ee.tag===7){s(K,Ee.sibling),G=p(Ee,q.props.children),G.return=K,K=G;break e}}else if(Ee.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===$&&op(xe)===Ee.type){s(K,Ee.sibling),G=p(Ee,q.props),G.ref=Di(K,Ee,q),G.return=K,K=G;break e}s(K,Ee);break}else r(K,Ee);Ee=Ee.sibling}q.type===P?(G=Vr(q.props.children,K.mode,ce,q.key),G.return=K,K=G):(ce=Il(q.type,q.key,q.props,null,K.mode,ce),ce.ref=Di(K,G,q),ce.return=K,K=ce)}return E(K);case V:e:{for(Ee=q.key;G!==null;){if(G.key===Ee)if(G.tag===4&&G.stateNode.containerInfo===q.containerInfo&&G.stateNode.implementation===q.implementation){s(K,G.sibling),G=p(G,q.children||[]),G.return=K,K=G;break e}else{s(K,G);break}else r(K,G);G=G.sibling}G=Eu(q,K.mode,ce),G.return=K,K=G}return E(K);case $:return Ee=q._init,nt(K,G,Ee(q._payload),ce)}if(en(q))return me(K,G,q,ce);if(A(q))return ve(K,G,q,ce);rl(K,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,G!==null&&G.tag===6?(s(K,G.sibling),G=p(G,q),G.return=K,K=G):(s(K,G),G=Su(q,K.mode,ce),G.return=K,K=G),E(K)):s(K,G)}return nt}var Co=ip(!0),sp=ip(!1),ol=tr(null),il=null,_o=null,Pc=null;function jc(){Pc=_o=il=null}function Ac(t){var r=ol.current;Ue(ol),t._currentValue=r}function Lc(t,r,s){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===s)break;t=t.return}}function Io(t,r){il=t,Pc=_o=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Nt=!0),t.firstContext=null)}function Gt(t){var r=t._currentValue;if(Pc!==t)if(t={context:t,memoizedValue:r,next:null},_o===null){if(il===null)throw Error(o(308));_o=t,il.dependencies={lanes:0,firstContext:t}}else _o=_o.next=t;return r}var Lr=null;function zc(t){Lr===null?Lr=[t]:Lr.push(t)}function lp(t,r,s,c){var p=r.interleaved;return p===null?(s.next=s,zc(r)):(s.next=p.next,p.next=s),r.interleaved=s,Tn(t,c)}function Tn(t,r){t.lanes|=r;var s=t.alternate;for(s!==null&&(s.lanes|=r),s=t,t=t.return;t!==null;)t.childLanes|=r,s=t.alternate,s!==null&&(s.childLanes|=r),s=t,t=t.return;return s.tag===3?s.stateNode:null}var or=!1;function Rc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ap(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pn(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function ir(t,r,s){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,Le&2){var p=c.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),c.pending=r,Tn(t,s)}return p=c.interleaved,p===null?(r.next=r,zc(c)):(r.next=p.next,p.next=r),c.interleaved=r,Tn(t,s)}function sl(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194240)!==0)){var c=r.lanes;c&=t.pendingLanes,s|=c,r.lanes=s,Ka(t,s)}}function cp(t,r){var s=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var p=null,w=null;if(s=s.firstBaseUpdate,s!==null){do{var E={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};w===null?p=w=E:w=w.next=E,s=s.next}while(s!==null);w===null?p=w=r:w=w.next=r}else p=w=r;s={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:w,shared:c.shared,effects:c.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}function ll(t,r,s,c){var p=t.updateQueue;or=!1;var w=p.firstBaseUpdate,E=p.lastBaseUpdate,z=p.shared.pending;if(z!==null){p.shared.pending=null;var H=z,J=H.next;H.next=null,E===null?w=J:E.next=J,E=H;var ie=t.alternate;ie!==null&&(ie=ie.updateQueue,z=ie.lastBaseUpdate,z!==E&&(z===null?ie.firstBaseUpdate=J:z.next=J,ie.lastBaseUpdate=H))}if(w!==null){var ae=p.baseState;E=0,ie=J=H=null,z=w;do{var oe=z.lane,fe=z.eventTime;if((c&oe)===oe){ie!==null&&(ie=ie.next={eventTime:fe,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var me=t,ve=z;switch(oe=r,fe=s,ve.tag){case 1:if(me=ve.payload,typeof me=="function"){ae=me.call(fe,ae,oe);break e}ae=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ve.payload,oe=typeof me=="function"?me.call(fe,ae,oe):me,oe==null)break e;ae=R({},ae,oe);break e;case 2:or=!0}}z.callback!==null&&z.lane!==0&&(t.flags|=64,oe=p.effects,oe===null?p.effects=[z]:oe.push(z))}else fe={eventTime:fe,lane:oe,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ie===null?(J=ie=fe,H=ae):ie=ie.next=fe,E|=oe;if(z=z.next,z===null){if(z=p.shared.pending,z===null)break;oe=z,z=oe.next,oe.next=null,p.lastBaseUpdate=oe,p.shared.pending=null}}while(!0);if(ie===null&&(H=ae),p.baseState=H,p.firstBaseUpdate=J,p.lastBaseUpdate=ie,r=p.shared.interleaved,r!==null){p=r;do E|=p.lane,p=p.next;while(p!==r)}else w===null&&(p.shared.lanes=0);$r|=E,t.lanes=E,t.memoizedState=ae}}function up(t,r,s){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var c=t[r],p=c.callback;if(p!==null){if(c.callback=null,c=s,typeof p!="function")throw Error(o(191,p));p.call(c)}}}var Ti={},mn=tr(Ti),Pi=tr(Ti),ji=tr(Ti);function zr(t){if(t===Ti)throw Error(o(174));return t}function $c(t,r){switch(He(ji,r),He(Pi,t),He(mn,Ti),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Wn(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=Wn(r,t)}Ue(mn),He(mn,r)}function No(){Ue(mn),Ue(Pi),Ue(ji)}function dp(t){zr(ji.current);var r=zr(mn.current),s=Wn(r,t.type);r!==s&&(He(Pi,t),He(mn,s))}function Oc(t){Pi.current===t&&(Ue(mn),Ue(Pi))}var Qe=tr(0);function al(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Fc=[];function Bc(){for(var t=0;t<Fc.length;t++)Fc[t]._workInProgressVersionPrimary=null;Fc.length=0}var cl=_.ReactCurrentDispatcher,Vc=_.ReactCurrentBatchConfig,Rr=0,Ke=null,lt=null,ct=null,ul=!1,Ai=!1,Li=0,y1=0;function xt(){throw Error(o(321))}function Hc(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!tn(t[s],r[s]))return!1;return!0}function Wc(t,r,s,c,p,w){if(Rr=w,Ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,cl.current=t===null||t.memoizedState===null?b1:S1,t=s(c,p),Ai){w=0;do{if(Ai=!1,Li=0,25<=w)throw Error(o(301));w+=1,ct=lt=null,r.updateQueue=null,cl.current=E1,t=s(c,p)}while(Ai)}if(cl.current=pl,r=lt!==null&&lt.next!==null,Rr=0,ct=lt=Ke=null,ul=!1,r)throw Error(o(300));return t}function Uc(){var t=Li!==0;return Li=0,t}function yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ke.memoizedState=ct=t:ct=ct.next=t,ct}function Xt(){if(lt===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var r=ct===null?Ke.memoizedState:ct.next;if(r!==null)ct=r,lt=t;else{if(t===null)throw Error(o(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},ct===null?Ke.memoizedState=ct=t:ct=ct.next=t}return ct}function zi(t,r){return typeof r=="function"?r(t):r}function Yc(t){var r=Xt(),s=r.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=t;var c=lt,p=c.baseQueue,w=s.pending;if(w!==null){if(p!==null){var E=p.next;p.next=w.next,w.next=E}c.baseQueue=p=w,s.pending=null}if(p!==null){w=p.next,c=c.baseState;var z=E=null,H=null,J=w;do{var ie=J.lane;if((Rr&ie)===ie)H!==null&&(H=H.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),c=J.hasEagerState?J.eagerState:t(c,J.action);else{var ae={lane:ie,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};H===null?(z=H=ae,E=c):H=H.next=ae,Ke.lanes|=ie,$r|=ie}J=J.next}while(J!==null&&J!==w);H===null?E=c:H.next=z,tn(c,r.memoizedState)||(Nt=!0),r.memoizedState=c,r.baseState=E,r.baseQueue=H,s.lastRenderedState=c}if(t=s.interleaved,t!==null){p=t;do w=p.lane,Ke.lanes|=w,$r|=w,p=p.next;while(p!==t)}else p===null&&(s.lanes=0);return[r.memoizedState,s.dispatch]}function Gc(t){var r=Xt(),s=r.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=t;var c=s.dispatch,p=s.pending,w=r.memoizedState;if(p!==null){s.pending=null;var E=p=p.next;do w=t(w,E.action),E=E.next;while(E!==p);tn(w,r.memoizedState)||(Nt=!0),r.memoizedState=w,r.baseQueue===null&&(r.baseState=w),s.lastRenderedState=w}return[w,c]}function fp(){}function pp(t,r){var s=Ke,c=Xt(),p=r(),w=!tn(c.memoizedState,p);if(w&&(c.memoizedState=p,Nt=!0),c=c.queue,Xc(mp.bind(null,s,c,t),[t]),c.getSnapshot!==r||w||ct!==null&&ct.memoizedState.tag&1){if(s.flags|=2048,Ri(9,gp.bind(null,s,c,p,r),void 0,null),ut===null)throw Error(o(349));Rr&30||hp(s,r,p)}return p}function hp(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=Ke.updateQueue,r===null?(r={lastEffect:null,stores:null},Ke.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function gp(t,r,s,c){r.value=s,r.getSnapshot=c,yp(r)&&vp(t)}function mp(t,r,s){return s(function(){yp(r)&&vp(t)})}function yp(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!tn(t,s)}catch{return!0}}function vp(t){var r=Tn(t,1);r!==null&&ln(r,t,1,-1)}function xp(t){var r=yn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:t},r.queue=t,t=t.dispatch=w1.bind(null,Ke,t),[r.memoizedState,t]}function Ri(t,r,s,c){return t={tag:t,create:r,destroy:s,deps:c,next:null},r=Ke.updateQueue,r===null?(r={lastEffect:null,stores:null},Ke.updateQueue=r,r.lastEffect=t.next=t):(s=r.lastEffect,s===null?r.lastEffect=t.next=t:(c=s.next,s.next=t,t.next=c,r.lastEffect=t)),t}function wp(){return Xt().memoizedState}function dl(t,r,s,c){var p=yn();Ke.flags|=t,p.memoizedState=Ri(1|r,s,void 0,c===void 0?null:c)}function fl(t,r,s,c){var p=Xt();c=c===void 0?null:c;var w=void 0;if(lt!==null){var E=lt.memoizedState;if(w=E.destroy,c!==null&&Hc(c,E.deps)){p.memoizedState=Ri(r,s,w,c);return}}Ke.flags|=t,p.memoizedState=Ri(1|r,s,w,c)}function bp(t,r){return dl(8390656,8,t,r)}function Xc(t,r){return fl(2048,8,t,r)}function Sp(t,r){return fl(4,2,t,r)}function Ep(t,r){return fl(4,4,t,r)}function kp(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Cp(t,r,s){return s=s!=null?s.concat([t]):null,fl(4,4,kp.bind(null,r,t),s)}function Zc(){}function _p(t,r){var s=Xt();r=r===void 0?null:r;var c=s.memoizedState;return c!==null&&r!==null&&Hc(r,c[1])?c[0]:(s.memoizedState=[t,r],t)}function Ip(t,r){var s=Xt();r=r===void 0?null:r;var c=s.memoizedState;return c!==null&&r!==null&&Hc(r,c[1])?c[0]:(t=t(),s.memoizedState=[t,r],t)}function Np(t,r,s){return Rr&21?(tn(s,r)||(s=rf(),Ke.lanes|=s,$r|=s,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Nt=!0),t.memoizedState=s)}function v1(t,r){var s=Fe;Fe=s!==0&&4>s?s:4,t(!0);var c=Vc.transition;Vc.transition={};try{t(!1),r()}finally{Fe=s,Vc.transition=c}}function Mp(){return Xt().memoizedState}function x1(t,r,s){var c=cr(t);if(s={lane:c,action:s,hasEagerState:!1,eagerState:null,next:null},Dp(t))Tp(r,s);else if(s=lp(t,r,s,c),s!==null){var p=Et();ln(s,t,c,p),Pp(s,r,c)}}function w1(t,r,s){var c=cr(t),p={lane:c,action:s,hasEagerState:!1,eagerState:null,next:null};if(Dp(t))Tp(r,p);else{var w=t.alternate;if(t.lanes===0&&(w===null||w.lanes===0)&&(w=r.lastRenderedReducer,w!==null))try{var E=r.lastRenderedState,z=w(E,s);if(p.hasEagerState=!0,p.eagerState=z,tn(z,E)){var H=r.interleaved;H===null?(p.next=p,zc(r)):(p.next=H.next,H.next=p),r.interleaved=p;return}}catch{}finally{}s=lp(t,r,p,c),s!==null&&(p=Et(),ln(s,t,c,p),Pp(s,r,c))}}function Dp(t){var r=t.alternate;return t===Ke||r!==null&&r===Ke}function Tp(t,r){Ai=ul=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function Pp(t,r,s){if(s&4194240){var c=r.lanes;c&=t.pendingLanes,s|=c,r.lanes=s,Ka(t,s)}}var pl={readContext:Gt,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},b1={readContext:Gt,useCallback:function(t,r){return yn().memoizedState=[t,r===void 0?null:r],t},useContext:Gt,useEffect:bp,useImperativeHandle:function(t,r,s){return s=s!=null?s.concat([t]):null,dl(4194308,4,kp.bind(null,r,t),s)},useLayoutEffect:function(t,r){return dl(4194308,4,t,r)},useInsertionEffect:function(t,r){return dl(4,2,t,r)},useMemo:function(t,r){var s=yn();return r=r===void 0?null:r,t=t(),s.memoizedState=[t,r],t},useReducer:function(t,r,s){var c=yn();return r=s!==void 0?s(r):r,c.memoizedState=c.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},c.queue=t,t=t.dispatch=x1.bind(null,Ke,t),[c.memoizedState,t]},useRef:function(t){var r=yn();return t={current:t},r.memoizedState=t},useState:xp,useDebugValue:Zc,useDeferredValue:function(t){return yn().memoizedState=t},useTransition:function(){var t=xp(!1),r=t[0];return t=v1.bind(null,t[1]),yn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,s){var c=Ke,p=yn();if(Ge){if(s===void 0)throw Error(o(407));s=s()}else{if(s=r(),ut===null)throw Error(o(349));Rr&30||hp(c,r,s)}p.memoizedState=s;var w={value:s,getSnapshot:r};return p.queue=w,bp(mp.bind(null,c,w,t),[t]),c.flags|=2048,Ri(9,gp.bind(null,c,w,s,r),void 0,null),s},useId:function(){var t=yn(),r=ut.identifierPrefix;if(Ge){var s=Dn,c=Mn;s=(c&~(1<<32-jt(c)-1)).toString(32)+s,r=":"+r+"R"+s,s=Li++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=y1++,r=":"+r+"r"+s.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},S1={readContext:Gt,useCallback:_p,useContext:Gt,useEffect:Xc,useImperativeHandle:Cp,useInsertionEffect:Sp,useLayoutEffect:Ep,useMemo:Ip,useReducer:Yc,useRef:wp,useState:function(){return Yc(zi)},useDebugValue:Zc,useDeferredValue:function(t){var r=Xt();return Np(r,lt.memoizedState,t)},useTransition:function(){var t=Yc(zi)[0],r=Xt().memoizedState;return[t,r]},useMutableSource:fp,useSyncExternalStore:pp,useId:Mp,unstable_isNewReconciler:!1},E1={readContext:Gt,useCallback:_p,useContext:Gt,useEffect:Xc,useImperativeHandle:Cp,useInsertionEffect:Sp,useLayoutEffect:Ep,useMemo:Ip,useReducer:Gc,useRef:wp,useState:function(){return Gc(zi)},useDebugValue:Zc,useDeferredValue:function(t){var r=Xt();return lt===null?r.memoizedState=t:Np(r,lt.memoizedState,t)},useTransition:function(){var t=Gc(zi)[0],r=Xt().memoizedState;return[t,r]},useMutableSource:fp,useSyncExternalStore:pp,useId:Mp,unstable_isNewReconciler:!1};function rn(t,r){if(t&&t.defaultProps){r=R({},r),t=t.defaultProps;for(var s in t)r[s]===void 0&&(r[s]=t[s]);return r}return r}function Qc(t,r,s,c){r=t.memoizedState,s=s(c,r),s=s==null?r:R({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var hl={isMounted:function(t){return(t=t._reactInternals)?hn(t)===t:!1},enqueueSetState:function(t,r,s){t=t._reactInternals;var c=Et(),p=cr(t),w=Pn(c,p);w.payload=r,s!=null&&(w.callback=s),r=ir(t,w,p),r!==null&&(ln(r,t,p,c),sl(r,t,p))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var c=Et(),p=cr(t),w=Pn(c,p);w.tag=1,w.payload=r,s!=null&&(w.callback=s),r=ir(t,w,p),r!==null&&(ln(r,t,p,c),sl(r,t,p))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=Et(),c=cr(t),p=Pn(s,c);p.tag=2,r!=null&&(p.callback=r),r=ir(t,p,c),r!==null&&(ln(r,t,c,s),sl(r,t,c))}};function jp(t,r,s,c,p,w,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,w,E):r.prototype&&r.prototype.isPureReactComponent?!Ei(s,c)||!Ei(p,w):!0}function Ap(t,r,s){var c=!1,p=nr,w=r.contextType;return typeof w=="object"&&w!==null?w=Gt(w):(p=It(r)?Pr:vt.current,c=r.contextTypes,w=(c=c!=null)?bo(t,p):nr),r=new r(s,w),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=hl,t.stateNode=r,r._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=p,t.__reactInternalMemoizedMaskedChildContext=w),r}function Lp(t,r,s,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,c),r.state!==t&&hl.enqueueReplaceState(r,r.state,null)}function Kc(t,r,s,c){var p=t.stateNode;p.props=s,p.state=t.memoizedState,p.refs={},Rc(t);var w=r.contextType;typeof w=="object"&&w!==null?p.context=Gt(w):(w=It(r)?Pr:vt.current,p.context=bo(t,w)),p.state=t.memoizedState,w=r.getDerivedStateFromProps,typeof w=="function"&&(Qc(t,r,w,s),p.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(r=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),r!==p.state&&hl.enqueueReplaceState(p,p.state,null),ll(t,s,p,c),p.state=t.memoizedState),typeof p.componentDidMount=="function"&&(t.flags|=4194308)}function Mo(t,r){try{var s="",c=r;do s+=le(c),c=c.return;while(c);var p=s}catch(w){p=`
Error generating stack: `+w.message+`
`+w.stack}return{value:t,source:r,stack:p,digest:null}}function qc(t,r,s){return{value:t,source:null,stack:s??null,digest:r??null}}function Jc(t,r){try{console.error(r.value)}catch(s){setTimeout(function(){throw s})}}var k1=typeof WeakMap=="function"?WeakMap:Map;function zp(t,r,s){s=Pn(-1,s),s.tag=3,s.payload={element:null};var c=r.value;return s.callback=function(){bl||(bl=!0,hu=c),Jc(t,r)},s}function Rp(t,r,s){s=Pn(-1,s),s.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var p=r.value;s.payload=function(){return c(p)},s.callback=function(){Jc(t,r)}}var w=t.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(s.callback=function(){Jc(t,r),typeof c!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var E=r.stack;this.componentDidCatch(r.value,{componentStack:E!==null?E:""})}),s}function $p(t,r,s){var c=t.pingCache;if(c===null){c=t.pingCache=new k1;var p=new Set;c.set(r,p)}else p=c.get(r),p===void 0&&(p=new Set,c.set(r,p));p.has(s)||(p.add(s),t=$1.bind(null,t,r,s),r.then(t,t))}function Op(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Fp(t,r,s,c,p){return t.mode&1?(t.flags|=65536,t.lanes=p,t):(t===r?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(r=Pn(-1,1),r.tag=2,ir(s,r,1))),s.lanes|=1),t)}var C1=_.ReactCurrentOwner,Nt=!1;function St(t,r,s,c){r.child=t===null?sp(r,null,s,c):Co(r,t.child,s,c)}function Bp(t,r,s,c,p){s=s.render;var w=r.ref;return Io(r,p),c=Wc(t,r,s,c,w,p),s=Uc(),t!==null&&!Nt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~p,jn(t,r,p)):(Ge&&s&&Ic(r),r.flags|=1,St(t,r,c,p),r.child)}function Vp(t,r,s,c,p){if(t===null){var w=s.type;return typeof w=="function"&&!bu(w)&&w.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(r.tag=15,r.type=w,Hp(t,r,w,c,p)):(t=Il(s.type,null,c,r,r.mode,p),t.ref=r.ref,t.return=r,r.child=t)}if(w=t.child,!(t.lanes&p)){var E=w.memoizedProps;if(s=s.compare,s=s!==null?s:Ei,s(E,c)&&t.ref===r.ref)return jn(t,r,p)}return r.flags|=1,t=dr(w,c),t.ref=r.ref,t.return=r,r.child=t}function Hp(t,r,s,c,p){if(t!==null){var w=t.memoizedProps;if(Ei(w,c)&&t.ref===r.ref)if(Nt=!1,r.pendingProps=c=w,(t.lanes&p)!==0)t.flags&131072&&(Nt=!0);else return r.lanes=t.lanes,jn(t,r,p)}return eu(t,r,s,c,p)}function Wp(t,r,s){var c=r.pendingProps,p=c.children,w=t!==null?t.memoizedState:null;if(c.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(To,Rt),Rt|=s;else{if(!(s&1073741824))return t=w!==null?w.baseLanes|s:s,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,He(To,Rt),Rt|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=w!==null?w.baseLanes:s,He(To,Rt),Rt|=c}else w!==null?(c=w.baseLanes|s,r.memoizedState=null):c=s,He(To,Rt),Rt|=c;return St(t,r,p,s),r.child}function Up(t,r){var s=r.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(r.flags|=512,r.flags|=2097152)}function eu(t,r,s,c,p){var w=It(s)?Pr:vt.current;return w=bo(r,w),Io(r,p),s=Wc(t,r,s,c,w,p),c=Uc(),t!==null&&!Nt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~p,jn(t,r,p)):(Ge&&c&&Ic(r),r.flags|=1,St(t,r,s,p),r.child)}function Yp(t,r,s,c,p){if(It(s)){var w=!0;qs(r)}else w=!1;if(Io(r,p),r.stateNode===null)ml(t,r),Ap(r,s,c),Kc(r,s,c,p),c=!0;else if(t===null){var E=r.stateNode,z=r.memoizedProps;E.props=z;var H=E.context,J=s.contextType;typeof J=="object"&&J!==null?J=Gt(J):(J=It(s)?Pr:vt.current,J=bo(r,J));var ie=s.getDerivedStateFromProps,ae=typeof ie=="function"||typeof E.getSnapshotBeforeUpdate=="function";ae||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(z!==c||H!==J)&&Lp(r,E,c,J),or=!1;var oe=r.memoizedState;E.state=oe,ll(r,c,E,p),H=r.memoizedState,z!==c||oe!==H||_t.current||or?(typeof ie=="function"&&(Qc(r,s,ie,c),H=r.memoizedState),(z=or||jp(r,s,z,c,oe,H,J))?(ae||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(r.flags|=4194308)):(typeof E.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=H),E.props=c,E.state=H,E.context=J,c=z):(typeof E.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{E=r.stateNode,ap(t,r),z=r.memoizedProps,J=r.type===r.elementType?z:rn(r.type,z),E.props=J,ae=r.pendingProps,oe=E.context,H=s.contextType,typeof H=="object"&&H!==null?H=Gt(H):(H=It(s)?Pr:vt.current,H=bo(r,H));var fe=s.getDerivedStateFromProps;(ie=typeof fe=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(z!==ae||oe!==H)&&Lp(r,E,c,H),or=!1,oe=r.memoizedState,E.state=oe,ll(r,c,E,p);var me=r.memoizedState;z!==ae||oe!==me||_t.current||or?(typeof fe=="function"&&(Qc(r,s,fe,c),me=r.memoizedState),(J=or||jp(r,s,J,c,oe,me,H)||!1)?(ie||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(c,me,H),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(c,me,H)),typeof E.componentDidUpdate=="function"&&(r.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof E.componentDidUpdate!="function"||z===t.memoizedProps&&oe===t.memoizedState||(r.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||z===t.memoizedProps&&oe===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=me),E.props=c,E.state=me,E.context=H,c=J):(typeof E.componentDidUpdate!="function"||z===t.memoizedProps&&oe===t.memoizedState||(r.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||z===t.memoizedProps&&oe===t.memoizedState||(r.flags|=1024),c=!1)}return tu(t,r,s,c,w,p)}function tu(t,r,s,c,p,w){Up(t,r);var E=(r.flags&128)!==0;if(!c&&!E)return p&&Kf(r,s,!1),jn(t,r,w);c=r.stateNode,C1.current=r;var z=E&&typeof s.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,t!==null&&E?(r.child=Co(r,t.child,null,w),r.child=Co(r,null,z,w)):St(t,r,z,w),r.memoizedState=c.state,p&&Kf(r,s,!0),r.child}function Gp(t){var r=t.stateNode;r.pendingContext?Zf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Zf(t,r.context,!1),$c(t,r.containerInfo)}function Xp(t,r,s,c,p){return ko(),Tc(p),r.flags|=256,St(t,r,s,c),r.child}var nu={dehydrated:null,treeContext:null,retryLane:0};function ru(t){return{baseLanes:t,cachePool:null,transitions:null}}function Zp(t,r,s){var c=r.pendingProps,p=Qe.current,w=!1,E=(r.flags&128)!==0,z;if((z=E)||(z=t!==null&&t.memoizedState===null?!1:(p&2)!==0),z?(w=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(p|=1),He(Qe,p&1),t===null)return Dc(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(E=c.children,t=c.fallback,w?(c=r.mode,w=r.child,E={mode:"hidden",children:E},!(c&1)&&w!==null?(w.childLanes=0,w.pendingProps=E):w=Nl(E,c,0,null),t=Vr(t,c,s,null),w.return=r,t.return=r,w.sibling=t,r.child=w,r.child.memoizedState=ru(s),r.memoizedState=nu,t):ou(r,E));if(p=t.memoizedState,p!==null&&(z=p.dehydrated,z!==null))return _1(t,r,E,c,z,p,s);if(w){w=c.fallback,E=r.mode,p=t.child,z=p.sibling;var H={mode:"hidden",children:c.children};return!(E&1)&&r.child!==p?(c=r.child,c.childLanes=0,c.pendingProps=H,r.deletions=null):(c=dr(p,H),c.subtreeFlags=p.subtreeFlags&14680064),z!==null?w=dr(z,w):(w=Vr(w,E,s,null),w.flags|=2),w.return=r,c.return=r,c.sibling=w,r.child=c,c=w,w=r.child,E=t.child.memoizedState,E=E===null?ru(s):{baseLanes:E.baseLanes|s,cachePool:null,transitions:E.transitions},w.memoizedState=E,w.childLanes=t.childLanes&~s,r.memoizedState=nu,c}return w=t.child,t=w.sibling,c=dr(w,{mode:"visible",children:c.children}),!(r.mode&1)&&(c.lanes=s),c.return=r,c.sibling=null,t!==null&&(s=r.deletions,s===null?(r.deletions=[t],r.flags|=16):s.push(t)),r.child=c,r.memoizedState=null,c}function ou(t,r){return r=Nl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function gl(t,r,s,c){return c!==null&&Tc(c),Co(r,t.child,null,s),t=ou(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function _1(t,r,s,c,p,w,E){if(s)return r.flags&256?(r.flags&=-257,c=qc(Error(o(422))),gl(t,r,E,c)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(w=c.fallback,p=r.mode,c=Nl({mode:"visible",children:c.children},p,0,null),w=Vr(w,p,E,null),w.flags|=2,c.return=r,w.return=r,c.sibling=w,r.child=c,r.mode&1&&Co(r,t.child,null,E),r.child.memoizedState=ru(E),r.memoizedState=nu,w);if(!(r.mode&1))return gl(t,r,E,null);if(p.data==="$!"){if(c=p.nextSibling&&p.nextSibling.dataset,c)var z=c.dgst;return c=z,w=Error(o(419)),c=qc(w,c,void 0),gl(t,r,E,c)}if(z=(E&t.childLanes)!==0,Nt||z){if(c=ut,c!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(c.suspendedLanes|E)?0:p,p!==0&&p!==w.retryLane&&(w.retryLane=p,Tn(t,p),ln(c,t,p,-1))}return wu(),c=qc(Error(o(421))),gl(t,r,E,c)}return p.data==="$?"?(r.flags|=128,r.child=t.child,r=O1.bind(null,t),p._reactRetry=r,null):(t=w.treeContext,zt=er(p.nextSibling),Lt=r,Ge=!0,nn=null,t!==null&&(Ut[Yt++]=Mn,Ut[Yt++]=Dn,Ut[Yt++]=jr,Mn=t.id,Dn=t.overflow,jr=r),r=ou(r,c.children),r.flags|=4096,r)}function Qp(t,r,s){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),Lc(t.return,r,s)}function iu(t,r,s,c,p){var w=t.memoizedState;w===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:p}:(w.isBackwards=r,w.rendering=null,w.renderingStartTime=0,w.last=c,w.tail=s,w.tailMode=p)}function Kp(t,r,s){var c=r.pendingProps,p=c.revealOrder,w=c.tail;if(St(t,r,c.children,s),c=Qe.current,c&2)c=c&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qp(t,s,r);else if(t.tag===19)Qp(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(He(Qe,c),!(r.mode&1))r.memoizedState=null;else switch(p){case"forwards":for(s=r.child,p=null;s!==null;)t=s.alternate,t!==null&&al(t)===null&&(p=s),s=s.sibling;s=p,s===null?(p=r.child,r.child=null):(p=s.sibling,s.sibling=null),iu(r,!1,p,s,w);break;case"backwards":for(s=null,p=r.child,r.child=null;p!==null;){if(t=p.alternate,t!==null&&al(t)===null){r.child=p;break}t=p.sibling,p.sibling=s,s=p,p=t}iu(r,!0,s,null,w);break;case"together":iu(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ml(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function jn(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),$r|=r.lanes,!(s&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(o(153));if(r.child!==null){for(t=r.child,s=dr(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=dr(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function I1(t,r,s){switch(r.tag){case 3:Gp(r),ko();break;case 5:dp(r);break;case 1:It(r.type)&&qs(r);break;case 4:$c(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,p=r.memoizedProps.value;He(ol,c._currentValue),c._currentValue=p;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(He(Qe,Qe.current&1),r.flags|=128,null):s&r.child.childLanes?Zp(t,r,s):(He(Qe,Qe.current&1),t=jn(t,r,s),t!==null?t.sibling:null);He(Qe,Qe.current&1);break;case 19:if(c=(s&r.childLanes)!==0,t.flags&128){if(c)return Kp(t,r,s);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),He(Qe,Qe.current),c)break;return null;case 22:case 23:return r.lanes=0,Wp(t,r,s)}return jn(t,r,s)}var qp,su,Jp,eh;qp=function(t,r){for(var s=r.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},su=function(){},Jp=function(t,r,s,c){var p=t.memoizedProps;if(p!==c){t=r.stateNode,zr(mn.current);var w=null;switch(s){case"input":p=$e(t,p),c=$e(t,c),w=[];break;case"select":p=R({},p,{value:void 0}),c=R({},c,{value:void 0}),w=[];break;case"textarea":p=Cn(t,p),c=Cn(t,c),w=[];break;default:typeof p.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=Zs)}ti(s,c);var E;s=null;for(J in p)if(!c.hasOwnProperty(J)&&p.hasOwnProperty(J)&&p[J]!=null)if(J==="style"){var z=p[J];for(E in z)z.hasOwnProperty(E)&&(s||(s={}),s[E]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(l.hasOwnProperty(J)?w||(w=[]):(w=w||[]).push(J,null));for(J in c){var H=c[J];if(z=p!=null?p[J]:void 0,c.hasOwnProperty(J)&&H!==z&&(H!=null||z!=null))if(J==="style")if(z){for(E in z)!z.hasOwnProperty(E)||H&&H.hasOwnProperty(E)||(s||(s={}),s[E]="");for(E in H)H.hasOwnProperty(E)&&z[E]!==H[E]&&(s||(s={}),s[E]=H[E])}else s||(w||(w=[]),w.push(J,s)),s=H;else J==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,z=z?z.__html:void 0,H!=null&&z!==H&&(w=w||[]).push(J,H)):J==="children"?typeof H!="string"&&typeof H!="number"||(w=w||[]).push(J,""+H):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(l.hasOwnProperty(J)?(H!=null&&J==="onScroll"&&We("scroll",t),w||z===H||(w=[])):(w=w||[]).push(J,H))}s&&(w=w||[]).push("style",s);var J=w;(r.updateQueue=J)&&(r.flags|=4)}},eh=function(t,r,s,c){s!==c&&(r.flags|=4)};function $i(t,r){if(!Ge)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function wt(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,c=0;if(r)for(var p=t.child;p!==null;)s|=p.lanes|p.childLanes,c|=p.subtreeFlags&14680064,c|=p.flags&14680064,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)s|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=c,t.childLanes=s,r}function N1(t,r,s){var c=r.pendingProps;switch(Nc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(r),null;case 1:return It(r.type)&&Ks(),wt(r),null;case 3:return c=r.stateNode,No(),Ue(_t),Ue(vt),Bc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(nl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,nn!==null&&(yu(nn),nn=null))),su(t,r),wt(r),null;case 5:Oc(r);var p=zr(ji.current);if(s=r.type,t!==null&&r.stateNode!=null)Jp(t,r,s,c,p),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(o(166));return wt(r),null}if(t=zr(mn.current),nl(r)){c=r.stateNode,s=r.type;var w=r.memoizedProps;switch(c[gn]=r,c[Ni]=w,t=(r.mode&1)!==0,s){case"dialog":We("cancel",c),We("close",c);break;case"iframe":case"object":case"embed":We("load",c);break;case"video":case"audio":for(p=0;p<Ci.length;p++)We(Ci[p],c);break;case"source":We("error",c);break;case"img":case"image":case"link":We("error",c),We("load",c);break;case"details":We("toggle",c);break;case"input":rt(c,w),We("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!w.multiple},We("invalid",c);break;case"textarea":Bn(c,w),We("invalid",c)}ti(s,w),p=null;for(var E in w)if(w.hasOwnProperty(E)){var z=w[E];E==="children"?typeof z=="string"?c.textContent!==z&&(w.suppressHydrationWarning!==!0&&Xs(c.textContent,z,t),p=["children",z]):typeof z=="number"&&c.textContent!==""+z&&(w.suppressHydrationWarning!==!0&&Xs(c.textContent,z,t),p=["children",""+z]):l.hasOwnProperty(E)&&z!=null&&E==="onScroll"&&We("scroll",c)}switch(s){case"input":Ce(c),to(c,w,!0);break;case"textarea":Ce(c),Vn(c);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(c.onclick=Zs)}c=p,r.updateQueue=c,c!==null&&(r.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Hn(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=E.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=E.createElement(s,{is:c.is}):(t=E.createElement(s),s==="select"&&(E=t,c.multiple?E.multiple=!0:c.size&&(E.size=c.size))):t=E.createElementNS(t,s),t[gn]=r,t[Ni]=c,qp(t,r,!1,!1),r.stateNode=t;e:{switch(E=ni(s,c),s){case"dialog":We("cancel",t),We("close",t),p=c;break;case"iframe":case"object":case"embed":We("load",t),p=c;break;case"video":case"audio":for(p=0;p<Ci.length;p++)We(Ci[p],t);p=c;break;case"source":We("error",t),p=c;break;case"img":case"image":case"link":We("error",t),We("load",t),p=c;break;case"details":We("toggle",t),p=c;break;case"input":rt(t,c),p=$e(t,c),We("invalid",t);break;case"option":p=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},p=R({},c,{value:void 0}),We("invalid",t);break;case"textarea":Bn(t,c),p=Cn(t,c),We("invalid",t);break;default:p=c}ti(s,p),z=p;for(w in z)if(z.hasOwnProperty(w)){var H=z[w];w==="style"?ws(t,H):w==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&oo(t,H)):w==="children"?typeof H=="string"?(s!=="textarea"||H!=="")&&Cr(t,H):typeof H=="number"&&Cr(t,""+H):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(l.hasOwnProperty(w)?H!=null&&w==="onScroll"&&We("scroll",t):H!=null&&C(t,w,H,E))}switch(s){case"input":Ce(t),to(t,c,!1);break;case"textarea":Ce(t),Vn(t);break;case"option":c.value!=null&&t.setAttribute("value",""+ue(c.value));break;case"select":t.multiple=!!c.multiple,w=c.value,w!=null?pn(t,!!c.multiple,w,!1):c.defaultValue!=null&&pn(t,!!c.multiple,c.defaultValue,!0);break;default:typeof p.onClick=="function"&&(t.onclick=Zs)}switch(s){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return wt(r),null;case 6:if(t&&r.stateNode!=null)eh(t,r,t.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(o(166));if(s=zr(ji.current),zr(mn.current),nl(r)){if(c=r.stateNode,s=r.memoizedProps,c[gn]=r,(w=c.nodeValue!==s)&&(t=Lt,t!==null))switch(t.tag){case 3:Xs(c.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xs(c.nodeValue,s,(t.mode&1)!==0)}w&&(r.flags|=4)}else c=(s.nodeType===9?s:s.ownerDocument).createTextNode(c),c[gn]=r,r.stateNode=c}return wt(r),null;case 13:if(Ue(Qe),c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&zt!==null&&r.mode&1&&!(r.flags&128))rp(),ko(),r.flags|=98560,w=!1;else if(w=nl(r),c!==null&&c.dehydrated!==null){if(t===null){if(!w)throw Error(o(318));if(w=r.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(o(317));w[gn]=r}else ko(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;wt(r),w=!1}else nn!==null&&(yu(nn),nn=null),w=!0;if(!w)return r.flags&65536?r:null}return r.flags&128?(r.lanes=s,r):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(r.child.flags|=8192,r.mode&1&&(t===null||Qe.current&1?at===0&&(at=3):wu())),r.updateQueue!==null&&(r.flags|=4),wt(r),null);case 4:return No(),su(t,r),t===null&&_i(r.stateNode.containerInfo),wt(r),null;case 10:return Ac(r.type._context),wt(r),null;case 17:return It(r.type)&&Ks(),wt(r),null;case 19:if(Ue(Qe),w=r.memoizedState,w===null)return wt(r),null;if(c=(r.flags&128)!==0,E=w.rendering,E===null)if(c)$i(w,!1);else{if(at!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(E=al(t),E!==null){for(r.flags|=128,$i(w,!1),c=E.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=s,s=r.child;s!==null;)w=s,t=c,w.flags&=14680066,E=w.alternate,E===null?(w.childLanes=0,w.lanes=t,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=E.childLanes,w.lanes=E.lanes,w.child=E.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=E.memoizedProps,w.memoizedState=E.memoizedState,w.updateQueue=E.updateQueue,w.type=E.type,t=E.dependencies,w.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return He(Qe,Qe.current&1|2),r.child}t=t.sibling}w.tail!==null&&Ze()>Po&&(r.flags|=128,c=!0,$i(w,!1),r.lanes=4194304)}else{if(!c)if(t=al(E),t!==null){if(r.flags|=128,c=!0,s=t.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),$i(w,!0),w.tail===null&&w.tailMode==="hidden"&&!E.alternate&&!Ge)return wt(r),null}else 2*Ze()-w.renderingStartTime>Po&&s!==1073741824&&(r.flags|=128,c=!0,$i(w,!1),r.lanes=4194304);w.isBackwards?(E.sibling=r.child,r.child=E):(s=w.last,s!==null?s.sibling=E:r.child=E,w.last=E)}return w.tail!==null?(r=w.tail,w.rendering=r,w.tail=r.sibling,w.renderingStartTime=Ze(),r.sibling=null,s=Qe.current,He(Qe,c?s&1|2:s&1),r):(wt(r),null);case 22:case 23:return xu(),c=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(r.flags|=8192),c&&r.mode&1?Rt&1073741824&&(wt(r),r.subtreeFlags&6&&(r.flags|=8192)):wt(r),null;case 24:return null;case 25:return null}throw Error(o(156,r.tag))}function M1(t,r){switch(Nc(r),r.tag){case 1:return It(r.type)&&Ks(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return No(),Ue(_t),Ue(vt),Bc(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Oc(r),null;case 13:if(Ue(Qe),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(o(340));ko()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Ue(Qe),null;case 4:return No(),null;case 10:return Ac(r.type._context),null;case 22:case 23:return xu(),null;case 24:return null;default:return null}}var yl=!1,bt=!1,D1=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Do(t,r){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(c){et(t,r,c)}else s.current=null}function lu(t,r,s){try{s()}catch(c){et(t,r,c)}}var th=!1;function T1(t,r){if(xc=Rs,t=jf(),dc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var p=c.anchorOffset,w=c.focusNode;c=c.focusOffset;try{s.nodeType,w.nodeType}catch{s=null;break e}var E=0,z=-1,H=-1,J=0,ie=0,ae=t,oe=null;t:for(;;){for(var fe;ae!==s||p!==0&&ae.nodeType!==3||(z=E+p),ae!==w||c!==0&&ae.nodeType!==3||(H=E+c),ae.nodeType===3&&(E+=ae.nodeValue.length),(fe=ae.firstChild)!==null;)oe=ae,ae=fe;for(;;){if(ae===t)break t;if(oe===s&&++J===p&&(z=E),oe===w&&++ie===c&&(H=E),(fe=ae.nextSibling)!==null)break;ae=oe,oe=ae.parentNode}ae=fe}s=z===-1||H===-1?null:{start:z,end:H}}else s=null}s=s||{start:0,end:0}}else s=null;for(wc={focusedElem:t,selectionRange:s},Rs=!1,ge=r;ge!==null;)if(r=ge,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ge=t;else for(;ge!==null;){r=ge;try{var me=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ve=me.memoizedProps,nt=me.memoizedState,K=r.stateNode,G=K.getSnapshotBeforeUpdate(r.elementType===r.type?ve:rn(r.type,ve),nt);K.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var q=r.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ce){et(r,r.return,ce)}if(t=r.sibling,t!==null){t.return=r.return,ge=t;break}ge=r.return}return me=th,th=!1,me}function Oi(t,r,s){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var p=c=c.next;do{if((p.tag&t)===t){var w=p.destroy;p.destroy=void 0,w!==void 0&&lu(r,s,w)}p=p.next}while(p!==c)}}function vl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var c=s.create;s.destroy=c()}s=s.next}while(s!==r)}}function au(t){var r=t.ref;if(r!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof r=="function"?r(t):r.current=t}}function nh(t){var r=t.alternate;r!==null&&(t.alternate=null,nh(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[gn],delete r[Ni],delete r[kc],delete r[p1],delete r[h1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rh(t){return t.tag===5||t.tag===3||t.tag===4}function oh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cu(t,r,s){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?s.nodeType===8?s.parentNode.insertBefore(t,r):s.insertBefore(t,r):(s.nodeType===8?(r=s.parentNode,r.insertBefore(t,s)):(r=s,r.appendChild(t)),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Zs));else if(c!==4&&(t=t.child,t!==null))for(cu(t,r,s),t=t.sibling;t!==null;)cu(t,r,s),t=t.sibling}function uu(t,r,s){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(uu(t,r,s),t=t.sibling;t!==null;)uu(t,r,s),t=t.sibling}var ht=null,on=!1;function sr(t,r,s){for(s=s.child;s!==null;)ih(t,r,s),s=s.sibling}function ih(t,r,s){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(ao,s)}catch{}switch(s.tag){case 5:bt||Do(s,r);case 6:var c=ht,p=on;ht=null,sr(t,r,s),ht=c,on=p,ht!==null&&(on?(t=ht,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):ht.removeChild(s.stateNode));break;case 18:ht!==null&&(on?(t=ht,s=s.stateNode,t.nodeType===8?Ec(t.parentNode,s):t.nodeType===1&&Ec(t,s),yi(t)):Ec(ht,s.stateNode));break;case 4:c=ht,p=on,ht=s.stateNode.containerInfo,on=!0,sr(t,r,s),ht=c,on=p;break;case 0:case 11:case 14:case 15:if(!bt&&(c=s.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){p=c=c.next;do{var w=p,E=w.destroy;w=w.tag,E!==void 0&&(w&2||w&4)&&lu(s,r,E),p=p.next}while(p!==c)}sr(t,r,s);break;case 1:if(!bt&&(Do(s,r),c=s.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=s.memoizedProps,c.state=s.memoizedState,c.componentWillUnmount()}catch(z){et(s,r,z)}sr(t,r,s);break;case 21:sr(t,r,s);break;case 22:s.mode&1?(bt=(c=bt)||s.memoizedState!==null,sr(t,r,s),bt=c):sr(t,r,s);break;default:sr(t,r,s)}}function sh(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new D1),r.forEach(function(c){var p=F1.bind(null,t,c);s.has(c)||(s.add(c),c.then(p,p))})}}function sn(t,r){var s=r.deletions;if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];try{var w=t,E=r,z=E;e:for(;z!==null;){switch(z.tag){case 5:ht=z.stateNode,on=!1;break e;case 3:ht=z.stateNode.containerInfo,on=!0;break e;case 4:ht=z.stateNode.containerInfo,on=!0;break e}z=z.return}if(ht===null)throw Error(o(160));ih(w,E,p),ht=null,on=!1;var H=p.alternate;H!==null&&(H.return=null),p.return=null}catch(J){et(p,r,J)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)lh(r,t),r=r.sibling}function lh(t,r){var s=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(sn(r,t),vn(t),c&4){try{Oi(3,t,t.return),vl(3,t)}catch(ve){et(t,t.return,ve)}try{Oi(5,t,t.return)}catch(ve){et(t,t.return,ve)}}break;case 1:sn(r,t),vn(t),c&512&&s!==null&&Do(s,s.return);break;case 5:if(sn(r,t),vn(t),c&512&&s!==null&&Do(s,s.return),t.flags&32){var p=t.stateNode;try{Cr(p,"")}catch(ve){et(t,t.return,ve)}}if(c&4&&(p=t.stateNode,p!=null)){var w=t.memoizedProps,E=s!==null?s.memoizedProps:w,z=t.type,H=t.updateQueue;if(t.updateQueue=null,H!==null)try{z==="input"&&w.type==="radio"&&w.name!=null&&Ct(p,w),ni(z,E);var J=ni(z,w);for(E=0;E<H.length;E+=2){var ie=H[E],ae=H[E+1];ie==="style"?ws(p,ae):ie==="dangerouslySetInnerHTML"?oo(p,ae):ie==="children"?Cr(p,ae):C(p,ie,ae,J)}switch(z){case"input":Er(p,w);break;case"textarea":no(p,w);break;case"select":var oe=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!w.multiple;var fe=w.value;fe!=null?pn(p,!!w.multiple,fe,!1):oe!==!!w.multiple&&(w.defaultValue!=null?pn(p,!!w.multiple,w.defaultValue,!0):pn(p,!!w.multiple,w.multiple?[]:"",!1))}p[Ni]=w}catch(ve){et(t,t.return,ve)}}break;case 6:if(sn(r,t),vn(t),c&4){if(t.stateNode===null)throw Error(o(162));p=t.stateNode,w=t.memoizedProps;try{p.nodeValue=w}catch(ve){et(t,t.return,ve)}}break;case 3:if(sn(r,t),vn(t),c&4&&s!==null&&s.memoizedState.isDehydrated)try{yi(r.containerInfo)}catch(ve){et(t,t.return,ve)}break;case 4:sn(r,t),vn(t);break;case 13:sn(r,t),vn(t),p=t.child,p.flags&8192&&(w=p.memoizedState!==null,p.stateNode.isHidden=w,!w||p.alternate!==null&&p.alternate.memoizedState!==null||(pu=Ze())),c&4&&sh(t);break;case 22:if(ie=s!==null&&s.memoizedState!==null,t.mode&1?(bt=(J=bt)||ie,sn(r,t),bt=J):sn(r,t),vn(t),c&8192){if(J=t.memoizedState!==null,(t.stateNode.isHidden=J)&&!ie&&t.mode&1)for(ge=t,ie=t.child;ie!==null;){for(ae=ge=ie;ge!==null;){switch(oe=ge,fe=oe.child,oe.tag){case 0:case 11:case 14:case 15:Oi(4,oe,oe.return);break;case 1:Do(oe,oe.return);var me=oe.stateNode;if(typeof me.componentWillUnmount=="function"){c=oe,s=oe.return;try{r=c,me.props=r.memoizedProps,me.state=r.memoizedState,me.componentWillUnmount()}catch(ve){et(c,s,ve)}}break;case 5:Do(oe,oe.return);break;case 22:if(oe.memoizedState!==null){uh(ae);continue}}fe!==null?(fe.return=oe,ge=fe):uh(ae)}ie=ie.sibling}e:for(ie=null,ae=t;;){if(ae.tag===5){if(ie===null){ie=ae;try{p=ae.stateNode,J?(w=p.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(z=ae.stateNode,H=ae.memoizedProps.style,E=H!=null&&H.hasOwnProperty("display")?H.display:null,z.style.display=xs("display",E))}catch(ve){et(t,t.return,ve)}}}else if(ae.tag===6){if(ie===null)try{ae.stateNode.nodeValue=J?"":ae.memoizedProps}catch(ve){et(t,t.return,ve)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===t)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===t)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===t)break e;ie===ae&&(ie=null),ae=ae.return}ie===ae&&(ie=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:sn(r,t),vn(t),c&4&&sh(t);break;case 21:break;default:sn(r,t),vn(t)}}function vn(t){var r=t.flags;if(r&2){try{e:{for(var s=t.return;s!==null;){if(rh(s)){var c=s;break e}s=s.return}throw Error(o(160))}switch(c.tag){case 5:var p=c.stateNode;c.flags&32&&(Cr(p,""),c.flags&=-33);var w=oh(t);uu(t,w,p);break;case 3:case 4:var E=c.stateNode.containerInfo,z=oh(t);cu(t,z,E);break;default:throw Error(o(161))}}catch(H){et(t,t.return,H)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function P1(t,r,s){ge=t,ah(t)}function ah(t,r,s){for(var c=(t.mode&1)!==0;ge!==null;){var p=ge,w=p.child;if(p.tag===22&&c){var E=p.memoizedState!==null||yl;if(!E){var z=p.alternate,H=z!==null&&z.memoizedState!==null||bt;z=yl;var J=bt;if(yl=E,(bt=H)&&!J)for(ge=p;ge!==null;)E=ge,H=E.child,E.tag===22&&E.memoizedState!==null?dh(p):H!==null?(H.return=E,ge=H):dh(p);for(;w!==null;)ge=w,ah(w),w=w.sibling;ge=p,yl=z,bt=J}ch(t)}else p.subtreeFlags&8772&&w!==null?(w.return=p,ge=w):ch(t)}}function ch(t){for(;ge!==null;){var r=ge;if(r.flags&8772){var s=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:bt||vl(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!bt)if(s===null)c.componentDidMount();else{var p=r.elementType===r.type?s.memoizedProps:rn(r.type,s.memoizedProps);c.componentDidUpdate(p,s.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var w=r.updateQueue;w!==null&&up(r,w,c);break;case 3:var E=r.updateQueue;if(E!==null){if(s=null,r.child!==null)switch(r.child.tag){case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}up(r,E,s)}break;case 5:var z=r.stateNode;if(s===null&&r.flags&4){s=z;var H=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&s.focus();break;case"img":H.src&&(s.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var J=r.alternate;if(J!==null){var ie=J.memoizedState;if(ie!==null){var ae=ie.dehydrated;ae!==null&&yi(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}bt||r.flags&512&&au(r)}catch(oe){et(r,r.return,oe)}}if(r===t){ge=null;break}if(s=r.sibling,s!==null){s.return=r.return,ge=s;break}ge=r.return}}function uh(t){for(;ge!==null;){var r=ge;if(r===t){ge=null;break}var s=r.sibling;if(s!==null){s.return=r.return,ge=s;break}ge=r.return}}function dh(t){for(;ge!==null;){var r=ge;try{switch(r.tag){case 0:case 11:case 15:var s=r.return;try{vl(4,r)}catch(H){et(r,s,H)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var p=r.return;try{c.componentDidMount()}catch(H){et(r,p,H)}}var w=r.return;try{au(r)}catch(H){et(r,w,H)}break;case 5:var E=r.return;try{au(r)}catch(H){et(r,E,H)}}}catch(H){et(r,r.return,H)}if(r===t){ge=null;break}var z=r.sibling;if(z!==null){z.return=r.return,ge=z;break}ge=r.return}}var j1=Math.ceil,xl=_.ReactCurrentDispatcher,du=_.ReactCurrentOwner,Zt=_.ReactCurrentBatchConfig,Le=0,ut=null,ot=null,gt=0,Rt=0,To=tr(0),at=0,Fi=null,$r=0,wl=0,fu=0,Bi=null,Mt=null,pu=0,Po=1/0,An=null,bl=!1,hu=null,lr=null,Sl=!1,ar=null,El=0,Vi=0,gu=null,kl=-1,Cl=0;function Et(){return Le&6?Ze():kl!==-1?kl:kl=Ze()}function cr(t){return t.mode&1?Le&2&&gt!==0?gt&-gt:m1.transition!==null?(Cl===0&&(Cl=rf()),Cl):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:pf(t.type)),t):1}function ln(t,r,s,c){if(50<Vi)throw Vi=0,gu=null,Error(o(185));fi(t,s,c),(!(Le&2)||t!==ut)&&(t===ut&&(!(Le&2)&&(wl|=s),at===4&&ur(t,gt)),Dt(t,c),s===1&&Le===0&&!(r.mode&1)&&(Po=Ze()+500,Js&&rr()))}function Dt(t,r){var s=t.callbackNode;Za(t,r);var c=Gn(t,t===ut?gt:0);if(c===0)s!==null&&Ps(s),t.callbackNode=null,t.callbackPriority=0;else if(r=c&-c,t.callbackPriority!==r){if(s!=null&&Ps(s),r===1)t.tag===0?g1(ph.bind(null,t)):qf(ph.bind(null,t)),d1(function(){!(Le&6)&&rr()}),s=null;else{switch(of(c)){case 1:s=ui;break;case 4:s=As;break;case 16:s=lo;break;case 536870912:s=di;break;default:s=lo}s=bh(s,fh.bind(null,t))}t.callbackPriority=r,t.callbackNode=s}}function fh(t,r){if(kl=-1,Cl=0,Le&6)throw Error(o(327));var s=t.callbackNode;if(jo()&&t.callbackNode!==s)return null;var c=Gn(t,t===ut?gt:0);if(c===0)return null;if(c&30||c&t.expiredLanes||r)r=_l(t,c);else{r=c;var p=Le;Le|=2;var w=gh();(ut!==t||gt!==r)&&(An=null,Po=Ze()+500,Fr(t,r));do try{z1();break}catch(z){hh(t,z)}while(!0);jc(),xl.current=w,Le=p,ot!==null?r=0:(ut=null,gt=0,r=at)}if(r!==0){if(r===2&&(p=uo(t),p!==0&&(c=p,r=mu(t,p))),r===1)throw s=Fi,Fr(t,0),ur(t,c),Dt(t,Ze()),s;if(r===6)ur(t,c);else{if(p=t.current.alternate,!(c&30)&&!A1(p)&&(r=_l(t,c),r===2&&(w=uo(t),w!==0&&(c=w,r=mu(t,w))),r===1))throw s=Fi,Fr(t,0),ur(t,c),Dt(t,Ze()),s;switch(t.finishedWork=p,t.finishedLanes=c,r){case 0:case 1:throw Error(o(345));case 2:Br(t,Mt,An);break;case 3:if(ur(t,c),(c&130023424)===c&&(r=pu+500-Ze(),10<r)){if(Gn(t,0)!==0)break;if(p=t.suspendedLanes,(p&c)!==c){Et(),t.pingedLanes|=t.suspendedLanes&p;break}t.timeoutHandle=Sc(Br.bind(null,t,Mt,An),r);break}Br(t,Mt,An);break;case 4:if(ur(t,c),(c&4194240)===c)break;for(r=t.eventTimes,p=-1;0<c;){var E=31-jt(c);w=1<<E,E=r[E],E>p&&(p=E),c&=~w}if(c=p,c=Ze()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*j1(c/1960))-c,10<c){t.timeoutHandle=Sc(Br.bind(null,t,Mt,An),c);break}Br(t,Mt,An);break;case 5:Br(t,Mt,An);break;default:throw Error(o(329))}}}return Dt(t,Ze()),t.callbackNode===s?fh.bind(null,t):null}function mu(t,r){var s=Bi;return t.current.memoizedState.isDehydrated&&(Fr(t,r).flags|=256),t=_l(t,r),t!==2&&(r=Mt,Mt=s,r!==null&&yu(r)),t}function yu(t){Mt===null?Mt=t:Mt.push.apply(Mt,t)}function A1(t){for(var r=t;;){if(r.flags&16384){var s=r.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var c=0;c<s.length;c++){var p=s[c],w=p.getSnapshot;p=p.value;try{if(!tn(w(),p))return!1}catch{return!1}}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ur(t,r){for(r&=~fu,r&=~wl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var s=31-jt(r),c=1<<s;t[s]=-1,r&=~c}}function ph(t){if(Le&6)throw Error(o(327));jo();var r=Gn(t,0);if(!(r&1))return Dt(t,Ze()),null;var s=_l(t,r);if(t.tag!==0&&s===2){var c=uo(t);c!==0&&(r=c,s=mu(t,c))}if(s===1)throw s=Fi,Fr(t,0),ur(t,r),Dt(t,Ze()),s;if(s===6)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Br(t,Mt,An),Dt(t,Ze()),null}function vu(t,r){var s=Le;Le|=1;try{return t(r)}finally{Le=s,Le===0&&(Po=Ze()+500,Js&&rr())}}function Or(t){ar!==null&&ar.tag===0&&!(Le&6)&&jo();var r=Le;Le|=1;var s=Zt.transition,c=Fe;try{if(Zt.transition=null,Fe=1,t)return t()}finally{Fe=c,Zt.transition=s,Le=r,!(Le&6)&&rr()}}function xu(){Rt=To.current,Ue(To)}function Fr(t,r){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,u1(s)),ot!==null)for(s=ot.return;s!==null;){var c=s;switch(Nc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Ks();break;case 3:No(),Ue(_t),Ue(vt),Bc();break;case 5:Oc(c);break;case 4:No();break;case 13:Ue(Qe);break;case 19:Ue(Qe);break;case 10:Ac(c.type._context);break;case 22:case 23:xu()}s=s.return}if(ut=t,ot=t=dr(t.current,null),gt=Rt=r,at=0,Fi=null,fu=wl=$r=0,Mt=Bi=null,Lr!==null){for(r=0;r<Lr.length;r++)if(s=Lr[r],c=s.interleaved,c!==null){s.interleaved=null;var p=c.next,w=s.pending;if(w!==null){var E=w.next;w.next=p,c.next=E}s.pending=c}Lr=null}return t}function hh(t,r){do{var s=ot;try{if(jc(),cl.current=pl,ul){for(var c=Ke.memoizedState;c!==null;){var p=c.queue;p!==null&&(p.pending=null),c=c.next}ul=!1}if(Rr=0,ct=lt=Ke=null,Ai=!1,Li=0,du.current=null,s===null||s.return===null){at=1,Fi=r,ot=null;break}e:{var w=t,E=s.return,z=s,H=r;if(r=gt,z.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var J=H,ie=z,ae=ie.tag;if(!(ie.mode&1)&&(ae===0||ae===11||ae===15)){var oe=ie.alternate;oe?(ie.updateQueue=oe.updateQueue,ie.memoizedState=oe.memoizedState,ie.lanes=oe.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var fe=Op(E);if(fe!==null){fe.flags&=-257,Fp(fe,E,z,w,r),fe.mode&1&&$p(w,J,r),r=fe,H=J;var me=r.updateQueue;if(me===null){var ve=new Set;ve.add(H),r.updateQueue=ve}else me.add(H);break e}else{if(!(r&1)){$p(w,J,r),wu();break e}H=Error(o(426))}}else if(Ge&&z.mode&1){var nt=Op(E);if(nt!==null){!(nt.flags&65536)&&(nt.flags|=256),Fp(nt,E,z,w,r),Tc(Mo(H,z));break e}}w=H=Mo(H,z),at!==4&&(at=2),Bi===null?Bi=[w]:Bi.push(w),w=E;do{switch(w.tag){case 3:w.flags|=65536,r&=-r,w.lanes|=r;var K=zp(w,H,r);cp(w,K);break e;case 1:z=H;var G=w.type,q=w.stateNode;if(!(w.flags&128)&&(typeof G.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(lr===null||!lr.has(q)))){w.flags|=65536,r&=-r,w.lanes|=r;var ce=Rp(w,z,r);cp(w,ce);break e}}w=w.return}while(w!==null)}yh(s)}catch(xe){r=xe,ot===s&&s!==null&&(ot=s=s.return);continue}break}while(!0)}function gh(){var t=xl.current;return xl.current=pl,t===null?pl:t}function wu(){(at===0||at===3||at===2)&&(at=4),ut===null||!($r&268435455)&&!(wl&268435455)||ur(ut,gt)}function _l(t,r){var s=Le;Le|=2;var c=gh();(ut!==t||gt!==r)&&(An=null,Fr(t,r));do try{L1();break}catch(p){hh(t,p)}while(!0);if(jc(),Le=s,xl.current=c,ot!==null)throw Error(o(261));return ut=null,gt=0,at}function L1(){for(;ot!==null;)mh(ot)}function z1(){for(;ot!==null&&!js();)mh(ot)}function mh(t){var r=wh(t.alternate,t,Rt);t.memoizedProps=t.pendingProps,r===null?yh(t):ot=r,du.current=null}function yh(t){var r=t;do{var s=r.alternate;if(t=r.return,r.flags&32768){if(s=M1(s,r),s!==null){s.flags&=32767,ot=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{at=6,ot=null;return}}else if(s=N1(s,r,Rt),s!==null){ot=s;return}if(r=r.sibling,r!==null){ot=r;return}ot=r=t}while(r!==null);at===0&&(at=5)}function Br(t,r,s){var c=Fe,p=Zt.transition;try{Zt.transition=null,Fe=1,R1(t,r,s,c)}finally{Zt.transition=p,Fe=c}return null}function R1(t,r,s,c){do jo();while(ar!==null);if(Le&6)throw Error(o(327));s=t.finishedWork;var p=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var w=s.lanes|s.childLanes;if(yy(t,w),t===ut&&(ot=ut=null,gt=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Sl||(Sl=!0,bh(lo,function(){return jo(),null})),w=(s.flags&15990)!==0,s.subtreeFlags&15990||w){w=Zt.transition,Zt.transition=null;var E=Fe;Fe=1;var z=Le;Le|=4,du.current=null,T1(t,s),lh(s,t),r1(wc),Rs=!!xc,wc=xc=null,t.current=s,P1(s),Ba(),Le=z,Fe=E,Zt.transition=w}else t.current=s;if(Sl&&(Sl=!1,ar=t,El=p),w=t.pendingLanes,w===0&&(lr=null),Wa(s.stateNode),Dt(t,Ze()),r!==null)for(c=t.onRecoverableError,s=0;s<r.length;s++)p=r[s],c(p.value,{componentStack:p.stack,digest:p.digest});if(bl)throw bl=!1,t=hu,hu=null,t;return El&1&&t.tag!==0&&jo(),w=t.pendingLanes,w&1?t===gu?Vi++:(Vi=0,gu=t):Vi=0,rr(),null}function jo(){if(ar!==null){var t=of(El),r=Zt.transition,s=Fe;try{if(Zt.transition=null,Fe=16>t?16:t,ar===null)var c=!1;else{if(t=ar,ar=null,El=0,Le&6)throw Error(o(331));var p=Le;for(Le|=4,ge=t.current;ge!==null;){var w=ge,E=w.child;if(ge.flags&16){var z=w.deletions;if(z!==null){for(var H=0;H<z.length;H++){var J=z[H];for(ge=J;ge!==null;){var ie=ge;switch(ie.tag){case 0:case 11:case 15:Oi(8,ie,w)}var ae=ie.child;if(ae!==null)ae.return=ie,ge=ae;else for(;ge!==null;){ie=ge;var oe=ie.sibling,fe=ie.return;if(nh(ie),ie===J){ge=null;break}if(oe!==null){oe.return=fe,ge=oe;break}ge=fe}}}var me=w.alternate;if(me!==null){var ve=me.child;if(ve!==null){me.child=null;do{var nt=ve.sibling;ve.sibling=null,ve=nt}while(ve!==null)}}ge=w}}if(w.subtreeFlags&2064&&E!==null)E.return=w,ge=E;else e:for(;ge!==null;){if(w=ge,w.flags&2048)switch(w.tag){case 0:case 11:case 15:Oi(9,w,w.return)}var K=w.sibling;if(K!==null){K.return=w.return,ge=K;break e}ge=w.return}}var G=t.current;for(ge=G;ge!==null;){E=ge;var q=E.child;if(E.subtreeFlags&2064&&q!==null)q.return=E,ge=q;else e:for(E=G;ge!==null;){if(z=ge,z.flags&2048)try{switch(z.tag){case 0:case 11:case 15:vl(9,z)}}catch(xe){et(z,z.return,xe)}if(z===E){ge=null;break e}var ce=z.sibling;if(ce!==null){ce.return=z.return,ge=ce;break e}ge=z.return}}if(Le=p,rr(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(ao,t)}catch{}c=!0}return c}finally{Fe=s,Zt.transition=r}}return!1}function vh(t,r,s){r=Mo(s,r),r=zp(t,r,1),t=ir(t,r,1),r=Et(),t!==null&&(fi(t,1,r),Dt(t,r))}function et(t,r,s){if(t.tag===3)vh(t,t,s);else for(;r!==null;){if(r.tag===3){vh(r,t,s);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(lr===null||!lr.has(c))){t=Mo(s,t),t=Rp(r,t,1),r=ir(r,t,1),t=Et(),r!==null&&(fi(r,1,t),Dt(r,t));break}}r=r.return}}function $1(t,r,s){var c=t.pingCache;c!==null&&c.delete(r),r=Et(),t.pingedLanes|=t.suspendedLanes&s,ut===t&&(gt&s)===s&&(at===4||at===3&&(gt&130023424)===gt&&500>Ze()-pu?Fr(t,0):fu|=s),Dt(t,r)}function xh(t,r){r===0&&(t.mode&1?(r=co,co<<=1,!(co&130023424)&&(co=4194304)):r=1);var s=Et();t=Tn(t,r),t!==null&&(fi(t,r,s),Dt(t,s))}function O1(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),xh(t,s)}function F1(t,r){var s=0;switch(t.tag){case 13:var c=t.stateNode,p=t.memoizedState;p!==null&&(s=p.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(o(314))}c!==null&&c.delete(r),xh(t,s)}var wh;wh=function(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps||_t.current)Nt=!0;else{if(!(t.lanes&s)&&!(r.flags&128))return Nt=!1,I1(t,r,s);Nt=!!(t.flags&131072)}else Nt=!1,Ge&&r.flags&1048576&&Jf(r,tl,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;ml(t,r),t=r.pendingProps;var p=bo(r,vt.current);Io(r,s),p=Wc(null,r,c,t,p,s);var w=Uc();return r.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,It(c)?(w=!0,qs(r)):w=!1,r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Rc(r),p.updater=hl,r.stateNode=p,p._reactInternals=r,Kc(r,c,t,s),r=tu(null,r,c,!0,w,s)):(r.tag=0,Ge&&w&&Ic(r),St(null,r,p,s),r=r.child),r;case 16:c=r.elementType;e:{switch(ml(t,r),t=r.pendingProps,p=c._init,c=p(c._payload),r.type=c,p=r.tag=V1(c),t=rn(c,t),p){case 0:r=eu(null,r,c,t,s);break e;case 1:r=Yp(null,r,c,t,s);break e;case 11:r=Bp(null,r,c,t,s);break e;case 14:r=Vp(null,r,c,rn(c.type,t),s);break e}throw Error(o(306,c,""))}return r;case 0:return c=r.type,p=r.pendingProps,p=r.elementType===c?p:rn(c,p),eu(t,r,c,p,s);case 1:return c=r.type,p=r.pendingProps,p=r.elementType===c?p:rn(c,p),Yp(t,r,c,p,s);case 3:e:{if(Gp(r),t===null)throw Error(o(387));c=r.pendingProps,w=r.memoizedState,p=w.element,ap(t,r),ll(r,c,null,s);var E=r.memoizedState;if(c=E.element,w.isDehydrated)if(w={element:c,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},r.updateQueue.baseState=w,r.memoizedState=w,r.flags&256){p=Mo(Error(o(423)),r),r=Xp(t,r,c,s,p);break e}else if(c!==p){p=Mo(Error(o(424)),r),r=Xp(t,r,c,s,p);break e}else for(zt=er(r.stateNode.containerInfo.firstChild),Lt=r,Ge=!0,nn=null,s=sp(r,null,c,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ko(),c===p){r=jn(t,r,s);break e}St(t,r,c,s)}r=r.child}return r;case 5:return dp(r),t===null&&Dc(r),c=r.type,p=r.pendingProps,w=t!==null?t.memoizedProps:null,E=p.children,bc(c,p)?E=null:w!==null&&bc(c,w)&&(r.flags|=32),Up(t,r),St(t,r,E,s),r.child;case 6:return t===null&&Dc(r),null;case 13:return Zp(t,r,s);case 4:return $c(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=Co(r,null,c,s):St(t,r,c,s),r.child;case 11:return c=r.type,p=r.pendingProps,p=r.elementType===c?p:rn(c,p),Bp(t,r,c,p,s);case 7:return St(t,r,r.pendingProps,s),r.child;case 8:return St(t,r,r.pendingProps.children,s),r.child;case 12:return St(t,r,r.pendingProps.children,s),r.child;case 10:e:{if(c=r.type._context,p=r.pendingProps,w=r.memoizedProps,E=p.value,He(ol,c._currentValue),c._currentValue=E,w!==null)if(tn(w.value,E)){if(w.children===p.children&&!_t.current){r=jn(t,r,s);break e}}else for(w=r.child,w!==null&&(w.return=r);w!==null;){var z=w.dependencies;if(z!==null){E=w.child;for(var H=z.firstContext;H!==null;){if(H.context===c){if(w.tag===1){H=Pn(-1,s&-s),H.tag=2;var J=w.updateQueue;if(J!==null){J=J.shared;var ie=J.pending;ie===null?H.next=H:(H.next=ie.next,ie.next=H),J.pending=H}}w.lanes|=s,H=w.alternate,H!==null&&(H.lanes|=s),Lc(w.return,s,r),z.lanes|=s;break}H=H.next}}else if(w.tag===10)E=w.type===r.type?null:w.child;else if(w.tag===18){if(E=w.return,E===null)throw Error(o(341));E.lanes|=s,z=E.alternate,z!==null&&(z.lanes|=s),Lc(E,s,r),E=w.sibling}else E=w.child;if(E!==null)E.return=w;else for(E=w;E!==null;){if(E===r){E=null;break}if(w=E.sibling,w!==null){w.return=E.return,E=w;break}E=E.return}w=E}St(t,r,p.children,s),r=r.child}return r;case 9:return p=r.type,c=r.pendingProps.children,Io(r,s),p=Gt(p),c=c(p),r.flags|=1,St(t,r,c,s),r.child;case 14:return c=r.type,p=rn(c,r.pendingProps),p=rn(c.type,p),Vp(t,r,c,p,s);case 15:return Hp(t,r,r.type,r.pendingProps,s);case 17:return c=r.type,p=r.pendingProps,p=r.elementType===c?p:rn(c,p),ml(t,r),r.tag=1,It(c)?(t=!0,qs(r)):t=!1,Io(r,s),Ap(r,c,p),Kc(r,c,p,s),tu(null,r,c,!0,t,s);case 19:return Kp(t,r,s);case 22:return Wp(t,r,s)}throw Error(o(156,r.tag))};function bh(t,r){return Ts(t,r)}function B1(t,r,s,c){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(t,r,s,c){return new B1(t,r,s,c)}function bu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function V1(t){if(typeof t=="function")return bu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Z)return 11;if(t===Y)return 14}return 2}function dr(t,r){var s=t.alternate;return s===null?(s=Qt(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function Il(t,r,s,c,p,w){var E=2;if(c=t,typeof t=="function")bu(t)&&(E=1);else if(typeof t=="string")E=5;else e:switch(t){case P:return Vr(s.children,p,w,r);case O:E=8,p|=8;break;case W:return t=Qt(12,s,r,p|2),t.elementType=W,t.lanes=w,t;case X:return t=Qt(13,s,r,p),t.elementType=X,t.lanes=w,t;case N:return t=Qt(19,s,r,p),t.elementType=N,t.lanes=w,t;case L:return Nl(s,p,w,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U:E=10;break e;case Q:E=9;break e;case Z:E=11;break e;case Y:E=14;break e;case $:E=16,c=null;break e}throw Error(o(130,t==null?t:typeof t,""))}return r=Qt(E,s,r,p),r.elementType=t,r.type=c,r.lanes=w,r}function Vr(t,r,s,c){return t=Qt(7,t,c,r),t.lanes=s,t}function Nl(t,r,s,c){return t=Qt(22,t,c,r),t.elementType=L,t.lanes=s,t.stateNode={isHidden:!1},t}function Su(t,r,s){return t=Qt(6,t,null,r),t.lanes=s,t}function Eu(t,r,s){return r=Qt(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function H1(t,r,s,c,p){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qa(0),this.expirationTimes=Qa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qa(0),this.identifierPrefix=c,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function ku(t,r,s,c,p,w,E,z,H){return t=new H1(t,r,s,z,H),r===1?(r=1,w===!0&&(r|=8)):r=0,w=Qt(3,null,null,r),t.current=w,w.stateNode=t,w.memoizedState={element:c,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rc(w),t}function W1(t,r,s){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:c==null?null:""+c,children:t,containerInfo:r,implementation:s}}function Sh(t){if(!t)return nr;t=t._reactInternals;e:{if(hn(t)!==t||t.tag!==1)throw Error(o(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(It(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(o(171))}if(t.tag===1){var s=t.type;if(It(s))return Qf(t,s,r)}return r}function Eh(t,r,s,c,p,w,E,z,H){return t=ku(s,c,!0,t,p,w,E,z,H),t.context=Sh(null),s=t.current,c=Et(),p=cr(s),w=Pn(c,p),w.callback=r??null,ir(s,w,p),t.current.lanes=p,fi(t,p,c),Dt(t,c),t}function Ml(t,r,s,c){var p=r.current,w=Et(),E=cr(p);return s=Sh(s),r.context===null?r.context=s:r.pendingContext=s,r=Pn(w,E),r.payload={element:t},c=c===void 0?null:c,c!==null&&(r.callback=c),t=ir(p,r,E),t!==null&&(ln(t,p,E,w),sl(t,p,E)),E}function Dl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function kh(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function Cu(t,r){kh(t,r),(t=t.alternate)&&kh(t,r)}var Ch=typeof reportError=="function"?reportError:function(t){console.error(t)};function _u(t){this._internalRoot=t}Tl.prototype.render=_u.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(o(409));Ml(t,r,null,null)},Tl.prototype.unmount=_u.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Or(function(){Ml(null,t,null,null)}),r[In]=null}};function Tl(t){this._internalRoot=t}Tl.prototype.unstable_scheduleHydration=function(t){if(t){var r=af();t={blockedOn:null,target:t,priority:r};for(var s=0;s<Kn.length&&r!==0&&r<Kn[s].priority;s++);Kn.splice(s,0,t),s===0&&df(t)}};function Iu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _h(){}function U1(t,r,s,c,p){if(p){if(typeof c=="function"){var w=c;c=function(){var J=Dl(E);w.call(J)}}var E=Eh(r,c,t,0,null,!1,!1,"",_h);return t._reactRootContainer=E,t[In]=E.current,_i(t.nodeType===8?t.parentNode:t),Or(),E}for(;p=t.lastChild;)t.removeChild(p);if(typeof c=="function"){var z=c;c=function(){var J=Dl(H);z.call(J)}}var H=ku(t,0,!1,null,null,!1,!1,"",_h);return t._reactRootContainer=H,t[In]=H.current,_i(t.nodeType===8?t.parentNode:t),Or(function(){Ml(r,H,s,c)}),H}function jl(t,r,s,c,p){var w=s._reactRootContainer;if(w){var E=w;if(typeof p=="function"){var z=p;p=function(){var H=Dl(E);z.call(H)}}Ml(r,E,t,p)}else E=U1(s,r,t,p,c);return Dl(E)}sf=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var s=Dr(r.pendingLanes);s!==0&&(Ka(r,s|1),Dt(r,Ze()),!(Le&6)&&(Po=Ze()+500,rr()))}break;case 13:Or(function(){var c=Tn(t,1);if(c!==null){var p=Et();ln(c,t,1,p)}}),Cu(t,1)}},qa=function(t){if(t.tag===13){var r=Tn(t,134217728);if(r!==null){var s=Et();ln(r,t,134217728,s)}Cu(t,134217728)}},lf=function(t){if(t.tag===13){var r=cr(t),s=Tn(t,r);if(s!==null){var c=Et();ln(s,t,r,c)}Cu(t,r)}},af=function(){return Fe},cf=function(t,r){var s=Fe;try{return Fe=t,r()}finally{Fe=s}},ii=function(t,r,s){switch(r){case"input":if(Er(t,s),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<s.length;r++){var c=s[r];if(c!==t&&c.form===t.form){var p=Qs(c);if(!p)throw Error(o(90));be(c),Er(c,p)}}}break;case"textarea":no(t,s);break;case"select":r=s.value,r!=null&&pn(t,!!s.multiple,r,!1)}},Es=vu,ks=Or;var Y1={usingClientEntryPoint:!1,Events:[Mi,xo,Qs,si,Ss,vu]},Hi={findFiberByHostInstance:Tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G1={bundleType:Hi.bundleType,version:Hi.version,rendererPackageName:Hi.rendererPackageName,rendererConfig:Hi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ms(t),t===null?null:t.stateNode},findFiberByHostInstance:Hi.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Al.isDisabled&&Al.supportsFiber)try{ao=Al.inject(G1),Wt=Al}catch{}}return Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y1,Tt.createPortal=function(t,r){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Iu(r))throw Error(o(200));return W1(t,r,null,s)},Tt.createRoot=function(t,r){if(!Iu(t))throw Error(o(299));var s=!1,c="",p=Ch;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(p=r.onRecoverableError)),r=ku(t,1,!1,null,null,s,!1,c,p),t[In]=r.current,_i(t.nodeType===8?t.parentNode:t),new _u(r)},Tt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=Ms(r),t=t===null?null:t.stateNode,t},Tt.flushSync=function(t){return Or(t)},Tt.hydrate=function(t,r,s){if(!Pl(r))throw Error(o(200));return jl(null,t,r,!0,s)},Tt.hydrateRoot=function(t,r,s){if(!Iu(t))throw Error(o(405));var c=s!=null&&s.hydratedSources||null,p=!1,w="",E=Ch;if(s!=null&&(s.unstable_strictMode===!0&&(p=!0),s.identifierPrefix!==void 0&&(w=s.identifierPrefix),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),r=Eh(r,null,t,1,s??null,p,!1,w,E),t[In]=r.current,_i(t),c)for(t=0;t<c.length;t++)s=c[t],p=s._getVersion,p=p(s._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[s,p]:r.mutableSourceEagerHydrationData.push(s,p);return new Tl(r)},Tt.render=function(t,r,s){if(!Pl(r))throw Error(o(200));return jl(null,t,r,!1,s)},Tt.unmountComponentAtNode=function(t){if(!Pl(t))throw Error(o(40));return t._reactRootContainer?(Or(function(){jl(null,null,t,!1,function(){t._reactRootContainer=null,t[In]=null})}),!0):!1},Tt.unstable_batchedUpdates=vu,Tt.unstable_renderSubtreeIntoContainer=function(t,r,s,c){if(!Pl(s))throw Error(o(200));if(t==null||t._reactInternals===void 0)throw Error(o(38));return jl(t,r,s,!1,c)},Tt.version="18.3.1-next-f1338f8080-20240426",Tt}var Ah;function am(){if(Ah)return Du.exports;Ah=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),Du.exports=nv(),Du.exports}var Lh;function rv(){if(Lh)return Ll;Lh=1;var e=am();return Ll.createRoot=e.createRoot,Ll.hydrateRoot=e.hydrateRoot,Ll}var ov=rv();const xn={Left:"left",Right:"right",Bottom:"bottom"},Ui={Length:"length",Angle:"angle"},iv={Pixels:{symbol:"px",category:Ui.Length,baseConversion:1},Percent:{symbol:"%",category:Ui.Length,baseConversion:1,toBase:(e,n)=>n!=null&&n.containerSize?e/100*n.containerSize:0,fromBase:(e,n)=>n!=null&&n.containerSize?e/n.containerSize*100:0},Rem:{symbol:"rem",category:Ui.Length,baseConversion:16,toBase:(e,n)=>e*((n==null?void 0:n.rootFontSize)??16),fromBase:(e,n)=>e/((n==null?void 0:n.rootFontSize)??16)},Degrees:{symbol:"deg",category:Ui.Angle,baseConversion:1},Radians:{symbol:"rad",category:Ui.Angle,baseConversion:180/Math.PI,toBase:e=>e*(180/Math.PI),fromBase:e=>e*(Math.PI/180)}},Bt={getUnitDefinition(e){const n=Object.values(iv).find(o=>o.symbol===e);if(!n)throw new Error(`Unknown unit type: ${e}`);return n},convert(e,n,o){const i=this.getUnitDefinition(e.unit),l=this.getUnitDefinition(n);if(i.category!==l.category)throw new Error(`Cannot convert from ${e.unit} to ${n}: incompatible unit categories`);let a=e.value;i.toBase?a=i.toBase(a,o):a*=i.baseConversion;let u=a;return l.fromBase?u=l.fromBase(u,o):u/=l.baseConversion,{value:u,unit:n}},create(e,n){return{value:e,unit:n}}},na={transform(e,n){const o={};for(const i in e)o[i]=n(e[i]);return o},convert(e,n="px",o){return this.transform(e,i=>Bt.convert(i,n,o))},combine(e,n,o){const i={};for(const l in e)i[l]=o(e[l],n[l]);return i},add(e,n,o){const i=this.convert(e,"px",o),l=this.convert(n,"px",o);return this.combine(i,l,(a,u)=>Bt.create(a.value+u.value,"px"))}},cd={create(e,n){return{x:e,y:n}},uniform(e,n="px"){const o=Bt.create(e,n);return{x:o,y:o}},zero(){return this.uniform(0,"px")},convert(e,n="px",o){return na.convert(e,n,o)},add(e,n,o){return na.add(e,n,o)},equals(e,n,o){const i=this.convert(e,"px",o),l=this.convert(n,"px",o);return Math.abs(i.x.value-l.x.value)<Number.EPSILON&&Math.abs(i.y.value-l.y.value)<Number.EPSILON},fromValue(e,n){return e?typeof e=="number"?this.uniform(e,"px"):"unit"in e&&"value"in e?this.uniform(e.value,e.unit):e:n},toXYPosition(e){return e=this.convert(e,"px"),{x:e.x.value,y:e.y.value}},fromXYPosition(e){return{x:Bt.create(e.x,"px"),y:Bt.create(e.y,"px")}}},ra={create(e,n){return{width:e,height:n}},uniform(e,n="px"){const o=Bt.create(e,n);return{width:o,height:o}},convert(e,n="px",o){return na.convert(e,n,o)},add(e,n,o){return na.add(e,n,o)},equals(e,n,o){const i=this.convert(e,"px",o),l=this.convert(n,"px",o);return Math.abs(i.width.value-l.width.value)<Number.EPSILON&&Math.abs(i.height.value-l.height.value)<Number.EPSILON},fromValue(e,n){return e?typeof e=="number"?this.uniform(e,"px"):Array.isArray(e)?this.create(Bt.create(e[0],"px"),Bt.create(e[1],"px")):"unit"in e&&"value"in e?this.uniform(e.value,e.unit):e:n},fromPreset(e,n,o,i){if(!e){const l=n[i][o];return this.fromValue(l,this.minimum())}if(typeof e=="string"){const l=n[e in n?e:i][o];return this.fromValue(l,this.minimum())}return this.fromValue(e,this.minimum())},minimum(){return this.uniform(1,"px")},fits(e,n,o){const i=this.convert(e,"px",o),l=this.convert(n,"px",o);return i.width.value<=l.width.value&&i.height.value<=l.height.value},area(e,n){const o=this.convert(e,"px",n);return o.width.value*o.height.value}},zh=e=>{let n;const o=new Set,i=(y,g)=>{const h=typeof y=="function"?y(n):y;if(!Object.is(h,n)){const m=n;n=g??(typeof h!="object"||h===null)?h:Object.assign({},n,h),o.forEach(v=>v(n,m))}},l=()=>n,d={setState:i,getState:l,getInitialState:()=>f,subscribe:y=>(o.add(y),()=>o.delete(y))},f=n=e(i,l,d);return d},sv=e=>e?zh(e):zh,lv=e=>e;function av(e,n=lv){const o=ad.useSyncExternalStore(e.subscribe,()=>n(e.getState()),()=>n(e.getInitialState()));return ad.useDebugValue(o),o}const Rh=e=>{const n=sv(e),o=i=>av(n,i);return Object.assign(o,n),o},fs=e=>e?Rh(e):Rh;function cv(e,n){let o;try{o=e()}catch{return}return{getItem:l=>{var a;const u=f=>f===null?null:JSON.parse(f,void 0),d=(a=o.getItem(l))!=null?a:null;return d instanceof Promise?d.then(u):u(d)},setItem:(l,a)=>o.setItem(l,JSON.stringify(a,void 0)),removeItem:l=>o.removeItem(l)}}const ud=e=>n=>{try{const o=e(n);return o instanceof Promise?o:{then(i){return ud(i)(o)},catch(i){return this}}}catch(o){return{then(i){return this},catch(i){return ud(i)(o)}}}},uv=(e,n)=>(o,i,l)=>{let a={storage:cv(()=>localStorage),partialize:b=>b,version:0,merge:(b,k)=>({...k,...b}),...n},u=!1;const d=new Set,f=new Set;let y=a.storage;if(!y)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),o(...b)},i,l);const g=()=>{const b=a.partialize({...i()});return y.setItem(a.name,{state:b,version:a.version})},h=l.setState;l.setState=(b,k)=>{h(b,k),g()};const m=e((...b)=>{o(...b),g()},i,l);l.getInitialState=()=>m;let v;const S=()=>{var b,k;if(!y)return;u=!1,d.forEach(T=>{var C;return T((C=i())!=null?C:m)});const I=((k=a.onRehydrateStorage)==null?void 0:k.call(a,(b=i())!=null?b:m))||void 0;return ud(y.getItem.bind(y))(a.name).then(T=>{if(T)if(typeof T.version=="number"&&T.version!==a.version){if(a.migrate){const C=a.migrate(T.state,T.version);return C instanceof Promise?C.then(_=>[!0,_]):[!0,C]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,T.state];return[!1,void 0]}).then(T=>{var C;const[_,F]=T;if(v=a.merge(F,(C=i())!=null?C:m),o(v,!0),_)return g()}).then(()=>{I==null||I(v,void 0),v=i(),u=!0,f.forEach(T=>T(v))}).catch(T=>{I==null||I(void 0,T)})};return l.persist={setOptions:b=>{a={...a,...b},b.storage&&(y=b.storage)},clearStorage:()=>{y==null||y.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>S(),hasHydrated:()=>u,onHydrate:b=>(d.add(b),()=>{d.delete(b)}),onFinishHydration:b=>(f.add(b),()=>{f.delete(b)})},a.skipHydration||S(),v||m},zd=uv;function RC(e){return e}class $t extends Error{constructor(n,o){super(n),this.code=o,this.name="StoreError"}}const Fo={INVALID_DEFINITION:"INVALID_DEFINITION",DEFINITION_NOT_FOUND:"DEFINITION_NOT_FOUND",INVALID_INSTANCE:"INVALID_INSTANCE",INSTANCE_NOT_FOUND:"INSTANCE_NOT_FOUND",BINDING_NOT_FOUND:"BINDING_NOT_FOUND",INVALID_PANEL_ID:"INVALID_PANEL_ID",INVALID_GRID_SETTINGS:"INVALID_GRID_SETTINGS",INVALID_COMPONENT_SELECTION:"INVALID_COMPONENT_SELECTION"},dv=e=>typeof e=="function"&&"displayName"in e,fv=e=>Array.isArray(e)&&e.length>0&&Array.isArray(e[0])&&e[0].length===2,dd=(e,n,o)=>M.Children.map(e,i=>{if(!M.isValidElement(i))return i;const l=i.type,a={...i.props};return typeof l=="string"&&["path","circle","rect","line"].includes(l)&&n.strokeWidth!==void 0&&(a.strokeWidth=n.strokeWidth/o),dv(l)&&(n.className!==void 0&&(a.className=n.className),n.size!==void 0&&(a.size=n.size),n.strokeWidth!==void 0&&(a.strokeWidth=n.strokeWidth),n.viewBoxSize!==void 0&&(a.viewBoxSize=n.viewBoxSize),n["aria-label"]!==void 0&&(a["aria-label"]=n["aria-label"])),i.props.children&&(a.children=dd(i.props.children,n,o)),M.cloneElement(i,a)}),_e=(e,n={})=>{const{defaultSize:o=24,defaultViewBoxSize:i=24,setStrokeColor:l=!1,strokeLinecap:a="",strokeLinejoin:u="",setFillColor:d=!1,fill:f="",stroke:y=""}=n,g=({className:h="",size:m=o,viewBoxSize:v=i,strokeWidth:S=2,"aria-label":b})=>{const k=v/i,I={className:h,size:m,viewBoxSize:v,strokeWidth:S,"aria-label":b};if(fv(e))return x.jsx("svg",{width:m,height:m,viewBox:`0 0 ${v} ${v}`,fill:"none",xmlns:"http://www.w3.org/2000/svg",className:`inline-block ${h}`,"aria-label":b,children:e.map(([C,_],F)=>{const{setStrokeColor:V=l,strokeLinecap:P=a,strokeLinejoin:O=u,setFillColor:W=d,fill:U=f,stroke:Q=y}=_,Z=typeof C=="string"?x.jsx("path",{d:C,stroke:Q||"currentColor",strokeWidth:S/k,strokeLinecap:P||"round",strokeLinejoin:O||"round",fill:U||(W?"currentColor":"none")}):dd(C,I,k);return x.jsx("g",{transform:k!==1?`scale(${k})`:void 0,...V&&{stroke:Q||"currentColor"},...P!==""&&{strokeLinecap:P},...O!==""&&{strokeLinejoin:O},...W&&{fill:U||"currentColor"},children:Z},F)})});const T=typeof e=="string"?x.jsx("path",{d:e,stroke:y||"currentColor",strokeWidth:S/k,strokeLinecap:"round",strokeLinejoin:"round",fill:f||(d?"currentColor":"none")}):dd(e,I,k);return x.jsx("svg",{width:m,height:m,viewBox:`0 0 ${v} ${v}`,fill:"none",xmlns:"http://www.w3.org/2000/svg",className:`inline-block ${h}`,"aria-label":b,children:x.jsx("g",{transform:k!==1?`scale(${k})`:void 0,...l&&{stroke:y||"currentColor"},...a!==""&&{strokeLinecap:a},...u!==""&&{strokeLinejoin:u},...d&&{fill:f||"currentColor"},children:T})})};return g.displayName="Icon",g},Rd=_e(x.jsx(x.Fragment,{children:x.jsx("path",{d:"M6 9l6 6l6 -6"})}),{setStrokeColor:!0,strokeLinecap:"round"}),pv=_e(x.jsxs(x.Fragment,{children:[x.jsx("path",{d:"M18 6l-12 12"}),x.jsx("path",{d:"M6 6l12 12"})]}),{setStrokeColor:!0,strokeLinecap:"round"});_e(x.jsx(x.Fragment,{children:x.jsx("path",{d:"M5 12l5 5l10 -10"})}),{setStrokeColor:!0,strokeLinecap:"round"});const hv=_e(x.jsx(x.Fragment,{children:x.jsx("path",{d:"M5 11.57a6.5 6.5 0 0 0 6.54 6.54c3.64 0 6.55-2.9 6.55-6.54a6.54 6.54 0 1 0-13.09 0Zm2.91 0c0-2 1.64-3.66 3.63-3.66 2 0 3.64 1.66 3.64 3.66a3.65 3.65 0 0 1-3.64 3.63 3.64 3.64 0 0 1-3.63-3.63Zm12.63 5.96c-.04.23.12.4.34.4h2.15c.18 0 .33-.15.35-.3l.8-5.62h.04l3.07 5.9c.06.11.2.2.31.2h.33c.1 0 .25-.09.3-.2l3.07-5.9h.04l.81 5.63c.02.14.19.29.35.29h2.15c.22 0 .38-.16.35-.4L32.93 5.29c-.02-.16-.19-.29-.33-.29h-.3c-.08 0-.25.07-.3.18l-4.23 7.87h-.03l-4.23-7.87c-.05-.1-.22-.18-.3-.18h-.3c-.14 0-.3.13-.33.3l-2.05 12.23ZM6.08 34.47c0 .18.17.35.35.35H8.6c.2 0 .34-.17.34-.35v-6.79h.02l7.2 7.23c.03.04.18.09.23.09h.3c.17 0 .34-.15.34-.33V22.42a.36.36 0 0 0-.35-.35H14.5c-.2 0-.35.16-.35.35v6.46h-.02l-7.26-7H6.4a.35.35 0 0 0-.35.34l.02 12.25Zm20.25.18c0 .19.16.35.34.35h2.19c.18 0 .34-.16.34-.35V22.6a.36.36 0 0 0-.34-.35h-2.19a.36.36 0 0 0-.34.35v12.05Z"})}),{setFillColor:!0,defaultViewBoxSize:40});_e(x.jsx(x.Fragment,{children:x.jsx("path",{d:"M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"})}),{setStrokeColor:!0,strokeLinecap:"round"});_e(x.jsx(x.Fragment,{children:x.jsx("path",{d:"M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z"})}),{setStrokeColor:!0,strokeLinecap:"round"});_e(x.jsx(x.Fragment,{children:x.jsx("path",{d:"M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z"})}),{setFillColor:!0});_e(x.jsxs(x.Fragment,{children:[x.jsx("path",{d:"M10 5a2 2 0 1 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3h-16a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6"}),x.jsx("path",{d:"M9 17v1a3 3 0 0 0 6 0v-1"})]}),{setStrokeColor:!0,strokeLinecap:"round"});_e(x.jsxs(x.Fragment,{children:[x.jsx("path",{d:"M14.235 19c.865 0 1.322 1.024 .745 1.668a3.992 3.992 0 0 1 -2.98 1.332a3.992 3.992 0 0 1 -2.98 -1.332c-.552 -.616 -.158 -1.579 .634 -1.661l.11 -.006h4.471z"}),x.jsx("path",{d:"M12 2c1.358 0 2.506 .903 2.875 2.141l.046 .171l.008 .043a8.013 8.013 0 0 1 4.024 6.069l.028 .287l.019 .289v2.931l.021 .136a3 3 0 0 0 1.143 1.847l.167 .117l.162 .099c.86 .487 .56 1.766 -.377 1.864l-.116 .006h-16c-1.028 0 -1.387 -1.364 -.493 -1.87a3 3 0 0 0 1.472 -2.063l.021 -.143l.001 -2.97a8 8 0 0 1 3.821 -6.454l.248 -.146l.01 -.043a3.003 3.003 0 0 1 2.562 -2.29l.182 -.017l.176 -.004z"})]}),{setFillColor:!0});const $h=_e(x.jsxs(x.Fragment,{children:[x.jsx("path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"}),x.jsx("path",{d:"M21 21l-6 -6"})]}),{setStrokeColor:!0,strokeLinecap:"round"}),gv=_e(x.jsx(x.Fragment,{children:x.jsx("path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z"})}),{setStrokeColor:!0,strokeLinecap:"round"});_e(x.jsx(x.Fragment,{children:x.jsx("path",{d:"M20 3h-16a1 1 0 0 0 -1 1v2.227l.008 .223a3 3 0 0 0 .772 1.795l4.22 4.641v8.114a1 1 0 0 0 1.316 .949l6 -2l.108 -.043a1 1 0 0 0 .576 -.906v-6.586l4.121 -4.12a3 3 0 0 0 .879 -2.123v-2.171a1 1 0 0 0 -1 -1z"})}),{setFillColor:!0});_e(x.jsxs(x.Fragment,{children:[x.jsx("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),x.jsx("path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"})]}),{setStrokeColor:!0,strokeLinecap:"round"});_e(x.jsx(x.Fragment,{children:x.jsx("path",{d:"M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2"})}),{setStrokeColor:!0,strokeLinecap:"round"});const mv=_e(x.jsxs(x.Fragment,{children:[x.jsx("path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4"}),x.jsx("path",{d:"M13.5 6.5l4 4"})]}),{setStrokeColor:!0,strokeLinecap:"round"}),yv=_e(x.jsxs(x.Fragment,{children:[x.jsx("path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"}),x.jsx("path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"})]}),{setStrokeColor:!0,strokeLinecap:"round"});_e(x.jsxs(x.Fragment,{children:[x.jsx("path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"}),x.jsx("path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),x.jsx("path",{d:"M14 4l0 4l-6 0l0 -4"})]}),{setStrokeColor:!0,strokeLinecap:"round"});_e(x.jsx(x.Fragment,{children:x.jsx("path",{d:"M7 4v16l13 -8z"})}),{setStrokeColor:!0,strokeLinecap:"round"});_e(x.jsxs(x.Fragment,{children:[x.jsx("path",{d:"M6 5m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v12a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z"}),x.jsx("path",{d:"M14 5m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v12a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z"})]}),{setStrokeColor:!0,strokeLinecap:"round"});_e(x.jsxs(x.Fragment,{children:[x.jsx("path",{d:"M11 5l6 0"}),x.jsx("path",{d:"M7 19l6 0"}),x.jsx("path",{d:"M14 5l-4 14"})]}),{setStrokeColor:!0,strokeLinecap:"round"});_e(x.jsxs(x.Fragment,{children:[x.jsx("path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7h-6z"}),x.jsx("path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7h-7v-7"})]}),{setStrokeColor:!0,strokeLinecap:"round"});_e(x.jsxs(x.Fragment,{children:[x.jsx("path",{d:"M7 5v5a5 5 0 0 0 10 0v-5"}),x.jsx("path",{d:"M5 19h14"})]}),{setStrokeColor:!0,strokeLinecap:"round"});_e(x.jsxs(x.Fragment,{children:[x.jsx("path",{d:"M4 6l16 0"}),x.jsx("path",{d:"M4 12l10 0"}),x.jsx("path",{d:"M4 18l14 0"})]}),{setStrokeColor:!0,strokeLinecap:"round"});_e(x.jsxs(x.Fragment,{children:[x.jsx("path",{d:"M4 6l16 0"}),x.jsx("path",{d:"M9 12l6 0"}),x.jsx("path",{d:"M4 18l16 0"})]}),{setStrokeColor:!0,strokeLinecap:"round"});_e(x.jsxs(x.Fragment,{children:[x.jsx("path",{d:"M4 6l16 0"}),x.jsx("path",{d:"M10 12l10 0"}),x.jsx("path",{d:"M6 18l14 0"})]}),{setStrokeColor:!0,strokeLinecap:"round"});_e(x.jsxs(x.Fragment,{children:[x.jsx("path",{d:"M4 6l16 0"}),x.jsx("path",{d:"M4 12l16 0"}),x.jsx("path",{d:"M4 18l16 0"})]}),{setStrokeColor:!0,strokeLinecap:"round"});_e([[x.jsx(x.Fragment,{children:x.jsx("path",{d:"M45 2a.997.997 0 0 1 1 1v42a.997.997 0 0 1-1 1H3a.997.997 0 0 1-1-1V3a.997.997 0 0 1 1-1h42ZM18.459 2.469v43.333M18.459 7.676H2"})}),{setStrokeColor:!0,strokeLinecap:"round"}],[x.jsx(x.Fragment,{children:x.jsx("path",{d:"m27.679 24-5.714 6.689V17.311L27.679 24Z"})}),{setFillColor:!0}]],{defaultViewBoxSize:48});_e([[x.jsx(x.Fragment,{children:x.jsx("path",{d:"M37.097 5.936a5 5 0 0 1 5 5v26.195a5 5 0 0 1-5 5H10.903a5 5 0 0 1-5-5V10.936a5 5 0 0 1 5-5h26.194Z"})}),{setStrokeColor:!0,strokeLinecap:"round"}],[x.jsx(x.Fragment,{children:x.jsx("path",{d:"M28.605 24A4.614 4.614 0 0 1 24 28.605 4.614 4.614 0 0 1 19.395 24 4.614 4.614 0 0 1 24 19.395 4.614 4.614 0 0 1 28.605 24Zm9.209-1.961c0-.305-.216-.593-.521-.647l-3.292-.504a9.937 9.937 0 0 0-.738-1.763c.612-.845 1.278-1.636 1.889-2.464a.679.679 0 0 0 .144-.413.613.613 0 0 0-.126-.396c-.755-1.061-2.015-2.177-2.968-3.058a.71.71 0 0 0-.45-.18.612.612 0 0 0-.431.162l-2.554 1.925a10.6 10.6 0 0 0-1.619-.666l-.504-3.31c-.036-.305-.324-.539-.647-.539h-3.994a.66.66 0 0 0-.647.503c-.288 1.08-.396 2.249-.522 3.346-.557.18-1.115.414-1.637.684l-2.482-1.925a.8.8 0 0 0-.467-.18c-.612 0-3.04 2.626-3.472 3.22-.09.126-.162.252-.162.414 0 .161.072.305.18.431.665.81 1.313 1.619 1.925 2.482a9.547 9.547 0 0 0-.702 1.655l-3.346.504c-.269.054-.485.378-.485.647v3.994c0 .305.216.593.521.647l3.292.486c.18.611.432 1.205.738 1.781-.612.845-1.278 1.636-1.889 2.464a.7.7 0 0 0-.018.827c.755 1.043 2.015 2.159 2.968 3.022a.644.644 0 0 0 .45.198.69.69 0 0 0 .449-.162l2.536-1.925a10.6 10.6 0 0 0 1.619.666l.504 3.31c.036.305.324.539.647.539h3.994a.66.66 0 0 0 .647-.503c.288-1.08.396-2.249.522-3.346.557-.18 1.115-.414 1.637-.684l2.482 1.943c.144.09.306.162.467.162.612 0 3.04-2.644 3.472-3.22a.6.6 0 0 0 .162-.414.71.71 0 0 0-.18-.449c-.665-.81-1.313-1.601-1.925-2.482.288-.522.504-1.062.702-1.637l3.328-.504c.287-.054.503-.378.503-.647v-3.994Z"})}),{setFillColor:!0}]],{defaultViewBoxSize:48});_e([[x.jsx(x.Fragment,{children:x.jsx("path",{d:"M41 15.2a5 5 0 0 1 5 5v7.6a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5v-7.6a5 5 0 0 1 5-5h34Z"})}),{setStrokeColor:!0,strokeLinecap:"round"}],[x.jsx(x.Fragment,{children:x.jsx("path",{d:"M6.394 27.367v-6.825h.837l2.678 4.997h-.298l2.666-4.997h.823v6.825h-.907v-5.405h.218l-2.353 4.36h-.614l-2.378-4.37h.235v5.415h-.907ZM16.816 27.458c-.515 0-.958-.099-1.331-.297a2.087 2.087 0 0 1-.861-.845c-.203-.365-.304-.799-.304-1.3 0-.491.099-.919.297-1.286.197-.367.471-.654.819-.862a2.293 2.293 0 0 1 1.197-.312c.439 0 .814.095 1.125.285.312.19.552.459.722.807.17.348.255.765.255 1.25v.327h-3.644v-.599h2.977l-.157.137c0-.482-.107-.855-.319-1.119-.212-.265-.521-.397-.927-.397-.301 0-.557.071-.768.211a1.323 1.323 0 0 0-.48.587c-.11.251-.164.544-.164.881v.062c0 .376.059.69.178.943s.296.443.532.572c.235.128.522.192.862.192.272 0 .539-.042.8-.127.262-.084.507-.22.736-.407l.297.673a2.413 2.413 0 0 1-.83.455 3.137 3.137 0 0 1-1.012.169ZM19.794 27.367v-4.72h.954v1.005h-.107c.139-.361.36-.634.665-.819a1.968 1.968 0 0 1 1.042-.277c.379 0 .692.069.939.206.247.138.431.348.553.629.122.282.183.637.183 1.063v2.913h-.978v-2.861c0-.269-.034-.49-.103-.661a.741.741 0 0 0-.319-.382 1.097 1.097 0 0 0-.55-.124c-.26 0-.489.056-.685.167a1.137 1.137 0 0 0-.456.473 1.523 1.523 0 0 0-.161.717v2.671h-.977ZM27.06 27.458c-.386 0-.706-.071-.961-.214a1.317 1.317 0 0 1-.569-.638c-.124-.283-.187-.635-.187-1.056v-2.903h.978v2.906c0 .251.034.46.101.628a.713.713 0 0 0 .32.373c.145.08.328.12.548.12.246 0 .461-.056.646-.168.185-.112.331-.27.436-.474.106-.204.159-.443.159-.717v-2.668h.978v4.72h-.955v-1.041h.13c-.131.365-.34.645-.624.84a1.734 1.734 0 0 1-1 .292ZM40.758 23.67a.228.228 0 0 0-.066-.152l-.331-.33a.224.224 0 0 0-.152-.066.226.226 0 0 0-.152.066l-2.599 2.599-2.599-2.599a.226.226 0 0 0-.152-.066.213.213 0 0 0-.152.066l-.331.33a.233.233 0 0 0-.066.152c0 .053.027.113.066.153l3.082 3.081c.04.04.099.066.152.066a.224.224 0 0 0 .152-.066l3.082-3.081c.04-.04.066-.1.066-.153Z"})}),{setFillColor:!0}]],{defaultViewBoxSize:48});const vv=_e(x.jsx(x.Fragment,{children:x.jsx("path",{d:"M45 2a.997.997 0 0 1 1 1v42a.997.997 0 0 1-1 1H3a.997.997 0 0 1-1-1V3a.997.997 0 0 1 1-1h42Z"})}),{setStrokeColor:!0,strokeLinecap:"round",defaultViewBoxSize:48}),zl=_e([[x.jsx(x.Fragment,{children:x.jsx("path",{d:"M41 15.2a5 5 0 0 1 5 5v7.6a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5v-7.6a5 5 0 0 1 5-5h34Z"})}),{setStrokeColor:!0,strokeLinecap:"round"}],[x.jsx(x.Fragment,{children:x.jsx("path",{d:"M9.602 27.367v-6.825h2.842c.708 0 1.258.156 1.648.468.39.312.585.749.585 1.309 0 .419-.123.77-.367 1.054-.244.284-.577.474-.997.568v-.142c.318.042.592.136.821.282.23.147.406.337.528.571.122.234.183.509.183.824 0 .402-.09.745-.27 1.029-.18.283-.442.498-.785.643-.343.146-.754.219-1.234.219H9.602Zm.964-.777h1.877c.193 0 .366-.014.52-.043.153-.029.286-.074.398-.135a.907.907 0 0 0 .452-.553c.037-.123.056-.261.056-.415 0-.159-.019-.3-.056-.423a.872.872 0 0 0-.169-.319.967.967 0 0 0-.283-.227 1.359 1.359 0 0 0-.398-.135 2.824 2.824 0 0 0-.52-.043h-1.877v2.293Zm0-3.07h1.718c.471 0 .824-.093 1.061-.28.237-.187.355-.46.355-.82 0-.362-.118-.636-.355-.822-.237-.186-.59-.279-1.061-.279h-1.718v2.201ZM17.782 27.458c-.387 0-.707-.071-.961-.214a1.312 1.312 0 0 1-.569-.638c-.125-.283-.188-.635-.188-1.056v-2.903h.978v2.906c0 .251.034.46.101.628a.717.717 0 0 0 .32.373c.145.08.328.12.548.12.246 0 .461-.056.646-.168.185-.112.331-.27.436-.474.106-.204.159-.443.159-.717v-2.668h.978v4.72h-.954v-1.041h.129a1.663 1.663 0 0 1-.624.84 1.733 1.733 0 0 1-.999.292ZM23.616 27.458c-.592 0-1.033-.153-1.324-.458-.291-.305-.437-.746-.437-1.322v-2.283h-.918v-.748h.918V21.22h.978v1.427h1.463v.748h-1.463v2.209c0 .342.072.6.217.774.145.175.382.262.712.262.097 0 .196-.012.296-.037a9.38 9.38 0 0 0 .29-.075l.159.731c-.1.057-.234.104-.403.142a2.226 2.226 0 0 1-.488.057ZM27.149 27.458c-.592 0-1.033-.153-1.324-.458-.291-.305-.437-.746-.437-1.322v-2.283h-.918v-.748h.918V21.22h.978v1.427h1.464v.748h-1.464v2.209c0 .342.073.6.217.774.145.175.382.262.712.262.098 0 .196-.012.296-.037.1-.024.196-.049.29-.075l.159.731a1.47 1.47 0 0 1-.403.142 2.226 2.226 0 0 1-.488.057ZM30.666 27.458c-.472 0-.882-.1-1.229-.3a2.048 2.048 0 0 1-.808-.853c-.192-.368-.288-.802-.288-1.302 0-.499.096-.932.288-1.298.191-.366.461-.649.808-.849.347-.2.757-.3 1.229-.3.472 0 .882.1 1.229.3.347.2.617.484.808.85.192.367.288.8.288 1.297 0 .5-.096.934-.288 1.302a2.048 2.048 0 0 1-.808.853c-.347.2-.757.3-1.229.3Zm-.003-.763c.408 0 .734-.145.976-.434.243-.289.364-.71.364-1.261 0-.551-.121-.969-.364-1.254-.242-.285-.568-.427-.976-.427-.402 0-.725.142-.969.427-.244.285-.366.703-.366 1.254s.122.972.366 1.261c.244.289.567.434.969.434ZM34.086 27.367v-4.72h.954v1.005h-.107c.139-.361.36-.634.665-.819a1.968 1.968 0 0 1 1.042-.277c.379 0 .692.069.939.206.247.138.431.348.553.629.122.282.183.637.183 1.063v2.913h-.978v-2.861c0-.269-.034-.49-.103-.661a.741.741 0 0 0-.319-.382 1.097 1.097 0 0 0-.55-.124c-.26 0-.489.056-.685.167a1.137 1.137 0 0 0-.456.473 1.523 1.523 0 0 0-.161.717v2.671h-.977Z"})}),{setFillColor:!0}]],{defaultViewBoxSize:48}),xv=_e([[x.jsx(x.Fragment,{children:x.jsx("path",{d:"M45 2a.997.997 0 0 1 1 1v42a.997.997 0 0 1-1 1H3a.997.997 0 0 1-1-1V3a.997.997 0 0 1 1-1h42ZM39.983 2.333v43.334"})}),{setStrokeColor:!0,strokeLinecap:"round"}],[x.jsx(x.Fragment,{children:x.jsx("path",{d:"M44.534 5.209a1 1 0 0 1 1 1v5.958a1 1 0 0 1-1 1h-3.085a1 1 0 0 1-1-1V6.209a1 1 0 0 1 1-1h3.085Z"})}),{setFillColor:!0}]],{defaultViewBoxSize:48});_e(x.jsxs(x.Fragment,{children:[x.jsx("path",{d:"M45 2a1 1 0 0 1 1 1v42a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h42ZM31.26 2v6.02"}),x.jsx("path",{d:"M13.5 2h2.24a1 1 0 0 1 1 1v4.02a1 1 0 0 0 1 1H45a1 1 0 0 1 1 1v4.15"})]}),{setStrokeColor:!0,strokeLinecap:"round",defaultViewBoxSize:48});_e([[x.jsx(x.Fragment,{children:x.jsx("path",{d:"M36 11a1 1 0 0 1 1 1v24a1 1 0 0 1-1 1H12a1 1 0 0 1-1-1V12a1 1 0 0 1 1-1h24Z"})}),{setStrokeColor:!0,strokeLinecap:"round"}],[x.jsx(x.Fragment,{children:x.jsx("path",{d:"M14.48 24.98a1 1 0 0 1 0-1.41l.8-.8a1 1 0 0 1 1.4 0l4.83 4.83 9.8-9.8a1 1 0 0 1 1.41 0l.8.8a1 1 0 0 1 0 1.4l-10.9 10.9c-.62.62-1.6.62-2.22 0L14.48 25Z"})}),{setFillColor:!0}]],{defaultViewBoxSize:48});const oa=_e([[x.jsx(x.Fragment,{children:x.jsx("path",{d:"M20 2a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16Z"})}),{setStrokeColor:!0,strokeLinecap:"round"}],[x.jsx(x.Fragment,{children:x.jsx("path",{d:"M20 2a2 2 0 0 1 2 2v2.7H2V4a2 2 0 0 1 2-2h16Z"})}),{setFillColor:!0}]]),fd=_e(x.jsx(x.Fragment,{children:x.jsx("path",{d:"M20 2a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16Z"})}),{setStrokeColor:!0,strokeLinecap:"round"});_e(x.jsxs(x.Fragment,{children:[x.jsx("path",{d:"M20 2a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16Z"}),x.jsx("path",{d:"M9.22 2H10a2 2 0 0 1 2 2v.7a2 2 0 0 0 2 2h8"})]}),{setStrokeColor:!0,strokeLinecap:"round"});const wv=_e([[x.jsx(x.Fragment,{children:x.jsx("path",{d:"M20 4.95a2 2 0 0 1 2 2v10.1a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6.95a2 2 0 0 1 2-2h16Z"})}),{setStrokeColor:!0,strokeLinecap:"round"}],[x.jsx(x.Fragment,{children:x.jsx("path",{d:"M6.73 14.87h1.64v1.64H6.73zm4.45 0h1.64v1.64h-1.64zm4.45 0h1.64v1.64h-1.64z"})}),{setFillColor:!0}]]),bv=_e(x.jsx(x.Fragment,{children:x.jsx("path",{d:"M18 2a4 4 0 0 1 4 4v12a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V6a4 4 0 0 1 4-4h12Zm-.27 10-5.87-5.87L6 12l5.87 5.87L17.73 12Z"})}),{setFillColor:!0});_e([[x.jsx(x.Fragment,{children:x.jsx("path",{d:"M20 2a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16Z"})}),{setStrokeColor:!0,strokeLinecap:"round"}],[x.jsx(x.Fragment,{children:x.jsx("path",{d:"M17.57 15.43c0 .22-.09.44-.25.6l-1.31 1.3a.89.89 0 0 1-.6.23.85.85 0 0 1-.61-.24l-1.84-1.85a.87.87 0 0 1 .04-1.26c.3.3.55.65 1 .65.47 0 .86-.39.86-.86 0-.45-.35-.7-.65-1a.87.87 0 0 1 1.25-.04l1.86 1.86c.16.16.25.38.25.6Zm-6.27-6.3c0 .27-.11.48-.3.66-.3-.3-.54-.65-1-.65a.86.86 0 0 0-.86.86c0 .45.35.7.65 1a.84.84 0 0 1-.65.28.86.86 0 0 1-.6-.24L6.68 9.18a.85.85 0 0 1 0-1.2l1.31-1.31a.9.9 0 0 1 .6-.24c.23 0 .46.09.62.25l1.84 1.85c.16.16.25.38.25.6Zm7.99 6.3c0-.69-.26-1.33-.75-1.82l-1.86-1.86a2.58 2.58 0 0 0-3.68.04l-.79-.79a2.61 2.61 0 0 0 .05-3.68l-1.84-1.85a2.54 2.54 0 0 0-1.82-.76c-.68 0-1.33.26-1.81.75l-1.32 1.3a2.55 2.55 0 0 0 0 3.63l1.85 1.86a2.58 2.58 0 0 0 3.68-.04l.79.79a2.61 2.61 0 0 0-.05 3.68l1.84 1.85a2.55 2.55 0 0 0 3.63.02l1.32-1.3a2.6 2.6 0 0 0 .76-1.82Z"})}),{setFillColor:!0}]]);const Sv=_e(x.jsxs(x.Fragment,{children:[x.jsx("path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}),x.jsx("path",{d:"M17 17a2 2 0 0 1 -2 -2v-8h-5a2 2 0 0 0 -2 2"}),x.jsx("path",{d:"M7 17a2.775 2.775 0 0 0 2.632 -1.897l.368 -1.103a13.4 13.4 0 0 1 3.236 -5.236l1.764 -1.764"}),x.jsx("path",{d:"M10 14h5"})]}),{setStrokeColor:!0,strokeLinecap:"round"}),Ev=_e(x.jsxs(x.Fragment,{children:[x.jsx("path",{d:"M14 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),x.jsx("path",{d:"M4 6l8 0"}),x.jsx("path",{d:"M16 6l4 0"}),x.jsx("path",{d:"M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),x.jsx("path",{d:"M4 12l2 0"}),x.jsx("path",{d:"M10 12l10 0"}),x.jsx("path",{d:"M17 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),x.jsx("path",{d:"M4 18l11 0"}),x.jsx("path",{d:"M19 18l1 0"})]}),{setStrokeColor:!0,strokeLinecap:"round"}),kv=_e(x.jsxs(x.Fragment,{children:[x.jsx("path",{d:"M7 9.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z"}),x.jsx("path",{d:"M4.012 16.737a2 2 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1"}),x.jsx("path",{d:"M11 14h6"}),x.jsx("path",{d:"M14 11v6"})]}),{setStrokeColor:!0,strokeLinecap:"round"}),Cv=_e(x.jsxs(x.Fragment,{children:[x.jsx("path",{d:"M5 6h15"}),x.jsx("path",{d:"M10 12h10"}),x.jsx("path",{d:"M10 18h10"})]}),{setStrokeColor:!0,strokeLinecap:"round"}),_v=_e(x.jsxs(x.Fragment,{children:[x.jsx("path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v1a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"}),x.jsx("path",{d:"M4 13m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v3a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"}),x.jsx("path",{d:"M14 4m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v3a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"}),x.jsx("path",{d:"M14 15m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v1a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"})]}),{setStrokeColor:!0,strokeLinecap:"round"}),Iv=_e(x.jsxs(x.Fragment,{children:[x.jsx("path",{d:"M5.931 6.936l1.275 4.249m5.607 5.609l4.251 1.275"}),x.jsx("path",{d:"M11.683 12.317l5.759 -5.759"}),x.jsx("path",{d:"M5.5 5.5m-1.5 0a1.5 1.5 0 1 0 3 0a1.5 1.5 0 1 0 -3 0"}),x.jsx("path",{d:"M18.5 5.5m-1.5 0a1.5 1.5 0 1 0 3 0a1.5 1.5 0 1 0 -3 0"}),x.jsx("path",{d:"M18.5 18.5m-1.5 0a1.5 1.5 0 1 0 3 0a1.5 1.5 0 1 0 -3 0"}),x.jsx("path",{d:"M8.5 15.5m-4.5 0a4.5 4.5 0 1 0 9 0a4.5 4.5 0 1 0 -9 0"})]}),{setStrokeColor:!0,strokeLinecap:"round"}),Nv=_e(x.jsxs(x.Fragment,{children:[x.jsx("path",{d:"M3 21v-4a4 4 0 1 1 4 4h-4"}),x.jsx("path",{d:"M21 3a16 16 0 0 0 -12.8 10.2"}),x.jsx("path",{d:"M21 3a16 16 0 0 1 -10.2 12.8"}),x.jsx("path",{d:"M10.6 9a9 9 0 0 1 4.4 4.4"})]}),{setStrokeColor:!0,strokeLinecap:"round"});_e(x.jsxs(x.Fragment,{children:[x.jsx("path",{d:"M9 9v-1a3 3 0 0 1 6 0v1"}),x.jsx("path",{d:"M8 9h8a6 6 0 0 1 1 3v3a5 5 0 0 1 -10 0v-3a6 6 0 0 1 1 -3"}),x.jsx("path",{d:"M3 13l4 0"}),x.jsx("path",{d:"M17 13l4 0"}),x.jsx("path",{d:"M12 20l0 -6"}),x.jsx("path",{d:"M4 19l3.35 -2"}),x.jsx("path",{d:"M20 19l-3.35 -2"}),x.jsx("path",{d:"M4 7l3.75 2.4"}),x.jsx("path",{d:"M20 7l-3.75 2.4"})]}),{setStrokeColor:!0,strokeLinecap:"round"});const Yr=class Yr{constructor(){an(this,"subscriptions",new Map);an(this,"eventHistory",[]);an(this,"maxHistoryLength",100);an(this,"debug",!1)}static getInstance(){return Yr.instance||(Yr.instance=new Yr),Yr.instance}setDebugMode(n){this.debug=n}subscribe(n,o){const i=`sub_${Date.now()}_${Math.random().toString(36).substring(2,9)}`;return this.subscriptions.set(i,{id:i,type:n,handler:o}),this.debug&&console.log(`[EventBus] New subscription to ${n}, ID: ${i}`),i}unsubscribe(n){const o=this.subscriptions.delete(n);return this.debug&&console.log(`[EventBus] Unsubscribed ${n}, success: ${o}`),o}publish(n,o,i){const l={type:n,data:o,timestamp:Date.now(),source:i};this.eventHistory.unshift(l),this.eventHistory.length>this.maxHistoryLength&&this.eventHistory.pop(),this.notifySubscribers(l),this.debug&&console.log(`[EventBus] Published event: ${n}`,o)}notifySubscribers(n){for(const o of this.subscriptions.values())if(o.type===n.type)try{o.handler(n)}catch(i){console.error(`[EventBus] Error in event handler for ${n.type}:`,i)}}getEventHistory(n=10,o){let i=[...this.eventHistory];return o&&(i=i.filter(l=>l.type===o)),i.slice(0,n)}clearEventHistory(){this.eventHistory=[]}getSubscriberCount(n){return n?[...this.subscriptions.values()].filter(o=>o.type===n).length:this.subscriptions.size}};an(Yr,"instance");let pd=Yr;const ye=pd.getInstance(),Oh={showGrid:!0,snapToGrid:!0,gridSize:10},Vt={PROPERTY_EDITOR:"property-editor",COMPONENT_PALETTE:"component-palette",LAYOUT_HIERARCHY:"layout-hierarchy",WIDGET_DEFINITIONS:"widget-definitions",CONNECTIONS:"connections",THEME_MANAGER:"theme-manager"},Mv={PROPERTY_EDITOR:Ev,COMPONENT_PALETTE:kv,LAYOUT_HIERARCHY:Cv,WIDGET_DEFINITIONS:_v,CONNECTIONS:Iv,THEME_MANAGER:Nv},Dv={PROPERTY_EDITOR:"Property Editor",COMPONENT_PALETTE:"Add Components",LAYOUT_HIERARCHY:"Layout Hierarchy",WIDGET_DEFINITIONS:"Widget Definitions",CONNECTIONS:"Connections",THEME_MANAGER:"Theme Manager"},Rl={[Vt.COMPONENT_PALETTE]:{position:xn.Left,isFloating:!1,size:Bt.create(320,"px"),isVisible:!0},[Vt.PROPERTY_EDITOR]:{position:xn.Right,isFloating:!1,size:Bt.create(320,"px"),isVisible:!0},[Vt.LAYOUT_HIERARCHY]:{position:xn.Left,isFloating:!1,size:Bt.create(320,"px"),isVisible:!1},[Vt.THEME_MANAGER]:{position:xn.Bottom,isFloating:!1,size:Bt.create(320,"px"),isVisible:!1}},Fh={selectedComponentId:null,selectedWidgetId:null,previousComponentId:null,previousWidgetId:null,lastSelectionTime:0,selectionCount:0},pt=fs()(zd((e,n)=>({isEditMode:!0,selectedComponent:null,gridSettings:Oh,...Fh,panelStates:Object.keys(Rl).reduce((o,i)=>({...o,[i]:Rl[i]}),{}),toggleEditMode:()=>e(o=>({isEditMode:!o.isEditMode})),togglePanel:o=>{const l=n().panelStates[o];if(!l)throw new $t("Invalid panel ID provided",Fo.INVALID_PANEL_ID);e(a=>({panelStates:{...a.panelStates,[o]:{...l,isVisible:!l.isVisible}}}))},updateGridSettings:o=>{if(o.gridSize!==void 0&&o.gridSize<=0)throw new $t("Grid size must be greater than 0",Fo.INVALID_GRID_SETTINGS);e(i=>({gridSettings:{...i.gridSettings,...o}}))},getPanelConfig:o=>{const l=n().panelStates[o];if(!l)throw new $t("Invalid panel ID provided",Fo.INVALID_PANEL_ID);return l},selectComponent:(o,i,l={openPropertyPanel:!0,syncWithLayoutPanel:!0})=>{const{openPropertyPanel:a=!0,syncWithLayoutPanel:u=!0}=l,d=Date.now(),{selectedComponentId:f,selectedWidgetId:y,lastSelectionTime:g}=n();if(!(d-g<100)&&!(o===f&&i===y)){if(e(h=>({selectedComponentId:o,selectedWidgetId:i,previousComponentId:h.selectedComponentId,previousWidgetId:h.selectedWidgetId,lastSelectionTime:d,selectionCount:h.selectionCount+1,selectedComponent:o})),a&&o){const h=n().panelStates[Vt.PROPERTY_EDITOR];h!=null&&h.isVisible||n().togglePanel(Vt.PROPERTY_EDITOR)}u&&n().syncWithLayoutPanel(o,i),i&&ye.publish("component:selected",{componentId:o,widgetId:i})}},selectInstanceComponent:o=>{e(()=>({selectedComponent:o}))},deselectAll:()=>{const{selectedWidgetId:o}=n();e({selectedComponentId:null,selectedComponent:null,previousComponentId:n().selectedComponentId,lastSelectionTime:Date.now()}),o&&ye.publish("component:deselected",{widgetId:o})},isComponentSelected:o=>n().selectedComponentId===o,deleteSelectedComponent:()=>{const{selectedComponentId:o,selectedWidgetId:i}=n();if(!o||!i){console.warn("No component selected to delete");return}e({selectedComponentId:null,selectedComponent:null,previousComponentId:o,lastSelectionTime:Date.now()});const l=new CustomEvent("component:delete",{detail:{componentId:o,widgetId:i}});document.dispatchEvent(l)},syncWithLayoutPanel:(o,i)=>{const l=window._layoutHierarchyStore;if(l!=null&&l.selectItem)try{o&&i?l.selectItem(`${i}/${o}`):l.selectItem(null)}catch(a){console.error("Error syncing with layout panel:",a)}},getSelectedComponentInfo:()=>{const{selectedComponentId:o,selectedWidgetId:i}=n(),l={componentId:null,widgetId:null,instanceId:null,type:null};if(!o||!i)return l;const a=new CustomEvent("component:getInfo",{detail:{componentId:o,widgetId:i}});return document.dispatchEvent(a),{componentId:o,widgetId:i,instanceId:null,type:null}},resetState:(o={keepEditorState:!0})=>{const{keepEditorState:i=!0}=o,l={...Fh,selectedComponent:null};i||(l.isEditMode=!0,l.gridSettings=Oh,l.panelStates=Object.keys(Rl).reduce((a,u)=>({...a,[u]:Rl[u]}),{})),e(l)}}),{name:"omni-ui-interface"}));function xa(e){const n=Vt[e],o=pt(i=>i.panelStates[n]);if(!o)throw new $t(`Invalid panel name provided: ${e}`,Fo.INVALID_PANEL_ID);return{...o,panelName:e,id:n}}function Tv(e){const n=Vt[e],o=pt(l=>l.togglePanel);return{isVisible:pt(l=>{var a;return((a=l.panelStates[n])==null?void 0:a.isVisible)??!1}),toggle:()=>o(n)}}const Pv="modulepreload",jv=function(e){return"/OmniUI/"+e},Bh={},wn=function(n,o,i){let l=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));l=Promise.allSettled(o.map(f=>{if(f=jv(f),f in Bh)return;Bh[f]=!0;const y=f.endsWith(".css"),g=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const h=document.createElement("link");if(h.rel=y?"stylesheet":Pv,y||(h.as="script"),h.crossOrigin="",h.href=f,d&&h.setAttribute("nonce",d),document.head.appendChild(h),y)return new Promise((m,v)=>{h.addEventListener("load",m),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return l.then(u=>{for(const d of u||[])d.status==="rejected"&&a(d.reason);return n().catch(a)})},Av="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Kl=(e=21)=>{let n="",o=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)n+=Av[o[e]&63];return n};const Lv={getProps:(e,n,o)=>({type:"button",disabled:o.isDisabled,onClick:n.handleClick,onMouseEnter:n.handleMouseEnter,onMouseLeave:n.handleMouseLeave,onFocus:n.handleFocus,onBlur:n.handleBlur,"data-component-id":e.instanceId??"","data-editing":e.editing??!1,"data-selected":o.isSelected}),render:(e,n,o)=>x.jsx("button",{...e,...n.root&&{className:n.root},children:o}),getDefaultStyles:e=>({default:e.reduce((n,o)=>({...n,[o]:{base:"inline-flex items-center justify-center",hover:"bg-gray-100",focus:"ring-2 ring-offset-2 ring-blue-500",active:"bg-gray-200",disabled:"opacity-50 cursor-not-allowed"}}),{})}),supportedBehaviors:["toggle","radio"],defaultBehavior:{name:"button",handleStateChange:(e,n)=>n==="click"?{isActive:!e.isActive}:{}}},zv={getProps:(e,n,o)=>({type:"text",disabled:o.isDisabled,onClick:n.handleClick,onMouseEnter:n.handleMouseEnter,onMouseLeave:n.handleMouseLeave,onFocus:n.handleFocus,onBlur:n.handleBlur,"data-component-id":e.instanceId??"","data-editing":e.editing??!1,"data-selected":o.isSelected}),render:(e,n)=>x.jsx("input",{...e,...n.root&&{className:n.root}}),getDefaultStyles:e=>({default:e.reduce((n,o)=>({...n,[o]:{base:"block w-full border border-gray-300 rounded-md",hover:"hover:border-gray-400",focus:"focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:"disabled:opacity-50 disabled:cursor-not-allowed"}}),{})}),defaultBehavior:{name:"input",handleStateChange:(e,n)=>n==="focus"?{isFocused:!0}:n==="blur"?{isFocused:!1}:{}}},Rv={getProps:(e,n,o)=>({onClick:n.handleClick,onMouseEnter:n.handleMouseEnter,onMouseLeave:n.handleMouseLeave,onFocus:n.handleFocus,onBlur:n.handleBlur,onDragStart:n.handleDragStart,onDragEnd:n.handleDragEnd,onDragOver:n.handleDragOver,onDragLeave:n.handleDragLeave,onDrop:n.handleDrop,draggable:e.draggable,"data-component-id":e.instanceId??"","data-editing":o.isEditing,"data-selected":o.isSelected,role:"button",tabIndex:o.isDisabled?-1:0,"aria-disabled":o.isDisabled,"aria-expanded":o.isActive}),render:(e,n,o)=>x.jsx("div",{...e,...n.root&&{className:n.root},children:o}),getDefaultStyles:e=>({default:e.reduce((n,o)=>({...n,[o]:{base:"relative inline-block",hover:"",focus:"focus:outline-none",active:"",disabled:"opacity-50 cursor-not-allowed"}}),{})}),supportedBehaviors:["dropdown"],defaultBehavior:{name:"dropdown",handleStateChange:(e,n)=>n==="click"?{isActive:!e.isActive}:{}}},$v={getProps:(e,n,o)=>({onClick:n.handleClick,onMouseEnter:n.handleMouseEnter,onMouseLeave:n.handleMouseLeave,onFocus:n.handleFocus,onBlur:n.handleBlur,"data-component-id":e.instanceId??"","data-editing":e.editing??!1,"data-selected":o.isSelected}),render:(e,n,o)=>x.jsx("span",{...e,...n.root&&{className:n.root},children:o}),getDefaultStyles:e=>({default:e.reduce((n,o)=>({...n,[o]:{base:"inline-flex items-center",hover:"",focus:"",disabled:"opacity-50"}}),{})})},Ov={button:Lv,input:zv,div:Rv,span:$v},cm={isHovered:!1,isFocused:!1,isPressed:!1,isActive:!1,isDisabled:!1,isVisible:!0,isSelected:!1,isEditable:!1,isEditing:!1,isDragging:!1};function Fv({instanceId:e,initialState:n={},selectedProp:o,editingProp:i,editable:l=!0,behavior:a}){const u=pt(S=>S.isEditMode),d=pt(S=>S.selectedComponent),f=Je(S=>S.getInstanceState),y=Je(S=>S.updateInstanceState),[g,h]=M.useState({...cm,...a==null?void 0:a.initialState,...n,isEditable:l,isSelected:o??!1,isEditing:i??!1});M.useEffect(()=>{if(!e)return;const S=f(e),b={...S,isSelected:o??d===e,isEditing:i??(u&&l),isEditable:l};JSON.stringify(S)!==JSON.stringify(b)&&y(e,b)},[e,u,d,o,i,l,f,y]);const m=(S,b)=>{const k=e?f(e):g,I=b&&a?a.handleStateChange(k,b):{},T={...S,...I};e?y(e,T):h(C=>({...C,...T}))};return{elementState:e?{...f(e),...n,isSelected:n.isSelected??o??d===e,isEditing:n.isEditing??i??(u&&l)}:{...g,...n,isSelected:n.isSelected??o??g.isSelected,isEditing:n.isEditing??i??g.isEditing},handleStateChange:m}}function Bv({props:e,elementState:n,handleStateChange:o,executeInstanceBinding:i,selectComponent:l,elementRef:a,setDropPosition:u}){const d=M.useCallback(async g=>{if(!(!e.instanceId||!i))try{await i(e.instanceId,g)}catch(h){console.error(`Failed to execute binding ${g}:`,h)}},[e.instanceId,i]),f=M.useCallback(async g=>{var h,m,v,S,b;if(n.isEditing&&e.instanceId&&l){g.stopPropagation();const k=!n.isSelected;o({isSelected:k},"click"),(h=e.onSelectedChange)==null||h.call(e,k),l(e.instanceId);return}e.instanceId&&((v=(m=e.bindings)==null?void 0:m.internalBindings)!=null&&v.onClick)?await d("onClick"):e.instanceId&&((b=(S=e.bindings)==null?void 0:S.externalBindings)!=null&&b.onClick)?await d("onClick"):e.onClick&&e.onClick(g),o({},"click")},[n.isEditing,n.isSelected,e.instanceId,e.bindings,e.onClick,e.onSelectedChange,l,o,d]),y=M.useCallback(()=>n.isEditing?{handleDragStart:g=>{var m,v;if(!e.draggable)return;const h={id:((m=e.dragData)==null?void 0:m.id)||"",type:e.dragType||"default",data:e.dragData};if(g.dataTransfer.setData("application/json",JSON.stringify(h)),g.dataTransfer.effectAllowed="move",a!=null&&a.current){const S=a.current.getBoundingClientRect(),b=a.current.cloneNode(!0);b.style.width=`${S.width}px`,b.style.opacity="0.7",document.body.appendChild(b),g.dataTransfer.setDragImage(b,0,0),setTimeout(()=>{document.body.removeChild(b)},0)}o({isPressed:!0,isDragging:!0},"dragStart"),(v=e.onDragStart)==null||v.call(e,g)},handleDragEnd:g=>{var h;g.preventDefault(),console.log("Drag end handler called",e.dragData),o({isPressed:!1,isDragging:!1},"dragEnd"),(h=e.onDragEnd)==null||h.call(e,g)},handleDragOver:g=>{var m;if(!e.droppable||!(a!=null&&a.current))return;g.preventDefault(),g.stopPropagation();const h=a.current;if(h.removeAttribute("data-drop-position"),h.removeAttribute("data-drop-before"),h.removeAttribute("data-drop-after"),h.removeAttribute("data-drop-inside"),(m=e.dropPositions)!=null&&m.length){const v=h.getBoundingClientRect(),b=(g.clientY-v.top)/v.height;let k="inside";e.dropPositions.includes("before")&&b<.3?k="before":e.dropPositions.includes("after")&&b>.7?k="after":e.dropPositions.includes("inside")?k="inside":e.dropPositions.includes("before")?k="before":e.dropPositions.includes("after")&&(k="after"),h.setAttribute("data-drop-position",k),h.setAttribute(`data-drop-${k}`,""),u==null||u(k)}g.dataTransfer.dropEffect="move"},handleDragLeave:()=>{a!=null&&a.current&&(a.current.removeAttribute("data-drop-position"),a.current.removeAttribute("data-drop-before"),a.current.removeAttribute("data-drop-after"),a.current.removeAttribute("data-drop-inside")),u==null||u(null)},handleDrop:g=>{var h,m,v;if(e.droppable){g.preventDefault(),g.stopPropagation();try{const S=JSON.parse(g.dataTransfer.getData("application/json"));if(e.acceptTypes&&!e.acceptTypes.includes(S.type))return;const b=(h=a==null?void 0:a.current)==null?void 0:h.getAttribute("data-drop-position"),k={id:((m=e.dragData)==null?void 0:m.id)||"",position:b||"inside"};(v=e.onDrop)==null||v.call(e,g,S,k)}catch(S){console.error("Error handling drop:",S)}u==null||u(null)}}}:{},[n.isEditing,e.draggable,e.dragData,e.dragType,e.droppable,e.dropPositions,e.acceptTypes,e.onDragStart,e.onDragEnd,e.onDrop,a,u,o]);return{handleClick:f,handleMouseEnter:M.useCallback(g=>{var h;n.isDisabled||(o({isHovered:!0},"mouseEnter"),(h=e.onMouseEnter)==null||h.call(e,g))},[n.isDisabled,o,e.onMouseEnter]),handleMouseLeave:M.useCallback(g=>{var h;o({isHovered:!1},"mouseLeave"),(h=e.onMouseLeave)==null||h.call(e,g)},[o,e.onMouseLeave]),handleFocus:M.useCallback(g=>{var h;n.isDisabled||(o({isFocused:!0},"focus"),(h=e.onFocus)==null||h.call(e,g))},[o,e.onFocus]),handleBlur:M.useCallback(g=>{var h;o({isFocused:!1},"blur"),(h=e.onBlur)==null||h.call(e,g)},[o,e.onBlur]),...n.isEditing?y():{}}}function um(e){var n,o,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(n=0;n<l;n++)e[n]&&(o=um(e[n]))&&(i&&(i+=" "),i+=o)}else for(o in e)e[o]&&(i&&(i+=" "),i+=o);return i}function Vv(){for(var e,n,o=0,i="",l=arguments.length;o<l;o++)(e=arguments[o])&&(n=um(e))&&(i&&(i+=" "),i+=n);return i}const $d="-",Hv=e=>{const n=Uv(e),{conflictingClassGroups:o,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:u=>{const d=u.split($d);return d[0]===""&&d.length!==1&&d.shift(),dm(d,n)||Wv(u)},getConflictingClassGroupIds:(u,d)=>{const f=o[u]||[];return d&&i[u]?[...f,...i[u]]:f}}},dm=(e,n)=>{var u;if(e.length===0)return n.classGroupId;const o=e[0],i=n.nextPart.get(o),l=i?dm(e.slice(1),i):void 0;if(l)return l;if(n.validators.length===0)return;const a=e.join($d);return(u=n.validators.find(({validator:d})=>d(a)))==null?void 0:u.classGroupId},Vh=/^\[(.+)\]$/,Wv=e=>{if(Vh.test(e)){const n=Vh.exec(e)[1],o=n==null?void 0:n.substring(0,n.indexOf(":"));if(o)return"arbitrary.."+o}},Uv=e=>{const{theme:n,classGroups:o}=e,i={nextPart:new Map,validators:[]};for(const l in o)hd(o[l],i,l,n);return i},hd=(e,n,o,i)=>{e.forEach(l=>{if(typeof l=="string"){const a=l===""?n:Hh(n,l);a.classGroupId=o;return}if(typeof l=="function"){if(Yv(l)){hd(l(i),n,o,i);return}n.validators.push({validator:l,classGroupId:o});return}Object.entries(l).forEach(([a,u])=>{hd(u,Hh(n,a),o,i)})})},Hh=(e,n)=>{let o=e;return n.split($d).forEach(i=>{o.nextPart.has(i)||o.nextPart.set(i,{nextPart:new Map,validators:[]}),o=o.nextPart.get(i)}),o},Yv=e=>e.isThemeGetter,Gv=e=>{if(e<1)return{get:()=>{},set:()=>{}};let n=0,o=new Map,i=new Map;const l=(a,u)=>{o.set(a,u),n++,n>e&&(n=0,i=o,o=new Map)};return{get(a){let u=o.get(a);if(u!==void 0)return u;if((u=i.get(a))!==void 0)return l(a,u),u},set(a,u){o.has(a)?o.set(a,u):l(a,u)}}},gd="!",md=":",Xv=md.length,Zv=e=>{const{prefix:n,experimentalParseClassName:o}=e;let i=l=>{const a=[];let u=0,d=0,f=0,y;for(let S=0;S<l.length;S++){let b=l[S];if(u===0&&d===0){if(b===md){a.push(l.slice(f,S)),f=S+Xv;continue}if(b==="/"){y=S;continue}}b==="["?u++:b==="]"?u--:b==="("?d++:b===")"&&d--}const g=a.length===0?l:l.substring(f),h=Qv(g),m=h!==g,v=y&&y>f?y-f:void 0;return{modifiers:a,hasImportantModifier:m,baseClassName:h,maybePostfixModifierPosition:v}};if(n){const l=n+md,a=i;i=u=>u.startsWith(l)?a(u.substring(l.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(o){const l=i;i=a=>o({className:a,parseClassName:l})}return i},Qv=e=>e.endsWith(gd)?e.substring(0,e.length-1):e.startsWith(gd)?e.substring(1):e,Kv=e=>{const n=Object.fromEntries(e.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const l=[];let a=[];return i.forEach(u=>{u[0]==="["||n[u]?(l.push(...a.sort(),u),a=[]):a.push(u)}),l.push(...a.sort()),l}},qv=e=>({cache:Gv(e.cacheSize),parseClassName:Zv(e),sortModifiers:Kv(e),...Hv(e)}),Jv=/\s+/,ex=(e,n)=>{const{parseClassName:o,getClassGroupId:i,getConflictingClassGroupIds:l,sortModifiers:a}=n,u=[],d=e.trim().split(Jv);let f="";for(let y=d.length-1;y>=0;y-=1){const g=d[y],{isExternal:h,modifiers:m,hasImportantModifier:v,baseClassName:S,maybePostfixModifierPosition:b}=o(g);if(h){f=g+(f.length>0?" "+f:f);continue}let k=!!b,I=i(k?S.substring(0,b):S);if(!I){if(!k){f=g+(f.length>0?" "+f:f);continue}if(I=i(S),!I){f=g+(f.length>0?" "+f:f);continue}k=!1}const T=a(m).join(":"),C=v?T+gd:T,_=C+I;if(u.includes(_))continue;u.push(_);const F=l(I,k);for(let V=0;V<F.length;++V){const P=F[V];u.push(C+P)}f=g+(f.length>0?" "+f:f)}return f};function tx(){let e=0,n,o,i="";for(;e<arguments.length;)(n=arguments[e++])&&(o=fm(n))&&(i&&(i+=" "),i+=o);return i}const fm=e=>{if(typeof e=="string")return e;let n,o="";for(let i=0;i<e.length;i++)e[i]&&(n=fm(e[i]))&&(o&&(o+=" "),o+=n);return o};function nx(e,...n){let o,i,l,a=u;function u(f){const y=n.reduce((g,h)=>h(g),e());return o=qv(y),i=o.cache.get,l=o.cache.set,a=d,d(f)}function d(f){const y=i(f);if(y)return y;const g=ex(f,o);return l(f,g),g}return function(){return a(tx.apply(null,arguments))}}const ft=e=>{const n=o=>o[e]||[];return n.isThemeGetter=!0,n},pm=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,hm=/^\((?:(\w[\w-]*):)?(.+)\)$/i,rx=/^\d+\/\d+$/,ox=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ix=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sx=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,lx=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ax=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ao=e=>rx.test(e),je=e=>!!e&&!Number.isNaN(Number(e)),Hr=e=>!!e&&Number.isInteger(Number(e)),Wh=e=>e.endsWith("%")&&je(e.slice(0,-1)),pr=e=>ox.test(e),cx=()=>!0,ux=e=>ix.test(e)&&!sx.test(e),Od=()=>!1,dx=e=>lx.test(e),fx=e=>ax.test(e),px=e=>!pe(e)&&!he(e),hx=e=>Jo(e,ym,Od),pe=e=>pm.test(e),Wr=e=>Jo(e,vm,ux),ju=e=>Jo(e,Cx,je),gx=e=>Jo(e,gm,Od),mx=e=>Jo(e,mm,fx),yx=e=>Jo(e,Od,dx),he=e=>hm.test(e),$l=e=>ei(e,vm),vx=e=>ei(e,_x),xx=e=>ei(e,gm),wx=e=>ei(e,ym),bx=e=>ei(e,mm),Sx=e=>ei(e,Ix,!0),Jo=(e,n,o)=>{const i=pm.exec(e);return i?i[1]?n(i[1]):o(i[2]):!1},ei=(e,n,o=!1)=>{const i=hm.exec(e);return i?i[1]?n(i[1]):o:!1},gm=e=>e==="position",Ex=new Set(["image","url"]),mm=e=>Ex.has(e),kx=new Set(["length","size","percentage"]),ym=e=>kx.has(e),vm=e=>e==="length",Cx=e=>e==="number",_x=e=>e==="family-name",Ix=e=>e==="shadow",Nx=()=>{const e=ft("color"),n=ft("font"),o=ft("text"),i=ft("font-weight"),l=ft("tracking"),a=ft("leading"),u=ft("breakpoint"),d=ft("container"),f=ft("spacing"),y=ft("radius"),g=ft("shadow"),h=ft("inset-shadow"),m=ft("drop-shadow"),v=ft("blur"),S=ft("perspective"),b=ft("aspect"),k=ft("ease"),I=ft("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto","contain","none"],V=()=>[Ao,"px","full","auto",he,pe,f],P=()=>[Hr,"none","subgrid",he,pe],O=()=>["auto",{span:["full",Hr,he,pe]},he,pe],W=()=>[Hr,"auto",he,pe],U=()=>["auto","min","max","fr",he,pe],Q=()=>[he,pe,f],Z=()=>["start","end","center","between","around","evenly","stretch","baseline"],X=()=>["start","end","center","stretch"],N=()=>[he,pe,f],Y=()=>["px",...N()],$=()=>["px","auto",...N()],L=()=>[Ao,"auto","px","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",he,pe,f],j=()=>[e,he,pe],A=()=>[Wh,Wr],R=()=>["","none","full",y,he,pe],D=()=>["",je,$l,Wr],B=()=>["solid","dashed","dotted","double"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>["","none",v,he,pe],le=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he,pe],se=()=>["none",je,he,pe],re=()=>["none",je,he,pe],ue=()=>[je,he,pe],de=()=>[Ao,"full","px",he,pe,f];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[pr],breakpoint:[pr],color:[cx],container:[pr],"drop-shadow":[pr],ease:["in","out","in-out"],font:[px],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[pr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[pr],shadow:[pr],spacing:[je],text:[pr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ao,pe,he,b]}],container:["container"],columns:[{columns:[je,pe,he,d]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...C(),pe,he]}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[Hr,"auto",he,pe]}],basis:[{basis:[Ao,"full","auto",he,pe,d,f]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[je,Ao,"auto","initial","none",pe]}],grow:[{grow:["",je,he,pe]}],shrink:[{shrink:["",je,he,pe]}],order:[{order:[Hr,"first","last","none",he,pe]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:Q()}],"gap-x":[{"gap-x":Q()}],"gap-y":[{"gap-y":Q()}],"justify-content":[{justify:[...Z(),"normal"]}],"justify-items":[{"justify-items":[...X(),"normal"]}],"justify-self":[{"justify-self":["auto",...X()]}],"align-content":[{content:["normal",...Z()]}],"align-items":[{items:[...X(),"baseline"]}],"align-self":[{self:["auto",...X(),"baseline"]}],"place-content":[{"place-content":Z()}],"place-items":[{"place-items":[...X(),"baseline"]}],"place-self":[{"place-self":["auto",...X()]}],p:[{p:Y()}],px:[{px:Y()}],py:[{py:Y()}],ps:[{ps:Y()}],pe:[{pe:Y()}],pt:[{pt:Y()}],pr:[{pr:Y()}],pb:[{pb:Y()}],pl:[{pl:Y()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:L()}],w:[{w:[d,"screen",...L()]}],"min-w":[{"min-w":[d,"screen","none",...L()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...L()]}],h:[{h:["screen",...L()]}],"min-h":[{"min-h":["screen","none",...L()]}],"max-h":[{"max-h":["screen",...L()]}],"font-size":[{text:["base",o,$l,Wr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,he,ju]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Wh,pe]}],"font-family":[{font:[vx,pe,n]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,he,pe]}],"line-clamp":[{"line-clamp":[je,"none",he,ju]}],leading:[{leading:[he,pe,a,f]}],"list-image":[{"list-image":["none",he,pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",he,pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:j()}],"text-color":[{text:j()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:[je,"from-font","auto",he,Wr]}],"text-decoration-color":[{decoration:j()}],"underline-offset":[{"underline-offset":[je,"auto",he,pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:["px",...N()]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he,pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he,pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...C(),xx,gx]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",wx,hx]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Hr,he,pe],radial:["",he,pe],conic:[Hr,he,pe]},bx,mx]}],"bg-color":[{bg:j()}],"gradient-from-pos":[{from:A()}],"gradient-via-pos":[{via:A()}],"gradient-to-pos":[{to:A()}],"gradient-from":[{from:j()}],"gradient-via":[{via:j()}],"gradient-to":[{to:j()}],rounded:[{rounded:R()}],"rounded-s":[{"rounded-s":R()}],"rounded-e":[{"rounded-e":R()}],"rounded-t":[{"rounded-t":R()}],"rounded-r":[{"rounded-r":R()}],"rounded-b":[{"rounded-b":R()}],"rounded-l":[{"rounded-l":R()}],"rounded-ss":[{"rounded-ss":R()}],"rounded-se":[{"rounded-se":R()}],"rounded-ee":[{"rounded-ee":R()}],"rounded-es":[{"rounded-es":R()}],"rounded-tl":[{"rounded-tl":R()}],"rounded-tr":[{"rounded-tr":R()}],"rounded-br":[{"rounded-br":R()}],"rounded-bl":[{"rounded-bl":R()}],"border-w":[{border:D()}],"border-w-x":[{"border-x":D()}],"border-w-y":[{"border-y":D()}],"border-w-s":[{"border-s":D()}],"border-w-e":[{"border-e":D()}],"border-w-t":[{"border-t":D()}],"border-w-r":[{"border-r":D()}],"border-w-b":[{"border-b":D()}],"border-w-l":[{"border-l":D()}],"divide-x":[{"divide-x":D()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":D()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...B(),"hidden","none"]}],"divide-style":[{divide:[...B(),"hidden","none"]}],"border-color":[{border:j()}],"border-color-x":[{"border-x":j()}],"border-color-y":[{"border-y":j()}],"border-color-s":[{"border-s":j()}],"border-color-e":[{"border-e":j()}],"border-color-t":[{"border-t":j()}],"border-color-r":[{"border-r":j()}],"border-color-b":[{"border-b":j()}],"border-color-l":[{"border-l":j()}],"divide-color":[{divide:j()}],"outline-style":[{outline:[...B(),"none","hidden"]}],"outline-offset":[{"outline-offset":[je,he,pe]}],"outline-w":[{outline:["",je,$l,Wr]}],"outline-color":[{outline:[e]}],shadow:[{shadow:["","none",g,Sx,yx]}],"shadow-color":[{shadow:j()}],"inset-shadow":[{"inset-shadow":["none",he,pe,h]}],"inset-shadow-color":[{"inset-shadow":j()}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:j()}],"ring-offset-w":[{"ring-offset":[je,Wr]}],"ring-offset-color":[{"ring-offset":j()}],"inset-ring-w":[{"inset-ring":D()}],"inset-ring-color":[{"inset-ring":j()}],opacity:[{opacity:[je,he,pe]}],"mix-blend":[{"mix-blend":[...ne(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none",he,pe]}],blur:[{blur:te()}],brightness:[{brightness:[je,he,pe]}],contrast:[{contrast:[je,he,pe]}],"drop-shadow":[{"drop-shadow":["","none",m,he,pe]}],grayscale:[{grayscale:["",je,he,pe]}],"hue-rotate":[{"hue-rotate":[je,he,pe]}],invert:[{invert:["",je,he,pe]}],saturate:[{saturate:[je,he,pe]}],sepia:[{sepia:["",je,he,pe]}],"backdrop-filter":[{"backdrop-filter":["","none",he,pe]}],"backdrop-blur":[{"backdrop-blur":te()}],"backdrop-brightness":[{"backdrop-brightness":[je,he,pe]}],"backdrop-contrast":[{"backdrop-contrast":[je,he,pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",je,he,pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[je,he,pe]}],"backdrop-invert":[{"backdrop-invert":["",je,he,pe]}],"backdrop-opacity":[{"backdrop-opacity":[je,he,pe]}],"backdrop-saturate":[{"backdrop-saturate":[je,he,pe]}],"backdrop-sepia":[{"backdrop-sepia":["",je,he,pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",he,pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[je,"initial",he,pe]}],ease:[{ease:["linear","initial",k,he,pe]}],delay:[{delay:[je,he,pe]}],animate:[{animate:["none",I,he,pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,he,pe]}],"perspective-origin":[{"perspective-origin":le()}],rotate:[{rotate:se()}],"rotate-x":[{"rotate-x":se()}],"rotate-y":[{"rotate-y":se()}],"rotate-z":[{"rotate-z":se()}],scale:[{scale:re()}],"scale-x":[{"scale-x":re()}],"scale-y":[{"scale-y":re()}],"scale-z":[{"scale-z":re()}],"scale-3d":["scale-3d"],skew:[{skew:ue()}],"skew-x":[{"skew-x":ue()}],"skew-y":[{"skew-y":ue()}],transform:[{transform:[he,pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:le()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:de()}],"translate-x":[{"translate-x":de()}],"translate-y":[{"translate-y":de()}],"translate-z":[{"translate-z":de()}],"translate-none":["translate-none"],accent:[{accent:j()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:j()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he,pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he,pe]}],fill:[{fill:["none",...j()]}],"stroke-w":[{stroke:[je,$l,Wr,ju]}],stroke:[{stroke:["none",...j()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},Mx=nx(Nx);function Pe(...e){return Mx(Vv(e))}function Lo(e,n){try{const o=e.replace(/var\(|\)/g,""),i=o.startsWith("--")?o:`--${o}`,l=getComputedStyle(document.documentElement).getPropertyValue(i).trim();if(!l)return n;const a=parseFloat(l);return isNaN(a)?n:a}catch(o){return console.warn(`Failed to get CSS variable value for ${e}`,o),n}}const Dx={color:e=>e.type!=="color"?"":e.value,size:e=>e.type!=="size"?"":`${e.value}${e.unit}`,spacing:e=>e.type!=="spacing"?"":`${e.value}${e.unit}`,font:e=>{if(e.type!=="font")return"";const n=[];return e.size&&n.push(`${e.size}${e.unit||"px"}`),e.family&&n.push(e.family),n.join(" ")},border:e=>e.type!=="border"?"":`${e.width}${e.unit} ${e.style} ${e.color}`,shadow:e=>e.type!=="shadow"?"":e.value},Bo={merge(...e){return Pe(...e.filter(Boolean))},mergeStyleObjects(e,n){const o={...e};return Object.keys(n).forEach(i=>{o[i]=this.merge(e[i],n[i])}),o},deepMerge(e,n){if(!n)return e;if(!e)return n;if(this.isStyleObject(e)&&this.isStyleObject(n))return this.mergeStyleObjects(e,n);const o={...e};return Object.keys(n).forEach(i=>{const l=n[i],a=e[i];o[i]=this.shouldDeepMerge(l,a)?this.deepMerge(a,l):l}),o},isStyleObject(e){return typeof e=="object"&&e!==null&&"base"in e&&typeof e.base=="string"},shouldDeepMerge(e,n){return typeof e=="object"&&typeof n=="object"&&e!==null&&n!==null&&!Array.isArray(e)&&!Array.isArray(n)}},ia={resolveValue(e,n){if(!e)return"";if(typeof e=="string")return e;if(n!=null&&n.tokens[e.token]){const o=n.tokens[e.token],i=Dx[o.type];return i?i(o):e.fallback||""}return e.fallback||""},computeElement(e,n){return e?{base:this.resolveValue(e.base,n),hover:this.resolveValue(e.hover,n),focus:this.resolveValue(e.focus,n),active:this.resolveValue(e.active,n),disabled:this.resolveValue(e.disabled,n),selectedBase:this.resolveValue(e.selectedBase,n),selectedHover:this.resolveValue(e.selectedHover,n),selectedFocus:this.resolveValue(e.selectedFocus,n),selectedActive:this.resolveValue(e.selectedActive,n),editingBase:this.resolveValue(e.editingBase,n),editingHover:this.resolveValue(e.editingHover,n),editingFocus:this.resolveValue(e.editingFocus,n),editingActive:this.resolveValue(e.editingActive,n)}:{}},computeAll(e,n,o){var y,g;const i=n.variant||"default",l=e[i]||{},a=((g=(y=n.themeOverrides)==null?void 0:y.variants)==null?void 0:g[i])||{},u=n.elements||{},d=new Set(["root",...Object.keys(l),...Object.keys(a),...Object.keys(u)]),f={};return d.forEach(h=>{const m=l[h],v=a[h],S=u[h],k=m&&this.isComputedStyle(m)?m:this.computeElement(m,o);f[h]=Bo.deepMerge(Bo.deepMerge(k,v?this.computeElement(v,o):{}),S?this.computeElement(S,o):{})}),f},isComputedStyle(e){return Bo.isStyleObject(e)}},Uo={withState(e,n,o){let i={base:e.base,hover:e.hover,focus:e.focus,active:e.active,disabled:e.disabled,dragging:e.dragging};n.isSelected&&(i={base:Pe(i.base,e.selectedBase),hover:e.selectedHover||i.hover,focus:e.selectedFocus||i.focus,active:e.selectedActive||i.active,disabled:i.disabled,dragging:i.dragging}),n.isEditing&&(i={base:Pe(i.base,e.editingBase),hover:e.editingHover||i.hover,focus:e.editingFocus||i.focus,active:e.editingActive||i.active,disabled:i.disabled,dragging:i.dragging});const l=n.isDragging?i.dragging:"";return Pe(i.base,i.hover&&i.hover,i.focus&&i.focus,i.active&&i.active,i.disabled&&i.disabled,l,o)},compose(...e){const n={};return e.forEach(o=>{typeof o=="string"?n.base=Pe(n.base,o):Object.entries(o).forEach(([i,l])=>{if(l){const a=i;n[a]=Pe(n[a],l)}})}),n},composeAll(...e){const n={};return e.forEach(o=>{Object.entries(o).forEach(([i,l])=>{n[i]=n[i]||{},n[i]=Bo.deepMerge(n[i],l)})}),n}},Tx=ia.computeAll.bind(ia);ia.computeElement.bind(ia);const Px=Uo.withState.bind(Uo),ee=Uo.compose.bind(Uo);Uo.composeAll.bind(Uo);Bo.deepMerge.bind(Bo);function jx({elementConfig:e,stylePreset:n,styleProps:o,styleElements:i=["root"],elementState:l,className:a,theme:u}){const d=M.useMemo(()=>{var g;return(n==null?void 0:n.variants)||((g=e==null?void 0:e.getDefaultStyles)==null?void 0:g.call(e,i))||{}},[n,e,i]),f=M.useMemo(()=>Tx(d,o||{variant:"default"},u),[d,o,u]);return{combinedStyles:M.useMemo(()=>Object.keys(f).reduce((h,m)=>({...h,[m]:Px(f[m],l,m==="root"?a:void 0)}),{}),[f,l,a,u])}}function Ax({instanceId:e,bindings:n}){const o=Je(i=>i.registerInstanceBinding);return M.useEffect(()=>{!e||!n||(Object.entries(n.internalBindings||{}).forEach(([i,l])=>{o(e,i,l)}),Object.entries(n.externalBindings||{}).forEach(([i,l])=>{o(e,i,l)}))},[e,n,o]),null}const Je=fs()(zd((e,n)=>({definitions:{},instances:{},addDefinition:o=>{if(!o.id)throw new $t("Definition must have an ID","INVALID_DEFINITION");e(i=>({definitions:{...i.definitions,[o.id]:o}}))},addInstance:o=>{const i=n();if(!o.id)throw new $t("Instance must have an ID","INVALID_INSTANCE");if(!i.definitions[o.definitionId])throw new $t(`No definition found for ID: ${o.definitionId}`,"DEFINITION_NOT_FOUND");e(l=>({instances:{...l.instances,[o.id]:o}}))},updateInstance:(o,i)=>{const a=n().instances[o];if(!a)throw new $t(`No instance found for ID: ${o}`,"INSTANCE_NOT_FOUND");e(u=>({instances:{...u.instances,[o]:{...a,...i,metadata:{...a.metadata,updatedAt:new Date,version:a.metadata.version+1}}}}))},deleteInstance:o=>{const i=n();if(!i.instances[o])throw new $t(`No instance found for ID: ${o}`,"INSTANCE_NOT_FOUND");const a={...i.instances};delete a[o],e({instances:a})},createFromDefinition:(o,i)=>{const a=n().definitions[o];if(!a)throw new $t(`No definition found for ID: ${o}`,Fo.DEFINITION_NOT_FOUND);const u={...a,id:Kl(),definitionId:o,overrides:i,state:cm,internalBindings:{},externalBindings:{},metadata:{createdAt:new Date,updatedAt:new Date,version:1,definitionVersion:a.metadata.definitionVersion,compatibilityVersion:a.metadata.compatibilityVersion,createdBy:a.metadata.createdBy,isUserComponent:a.metadata.isUserComponent}};return n().addInstance(u),u},getDefinition:o=>{const l=n().definitions[o];if(!l)throw new $t(`No definition found for ID: ${o}`,"DEFINITION_NOT_FOUND");return l},getInstance:o=>{const l=n().instances[o];if(!l)throw new $t(`No instance found for ID: ${o}`,"INSTANCE_NOT_FOUND");return l},getInstanceState(o){return this.getInstance(o).state??{isHovered:!1,isFocused:!1,isPressed:!1,isActive:!1,isDisabled:!1}},updateInstanceState(o,i){const l=this.getInstanceState(o);this.updateInstance(o,{state:{...l,...i}})},registerInstanceBinding(o,i,l){const a=this.getInstance(o),d="type"in l?"externalBindings":"internalBindings";this.updateInstance(o,{[d]:{...a[d]||{},[i]:l}})},async executeInstanceBinding(o,i){var d,f;const l=this.getInstance(o),a=(d=l.internalBindings)==null?void 0:d[i];if(a){const y=await Promise.all(a.conditions.map(async h=>{const v=this.getInstance(h.sourceInstanceId).internalBindings[h.sourceProperty],S=h.transform?h.transform(v):v;return{passes:h.expectedValue!==void 0?S===h.expectedValue:!!S,value:S}}));let g=!1;switch(a.combineMode){case"all":g=y.every(h=>h.passes);break;case"any":g=y.some(h=>h.passes);break;case"none":g=!y.some(h=>h.passes);break}if(g){const h=y.find(m=>m.passes);h&&this.updateInstance(o,{[i]:h.value})}return}if((f=l.externalBindings)==null?void 0:f[i]){console.warn("External bindings not yet implemented");return}throw new $t(`No binding found for path: ${i}`,Fo.BINDING_NOT_FOUND)},purgeStore:(o={})=>{const i=n(),{keepSystemComponents:l=!1,resetToDefaults:a=!1}=o,u=Object.keys(i.definitions).length,d=Object.keys(i.instances).length,f={instances:{}};if(l){const y=Object.entries(i.definitions).filter(([g,h])=>!h.metadata.isUserComponent).reduce((g,[h,m])=>(g[h]=m,g),{});f.definitions=y}else f.definitions={};return e(f),a&&(wn(()=>import("./layoutComponents-Ba3wc1_r.js"),[]).then(y=>{y.registerLayoutComponents()}),wn(()=>import("./controlComponents-BYww_vH9.js"),[]).then(y=>{y.registerControlComponents()}),wn(()=>import("./displayComponents-BT1vxJxx.js"),[]).then(y=>{y.registerDisplayComponents()})),{definitionCount:u,instanceCount:d}}}),{name:"omni-ui-components"}));function Lx(e){const n=Je(o=>o.definitions);return M.useMemo(()=>{if(e)return n[e]},[n,e])}function xm(e){const n=Je(o=>o.instances);return M.useMemo(()=>{if(e)return n[e]},[n,e])}function wm(){const e=Je(n=>n.definitions);return M.useMemo(()=>Object.values(e),[e])}function bm(){const e=Je(n=>n.instances);return M.useMemo(()=>Object.values(e),[e])}function zx(e){const n=wm();return M.useMemo(()=>n.filter(o=>o.type===e),[n,e])}function Rx(e){const n=bm();return M.useMemo(()=>n.filter(o=>o.definitionId===e),[n,e])}function $x(e){const n=xm(e),o=Je(i=>i.updateInstance);return M.useMemo(()=>({instance:n,update:i=>{n&&o(e,i)}}),[n,o,e])}function Ox(e){const n=Je(i=>i.instances),o=Je(i=>i.updateInstance);return M.useMemo(()=>({instances:e.map(l=>n[l]).filter(Boolean),updateAll:l=>{e.forEach(a=>{n[a]&&o(a,l)})}}),[n,o,e])}function Fx(){const e=Je(i=>i.addDefinition),n=Je(i=>i.addInstance),o=Je(i=>i.createFromDefinition);return M.useMemo(()=>({createDefinition:e,createInstance:n,createFromDefinition:o}),[e,n,o])}const wa=Object.freeze(Object.defineProperty({__proto__:null,useAllDefinitions:wm,useAllInstances:bm,useComponentCreation:Fx,useComponentStore:Je,useDefinition:Lx,useDefinitionsByType:zx,useInstance:xm,useInstanceManager:$x,useInstancesByDefinition:Rx,useMultiInstanceManager:Ox},Symbol.toStringTag,{value:"Module"})),En=({as:e,children:n,instanceId:o,state:i={},selected:l,onSelectedChange:a,editable:u=!0,editing:d,styleElements:f=["base"],styleProps:y,stylePreset:g,theme:h,className:m,behavior:v,bindings:S,draggable:b,dragType:k,dragData:I,droppable:T,acceptTypes:C,dropPositions:_,onDragStart:F,onDragEnd:V,onDrop:P,renderElement:O,elementRef:W,...U})=>{const Q=M.useRef(null),Z=W||Q,[X,N]=M.useState(null),Y=pt(te=>te.selectComponent),$=te=>Y(te,null),L=Je(te=>te.executeInstanceBinding),j=Ov[e],{elementState:A,handleStateChange:R}=Fv({instanceId:o,initialState:i,selectedProp:l,editingProp:d,editable:u,behavior:v});Ax({instanceId:o,bindings:S});const D=Bv({props:{instanceId:o,bindings:S,onSelectedChange:a,draggable:b,dragType:k,dragData:I,droppable:T,acceptTypes:C,dropPositions:_,onDragStart:F,onDragEnd:V,onDrop:P,...U},elementState:A,handleStateChange:R,executeInstanceBinding:L,selectComponent:$,elementRef:Z,setDropPosition:N}),{combinedStyles:B}=jx({elementConfig:j,stylePreset:g,styleProps:y,styleElements:f,elementState:A,className:m}),ne={...j.getProps({...U,instanceId:o,bindings:S,draggable:A.isEditing?!0:b},D,A),ref:Z,style:A.isVisible?void 0:{display:"none"},"aria-hidden":!A.isVisible,"data-drop-position":X,...X&&{[`data-drop-${X}`]:""}};return O?O({elementProps:ne,state:A,children:n,computedStyle:B}):j.render(ne,B,n)},Ne={solid:{dark:{base:"bg-bg-dark",hover:"hover:bg-bg-dark-lighter",active:"active:bg-bg-dark-darker"},darker:{base:"bg-bg-dark-darker",hover:"hover:bg-bg-dark",active:"active:bg-bg-dark-lighter"},accent:{base:"bg-accent-dark-neutral",hover:"hover:bg-accent-dark-neutral-hover",active:"active:bg-accent-dark-neutral-hover"},accentBright:{base:"bg-accent-dark-bright",hover:"hover:bg-accent-dark-bright-hover",active:"active:bg-accent-dark-bright-hover"},transparent:{base:"bg-transparent",hover:"hover:bg-accent-dark-neutral/50",active:"active:bg-accent-dark-neutral"}}},yt={none:{base:"border-0"},accent:{all:{base:"border border-accent-dark-neutral"},top:{base:"border-t border-accent-dark-neutral"},bottom:{base:"border-b border-accent-dark-neutral"},left:{base:"border-l border-accent-dark-neutral"},right:{base:"border-r border-accent-dark-neutral"}}},Ae={default:{base:"text-font-dark",muted:"text-font-dark-muted",dimmed:"text-font-dark-dimmed"},light:{base:"text-font-light",muted:"text-font-light-muted",dimmed:"text-font-light-dimmed"},indicatorDark:{base:"text-font-dark-muted",hover:"hover:text-font-dark",active:"active:text-font-dark"},indicatorLight:{base:"text-font-light-muted",hover:"hover:text-font-light",active:"active:text-font-light"},size:{xs:"text-xs",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"}},sa={ring:{accent:{focus:"focus:ring-1 focus:ring-inset focus:ring-accent-dark-bright focus:ring-offset-0"}},outline:{accent:{focus:"focus:outline-none focus:outline-accent-dark-bright"}}},Sm={rounded:{none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg"}},we={flex:{row:{base:"flex flex-row",center:"flex flex-row items-center",centerFull:"flex flex-row items-center justify-center",between:"flex flex-row items-center justify-between",start:"flex flex-row items-center justify-start",end:"flex flex-row items-center justify-end"},col:{base:"flex flex-col",center:"flex flex-col items-center",centerVertical:"flex flex-col justify-center",between:"flex flex-col justify-between",start:"flex flex-col justify-start",end:"flex flex-col justify-end"}},grid:{base:"grid",center:"place-items-center",cols2:"grid-cols-2",cols3:"grid-cols-3",cols4:"grid-cols-4"},spacing:{pad:{none:"p-0",sm:"p-1",md:"p-2",lg:"p-3"},gap:{none:"gap-0",sm:"gap-1",md:"gap-2",lg:"gap-3"}},transform:{below:"transform translate-y-full bottom-0"}},Ot={height:{input:{sm:"h-1",md:"h-5",lg:"h-10"}},width:{full:"w-full",screen:"w-screen"}},Bx={base:"cursor-grabbing opacity-70 shadow-md border border-accent-dark-bright",active:"z-50"},Ye={interactive:{base:{base:"cursor-pointer",disabled:"disabled:opacity-50 disabled:cursor-not-allowed",loading:"opacity-50 cursor-wait",dragging:"cursor-grabbing shadow-md opacity-70"},selectedNeutral:{selectedBase:"bg-accent-dark-neutral text-font-dark",selectedHover:"hover:bg-accent-dark-neutral",selectedActive:"active:bg-accent-dark-neutral-hover"},selectedBright:{selectedBase:"bg-accent-dark-neutral text-font-dark",selectedHover:"hover:bg-accent-dark-bright",selectedActive:"active:bg-accent-dark-bright-hover"}}},mt={base:"transition-all duration-200 ease-in-out",transform:"transition-transform duration-200 ease-in-out",colors:"transition-colors duration-200 ease-in-out",opacity:"transition-opacity duration-200 ease-in-out"};ee(we.flex.col,Ne.solid.dark,"h-full"),ee(we.flex.row.between,yt.accent.bottom,we.spacing.pad.md,Ot.height.input.lg),ee("flex-1","overflow-auto");const Ve={default:{editingBase:"relative outline-2 outline-gray-500",editingHover:"hover:bg-accent-dark-bright/20 hover:outline-4 hover:cursor-grab",editingActive:"active:cursor-grabbing"}},Kt={base:ee("relative w-full h-full","z-50"),fullscreen:ee("fixed inset-0")},qt={base:ee("absolute inset-0 bg-black/50","transition-opacity duration-300"),fullscreen:ee("fixed inset-0")},hr=ee(we.flex.col.base,Ne.solid.dark,mt.transform),gr=ee("flex-1 overflow-auto");ee(hr,"fixed top-0 left-0 bottom-0","border-r border-accent-dark-neutral",Ve.default),ee(Kt.base,Kt.fullscreen),ee(qt.base,qt.fullscreen),ee(hr,"absolute top-0 left-0 bottom-0","border-r border-accent-dark-neutral",Ve.default),Kt.base,qt.base,ee(hr,"fixed top-0 right-0 bottom-0","border-l border-accent-dark-neutral",Ve.default),ee(Kt.base,Kt.fullscreen),ee(qt.base,qt.fullscreen),ee(hr,"absolute top-0 right-0 bottom-0","border-l border-accent-dark-neutral",Ve.default),Kt.base,qt.base,ee(hr,"fixed top-0 left-0 right-0","border-b border-accent-dark-neutral",Ve.default),ee(Kt.base,Kt.fullscreen),ee(qt.base,qt.fullscreen),ee(hr,"absolute top-0 left-0 right-0","border-b border-accent-dark-neutral",Ve.default),Kt.base,qt.base,ee(hr,"bottom-0 left-0 right-0","border-t border-accent-dark-neutral",Ve.default),ee(Kt.base,Kt.fullscreen),ee(qt.base,qt.fullscreen),ee(hr,"absolute bottom-0 left-0 right-0","border-t border-accent-dark-neutral",Ve.default),Kt.base,qt.base;const Vx={name:"dropdown",elements:["trigger","content","item"],variants:{default:{root:ee(we.flex.col.centerVertical,Ot.width.full,Ot.height.input.lg,"relative gap-[5px]"),trigger:ee(we.flex.row.between,Ot.height.input.md,we.spacing.pad.sm,yt.accent.all,sa.ring.accent,mt.base,Ae.indicatorDark,"px-1 h-full w-full"),content:ee(we.flex.col,we.transform.below,yt.accent.all,Ot.width.full,mt.base,"absolute w-full z-10"),item:ee(we.flex.row.start,Ne.solid.dark,Ot.width.full,mt.colors,Ye.interactive.base,Ye.interactive.selectedNeutral,Ae.indicatorDark)},ghost:{root:ee(we.flex.col.base,"relative w-full"),trigger:ee(we.flex.row.between,Ot.height.input.md,we.spacing.pad.md,Ne.solid.transparent,mt.colors,Ae.indicatorDark,Ye.interactive.base,Ye.interactive.selectedBright,sa.ring.accent),content:ee(we.flex.col.base,Ne.solid.darker,yt.accent.all,"absolute w-full z-10 mt-1",mt.base),item:ee(we.flex.row.start,we.spacing.pad.md,Ne.solid.transparent,Ae.indicatorDark,mt.colors,Ye.interactive.base,Ye.interactive.selectedBright)}}},Em=({label:e,accessibleLabel:n,options:o,variant:i="default",className:l,disabled:a=!1,showCaret:u=!0,closeOnBlur:d=!0,closeOnMouseLeave:f=!1,closeDelay:y=150,onOpenChange:g,styleProps:h,...m})=>{const[v,S]=M.useState(!1),b=M.useRef(null),k=M.useRef(),I=M.useCallback(()=>{if(!a){const V=!v;S(V),g==null||g(V)}},[a,v,g]),T=M.useCallback(V=>{var P;(P=V.onClick)==null||P.call(V),S(!1),g==null||g(!1)},[g]);M.useEffect(()=>{if(!d)return;const V=P=>{b.current&&!b.current.contains(P.target)&&(S(!1),g==null||g(!1))};return v&&document.addEventListener("mousedown",V),()=>{document.removeEventListener("mousedown",V)}},[v,d,g]),M.useEffect(()=>()=>{k.current&&clearTimeout(k.current)},[]);const C=M.useCallback(()=>{f&&v&&(k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{S(!1),g==null||g(!1)},y))},[f,y,v,g]),_=M.useCallback(()=>{k.current&&clearTimeout(k.current)},[]),F=({elementProps:V,state:P,computedStyle:O})=>{const U=`dropdown-${(V==null?void 0:V["data-component-id"])||"root"}`,Q=`${U}-label`,Z={"aria-expanded":v,"aria-haspopup":"listbox","aria-label":n,"aria-controls":v?`${U}-list`:void 0,"aria-labelledby":Q};return x.jsxs("div",{...V,ref:b,className:O.root,onMouseLeave:C,onMouseEnter:_,children:[x.jsxs("button",{type:"button",id:Q,onClick:I,disabled:P.isDisabled,className:O.trigger,...Z,children:[typeof e=="string"?x.jsx("span",{children:e}):e,u&&x.jsx(Rd,{className:Pe("transition-transform duration-200",v&&"rotate-180"),"aria-hidden":"true"})]}),v&&x.jsx("div",{className:O.content,role:"listbox",id:`${U}-list`,"aria-label":`${e} options`,children:o.map((X,N)=>x.jsxs("button",{role:"option",onClick:()=>T(X),disabled:X.disabled,className:O.item,"aria-selected":"false",id:`${U}-option-${N}`,children:[X.icon&&x.jsx("span",{className:"flex-shrink-0 mr-2","aria-hidden":"true",children:X.icon}),x.jsx("span",{className:"flex-grow text-left",children:X.label})]},X.value||N))})]})};return x.jsx(En,{as:"div",stylePreset:Vx,styleProps:{variant:i,elements:{root:{base:l},...h==null?void 0:h.elements}},state:{isDisabled:a,isActive:v},renderElement:F,...m})},Uh=ee(we.flex.col.base,we.spacing.gap.sm),Yh=ee(we.flex.col.base,we.spacing.pad.sm,mt.colors,Ae.default.base),Gh=ee(we.flex.col.base,we.spacing.pad.sm,"overflow-hidden"),Hx={name:"dropdownPanel",elements:["header","content"],variants:{default:{root:ee(Uh,Ne.solid.dark,yt.accent.all),header:ee(Yh,Ne.solid.dark,yt.accent.bottom,"hover:bg-accent-dark-neutral/20"),content:Gh},ghost:{root:ee(Uh,Ne.solid.transparent),header:ee(Yh,Ne.solid.transparent,"hover:bg-accent-dark-neutral/20"),content:Gh}}},Au=ee(we.flex.row.center,mt.base,Ye.interactive.base,Ae.default.base),mr=ee(we.flex.row.center,"gap-1"),Wx={name:"input",elements:["input","prefix","suffix","prefixGroup","suffixGroup"],variants:{default:{root:ee(we.flex.row.between,Ne.solid.dark,Ot.width.full,yt.accent.all,"relative focus-within:border-accent-dark-bright border-1"),input:ee(Au,"flex-1 px-1 py-1 border-0 outline-0 focus:border-0 focus:outline-0 focus-within:outline-0 focus-within:border-0"),prefixGroup:mr,suffixGroup:mr,prefix:ee(Ae.default.dimmed,"pl-1 text-nowrap"),suffix:ee(Ae.default.dimmed,"px-1 text-nowrap")},ghost:{root:ee(we.flex.row.between,Ne.solid.transparent,Ot.width.full,"relative"),input:ee(Au,"flex-1 px-1 py-1 border-0 outline-0"),prefixGroup:mr,suffixGroup:mr,prefix:ee(Ae.default.dimmed,"pl-1 text-nowrap"),suffix:ee(Ae.default.dimmed,"px-1 text-nowrap")},search:{root:ee(we.flex.row.between,Ne.solid.darker,Ot.width.full,yt.accent.all,"relative"),input:ee(Au,"flex-1 px-1 py-1 border-0 outline-0"),prefixGroup:mr,suffixGroup:mr,prefix:ee(Ae.default.dimmed,"pl-1 text-nowrap"),suffix:ee(Ae.default.dimmed,"px-1 text-nowrap")},minimal:{root:ee(we.flex.row.center,Ot.width.full,Ot.height.input.md,"relative"),input:ee(Ne.solid.transparent,Ot.width.full,mt.base,Ye.interactive.base,Ae.default.base,"px-2 py-1","border-b border-accent-dark-neutral"),prefixGroup:mr,suffixGroup:mr,prefix:ee("absolute left-2",Ae.default.dimmed),suffix:ee("absolute right-2",Ae.default.dimmed)}}},Fd=M.forwardRef(({value:e,defaultValue:n,onChange:o,type:i="text",placeholder:l,pattern:a,required:u,readOnly:d,prefix:f,suffix:y,variant:g="default",className:h,styleProps:m,disabled:v=!1,error:S=!1,focused:b=!1,ariaLabel:k,...I},T)=>{const C=F=>{o==null||o(F.target.value)},_=({elementProps:F,state:V,computedStyle:P})=>{const O=Array.isArray(f)?f:f?[f]:[],W=Array.isArray(y)?y:y?[y]:[],Q=`input-${(F==null?void 0:F["data-component-id"])||"root"}`,Z={"aria-label":k,"aria-invalid":S,"aria-required":u,"aria-disabled":V.isDisabled,"aria-readonly":d};return x.jsxs("div",{...F,className:P.root,children:[O.length>0&&x.jsx("div",{className:P.prefixGroup,children:O.map((X,N)=>x.jsx("span",{className:P.prefix,onClick:X.action,title:X.tooltip,...X.action?{role:"button",tabIndex:0}:{},children:X.content},N))}),x.jsx("input",{ref:T,id:Q,type:i,value:e,defaultValue:n,onChange:C,placeholder:l,pattern:a,required:u,readOnly:d,disabled:V.isDisabled,className:P.input,size:3,...Z}),W.length>0&&x.jsx("div",{className:P.suffixGroup,children:W.map((X,N)=>x.jsx("span",{className:P.suffix,onClick:X.action,title:X.tooltip,...X.action?{role:"button",tabIndex:0}:{},children:X.content},N))})]})};return x.jsx(En,{as:"div",stylePreset:Wx,styleProps:{variant:g,elements:{root:{base:h},...m==null?void 0:m.elements}},state:{isDisabled:v},renderElement:_,...I})});Fd.displayName="Input";const Jt={containerXs:"(--icon-container-xs)",containerSm:"(--icon-container-sm)",containerMd:"(--icon-container-md)",containerLg:"(--icon-container-lg)",containerXl:"(--icon-container-xl)",containerXxl:"(--icon-container-xxl)",iconXs:"(--icon-size-xs)",iconSm:"(--icon-size-sm)",iconMd:"(--icon-size-md)",iconLg:"(--icon-size-lg)",iconXl:"(--icon-size-xl)",iconXxl:"(--icon-size-xxl)",iconColumnContainer:"(--icon-column-container-size)",iconColumnIcon:"(--icon-column-icon-size)",propertyEditorContainer:"(--property-editor-icon-container)",propertyEditorIcon:"(--property-editor-icon-size)"},yd={xs:{container:"w-(--icon-container-xs) h-(--icon-container-xs)",icon:Jt.iconXs},sm:{container:"w-(--icon-container-sm) h-(--icon-container-sm)",icon:Jt.iconSm},md:{container:"w-(--icon-container-md) h-(--icon-container-md)",icon:Jt.iconMd},lg:{container:"w-(--icon-container-lg) h-(--icon-container-lg)",icon:Jt.iconLg},xl:{container:"w-(--icon-container-xl) h-(--icon-container-xl)",icon:Jt.iconXl},xxl:{container:"w-(--icon-container-xxl) h-(--icon-container-xxl)",icon:Jt.iconXxl}},Xh={iconColumn:{container:"w-(--icon-column-container-size) h-(--icon-column-container-size)",icon:Jt.iconColumnIcon},propertyEditor:{container:"w-(--property-editor-icon-container) h-(--property-editor-icon-container)",icon:Jt.propertyEditorIcon}},yr={xs:{icon:12,container:24},sm:{icon:16,container:32},md:{icon:20,container:40},lg:{icon:24,container:48},xl:{icon:28,container:56},xxl:{icon:32,container:64}},Xr={render(e,n,o={}){if(typeof e=="function"){const i=e;return x.jsx(i,{size:n,...o})}return e},getIconDimensionsFromContainer(e){const n=ra.convert(e,"px");return Math.min(n.width.value,n.height.value)*.5},isPresetSize(e){return e in yd},isUIPresetSize(e){return e in Xh},getContainerClasses(e){return this.isPresetSize(e)?yd[e].container:this.isUIPresetSize(e)?Xh[e].container:e.includes("w-")||e.includes("h-")?e:`w-[${e}] h-[${e}]`},getIconSize(e){if(typeof e=="number")return e;if(this.isPresetSize(e)){const n=Jt[`icon${e.charAt(0).toUpperCase()+e.slice(1)}`];return Lo(n,yr[e].icon)}if(this.isUIPresetSize(e)){const n=Jt[`${e}Icon`];return Lo(n,yr.md.icon)}return e.includes("var(")?Lo(e,yr.md.icon):yr.md.icon},getContainerSize(e){if(this.isPresetSize(e)){const n=Jt[`container${e.charAt(0).toUpperCase()+e.slice(1)}`];return Lo(n,yr[e].container)}if(this.isUIPresetSize(e)){const n=Jt[`${e}Container`];return Lo(n,yr.md.container)}return e.includes("var(")?Lo(e,yr.md.container):yr.md.container}},Ol=ee(we.flex.row.centerFull,sa.ring.accent,mt.base,Ye.interactive.base,Ye.interactive.selectedNeutral,Ve.default),Ux={name:"iconButton",elements:["icon"],variants:{default:{root:ee(Ol,Ne.solid.dark,Ae.indicatorDark),icon:ee("flex-shrink-0",Ae.indicatorDark)},ghost:{root:ee(Ol,Ne.solid.transparent,Ae.indicatorDark),icon:ee("flex-shrink-0",Ae.indicatorDark)},bright:{root:ee(Ol,Ne.solid.accentBright,Ae.default.base),icon:ee("flex-shrink-0",Ae.default.base)},outline:{root:ee(Ol,Ne.solid.transparent,Ae.indicatorDark,"border border-accent-dark-neutral"),icon:ee("flex-shrink-0",Ae.indicatorDark)}}},es=({icon:e,iconProps:n={},size:o="md",iconSize:i,containerSize:l,variant:a="default",className:u,styleProps:d,tooltip:f,currentState:y,states:g,defaultState:h=0,onStateChange:m,...v})=>{var Q,Z,X,N,Y,$,L;const[S,b]=M.useState(h),k=y!==void 0?typeof y=="boolean"?y?1:0:y:S;M.useEffect(()=>{y!==void 0&&b(typeof y=="boolean"?y?1:0:y)},[y]);const I=(g==null?void 0:g.count)||(typeof y=="boolean"?2:1),T=()=>{if(!g)return;const j=(k+1)%I;b(j),m==null||m(j)},C=((Q=g==null?void 0:g.icons)==null?void 0:Q[k])||e,_=((Z=g==null?void 0:g.iconProps)==null?void 0:Z[k])||n,F=((X=g==null?void 0:g.tooltips)==null?void 0:X[k])||f,V=((N=g==null?void 0:g.variants)==null?void 0:N[k])||a,P=((Y=g==null?void 0:g.classNames)==null?void 0:Y[k])||u,O=Xr.getIconSize(i||(Xr.isPresetSize(o)?yd[o].icon:o)),W=Xr.getContainerClasses(l||o),U={...d,variant:V,elements:{root:{base:Pe(W,($=d==null?void 0:d.elements)==null?void 0:$.root,P)},icon:(L=d==null?void 0:d.elements)==null?void 0:L.icon}};return x.jsx(En,{as:"button",type:"button",title:F,stylePreset:Ux,styleProps:U,state:{isEditable:!1},onClick:g?T:void 0,...v,children:Xr.render(C,O,_)})},Yx=({value:e,onChange:n,onSearch:o,onClear:i,placeholder:l="Search...",className:a})=>{const[u,d]=M.useState(!1),[f,y]=M.useState(e||""),g=M.useCallback(b=>{y(b),n==null||n(b)},[n]),h=M.useCallback(()=>{y(""),i==null||i()},[i]),m=M.useCallback(()=>{d(b=>!b),u||setTimeout(()=>{var b;(b=document.querySelector(".search-input"))==null||b.focus()},0)},[u]),v=M.useCallback(()=>{o==null||o(f)},[o,f]),S=M.useCallback(b=>{b.key==="Enter"&&v()},[v]);return u?x.jsx("div",{className:"flex flex-col gap-2 w-full",children:x.jsx(Fd,{value:f,onChange:g,onKeyDown:S,type:"search",placeholder:l,variant:"search",className:"search-input",prefix:{content:x.jsx(es,{icon:$h,variant:"ghost",onClick:()=>{m(),v()},tooltip:"Search",className:a})},suffix:[{content:x.jsx(pv,{}),action:h,tooltip:"Clear search",isInteractive:!0},{content:x.jsx(Em,{label:x.jsx(gv,{size:20}),options:[{label:"All",value:"all"},{label:"Components",value:"components"},{label:"Layouts",value:"layouts"}],variant:"ghost",showCaret:!1}),isInteractive:!0}]})}):x.jsx(es,{icon:$h,variant:"ghost",onClick:m,tooltip:"Search",className:a})},Lu=ee(we.flex.col.base,"relative h-full"),zu=ee("flex-1 overflow-y-auto overflow-x-hidden","scrollbar scrollbar-thin scrollbar-thumb-accent-dark-neutral","scrollbar-track-transparent hover:scrollbar-thumb-accent-dark-bright","scrollbar-corner-transparent"),Gx={name:"scrollbox",elements:["content"],variants:{default:{root:ee(Lu,Ne.solid.dark,Ve.default),content:zu},ghost:{root:ee(Lu,Ne.solid.transparent,Ve.default),content:zu},inset:{root:ee(Lu,Ne.solid.darker,yt.accent.all,Ve.default),content:zu}}},ba=({children:e,variant:n="default",maxHeight:o,scrollToTop:i=!1,onScroll:l,className:a,contentClassName:u,styleProps:d,scrollbarStyle:f="dark",scrollbarSize:y="normal",...g})=>{const h=M.useRef(null),m=M.useCallback(()=>{h.current&&i&&(h.current.scrollTop=0)},[i]);i&&m();const v=Pe("scrollbar-custom",`scrollbar-${f}`,y==="thin"&&"scrollbar-thin"),S=({elementProps:b,state:k,computedStyle:I})=>{const T=(b==null?void 0:b["data-component-id"])||"scrollbox",C=`${T}-content`;return x.jsx("div",{...b,id:T,role:"region",className:I.root,style:{maxHeight:o},children:x.jsx("div",{ref:h,id:C,className:Pe(I.content,v,u),onScroll:l,style:{maxHeight:o},children:e})})};return x.jsx(En,{as:"div",stylePreset:Gx,styleProps:{variant:n,elements:{root:{base:a},content:{base:u}}},renderElement:S,...g})},Ru=ee(we.flex.col.base,Ne.solid.dark,"relative"),$u=ee(we.flex.row.between,we.spacing.pad.sm,yt.accent.bottom),Ou=ee(we.spacing.pad.sm,"flex-1","overflow-auto"),Xx={name:"panel",elements:["header","content"],variants:{default:{root:ee(Ru,Ve.default),header:$u,content:Ou},elevated:{root:ee(Ru,Ne.solid.darker,yt.accent.all,Ve.default),header:$u,content:Ou},ghost:{root:ee(Ru,Ne.solid.transparent,Ve.default),header:ee($u,Ne.solid.transparent),content:Ou}}},km=({header:e,children:n,variant:o="default",showHeader:i=!!e,className:l,headerClassName:a,contentClassName:u,styleProps:d,...f})=>{const y=({elementProps:g,state:h,computedStyle:m})=>{const v=(g==null?void 0:g["data-component-id"])||"panel",S=`${v}-header`,b=`${v}-content`;return x.jsxs("div",{...g,id:v,role:"region","aria-labelledby":i?S:void 0,className:m.root,children:[i&&x.jsx("div",{id:S,className:Pe(m.header,!e&&"invisible"),children:e}),x.jsx("div",{id:b,className:m.content,children:n})]})};return x.jsx(En,{as:"div",stylePreset:Xx,styleProps:{variant:o,elements:{root:{base:l},header:{base:a},content:{base:u}}},renderElement:y,...f})},Fu=({title:e,children:n,icon:o,description:i,defaultOpen:l=!1,open:a,onOpenChange:u,variant:d="default",searchable:f=!1,contentLayout:y="list",maxHeight:g=0,className:h,headerClassName:m,contentClassName:v,...S})=>{const[b,k]=M.useState(l),[I,T]=M.useState(""),C=a??b,_=M.useCallback(()=>{const P=!C;a===void 0&&k(P),u==null||u(P)},[C,a,u]),F=()=>!f||!I?n:M.Children.map(n,P=>M.isValidElement(P)&&typeof P.props.children=="string"&&P.props.children.toLowerCase().includes(I.toLowerCase())?P:null),V=({elementProps:P,state:O,computedStyle:W})=>{const U={role:"button","aria-expanded":C,"aria-controls":`${P.id}-content`};return x.jsxs("div",{...P,className:W.root,children:[x.jsxs("div",{className:Pe(W.header,"cursor-pointer"),onClick:_,...U,children:[x.jsxs("div",{className:"flex items-center gap-2",children:[o&&x.jsx(o,{size:16}),x.jsx("span",{className:"flex-grow",children:e}),x.jsx(Rd,{size:16,className:Pe("transition-transform duration-200",C&&"rotate-180")})]}),i&&x.jsx("div",{className:"text-sm text-font-dark-muted mt-1",children:i})]}),C&&x.jsxs("div",{id:`${P.id}-content`,className:W.content,children:[f&&x.jsx("div",{className:"mb-2",children:x.jsx(Yx,{value:I,onChange:T,placeholder:"Search..."})}),g!==0?x.jsx(ba,{maxHeight:g,variant:d==="default"?"inset":"ghost",children:x.jsx("div",{className:Pe(y==="grid"?"grid grid-cols-2 gap-2":"flex flex-col gap-1"),children:F()})}):x.jsx(km,{variant:d==="default"?"inset":"ghost",children:x.jsx("div",{className:Pe(y==="grid"?"grid grid-cols-2 gap-2":"flex flex-col gap-1"),children:F()})})]})]})};return x.jsx(En,{as:"div",stylePreset:Hx,styleProps:{variant:d,elements:{root:{base:h},header:{base:m},content:{base:v}}},state:{isActive:C},renderElement:V,...S})};M.memo(function({mode:n="contained",cellSize:o=20,color:i="rgba(225,225,225,0.05)",thickness:l=1,visible:a=!0,className:u="",zIndex:d=50}){if(!a)return null;const f={backgroundImage:`
      linear-gradient(to right, ${i} ${l}px, transparent ${l}px),
      linear-gradient(to bottom, ${i} ${l}px, transparent ${l}px)
    `,backgroundSize:`${o}px ${o}px`,zIndex:d},y="pointer-events-none select-none w-full h-full",g=n==="overlay"?"fixed inset-0":"absolute inset-0";return x.jsx("div",{className:`${y} ${g} ${u}`.trim(),"data-testid":"grid-overlay","data-grid-mode":n,children:x.jsx("svg",{className:"w-full h-full",xmlns:"http://www.w3.org/2000/svg",style:f,"aria-hidden":"true"})})});const Bu=ee(we.flex.row.center,mt.colors,Ye.interactive.base,"relative w-full"),Vu=ee(we.flex.row.start,"flex-1 min-w-0",we.spacing.pad.sm),zo=ee(we.flex.row.center,"flex-shrink-0",we.spacing.pad.sm);ee(Bu,Ne.solid.dark,Ae.indicatorDark,Ye.interactive.selectedNeutral,Ve.default,"min-h-[40px]"),ee(Bu,Ne.solid.darker,Ae.indicatorDark,Ye.interactive.selectedBright,Ve.default,"min-h-[40px]"),ee(Bu,Ne.solid.transparent,Ae.indicatorDark,Ye.interactive.selectedBright,Ve.default,"min-h-[40px]");const Hu=ee(we.flex.col.base,"relative h-full","focus-within:outline-none"),Wu=ee(we.flex.col.base,"w-full","gap-0.5");ee(Hu,Ne.solid.dark,Ve.default),ee(Hu,Ne.solid.darker,yt.accent.all,Ve.default),ee(Hu,Ne.solid.transparent,Ve.default);const Zh=ee(we.flex.col.base,Ne.solid.dark,yt.accent.all,Sm.rounded.md,mt.transform,"fixed z-100 left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2"),Qh=ee(we.flex.row.between,we.spacing.pad.md,yt.accent.bottom,"h-10"),Kh=ee("flex-1 overflow-auto",we.spacing.pad.md),qh=ee(we.flex.row.between,we.spacing.pad.md,yt.accent.top,"h-14"),Jh=ee("fixed inset-0 bg-black/50","transition-opacity duration-300","z-80 w-screen h-screen"),Zx={name:"modal",elements:["backdrop","header","content","footer"],variants:{default:{root:ee(Zh,Ne.solid.dark,Ve.default),backdrop:Jh,header:Qh,content:Kh,footer:qh},elevated:{root:ee(Zh,Ne.solid.darker,"shadow-lg",Ve.default),backdrop:Jh,header:Qh,content:Kh,footer:qh}}},Cm=({children:e,title:n,footer:o,open:i=!1,onClose:l,variant:a="default",width:u=500,maxHeight:d="85vh",closeOnBackdropClick:f=!0,closeOnEscape:y=!0,showHeader:g=!!n,showFooter:h=!!o,showBackdrop:m=!0,className:v,headerClassName:S,contentClassName:b,footerClassName:k,backdropClassName:I,styleProps:T,...C})=>{const[_,F]=M.useState(!1);M.useEffect(()=>{i&&F(!0)},[i]),M.useEffect(()=>{if(!i||!y)return;const W=U=>{U.key==="Escape"&&(l==null||l())};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[i,y,l]);const V=M.useCallback(()=>{f&&(l==null||l())},[f,l]),P={"aria-hidden":!i},O=({elementProps:W,state:U,computedStyle:Q})=>{const Z=(W==null?void 0:W["data-component-id"])||"modal",X=`${Z}-header`,N=`${Z}-content`;return x.jsxs("div",{className:Q.container,onTransitionEnd:()=>!i&&F(!1),...P,children:[m&&x.jsx("div",{className:Pe(Q.backdrop,i?"opacity-100":"opacity-0",I),onClick:V,"aria-hidden":"true"}),x.jsxs("div",{...W,id:Z,role:"dialog","aria-modal":"true","aria-labelledby":g?X:void 0,"aria-describedby":N,className:Q.root,style:{width:u,maxHeight:d},children:[g&&x.jsx("div",{id:X,className:Q.header,children:n}),x.jsx("div",{id:N,className:Q.content,children:e}),h&&x.jsx("div",{className:Q.footer,children:o})]})]})};return _?x.jsx(En,{as:"div",stylePreset:Zx,styleProps:{variant:a,elements:{root:{base:v},header:{base:S},content:{base:b},footer:{base:k},backdrop:{base:I}}},renderElement:O,...C}):null},Qx=()=>x.jsx("article",{children:x.jsx(Em,{label:"Name of Project",variant:"default",closeOnMouseLeave:!0,options:[{label:"Change Project Name",value:"Change Project Name",icon:x.jsx(mv,{}),onClick:()=>{console.log("HERE1")}}]})}),Fl=ee(we.flex.row.center,we.spacing.pad.sm,sa.ring.accent,Sm.rounded.md,mt.base,Ye.interactive.base,Ve.default),vr=ee(we.flex.row.center,"flex-shrink-0"),Kx={name:"button",elements:["content","startIcon","endIcon"],variants:{default:{root:ee(Fl,Ne.solid.dark,Ae.indicatorDark,Ye.interactive.selectedNeutral),content:ee("text-current whitespace-nowrap","px-1"),startIcon:vr,endIcon:vr},ghost:{root:ee(Fl,Ne.solid.transparent,Ae.indicatorDark,Ye.interactive.selectedBright),content:ee("text-current whitespace-nowrap","px-1"),startIcon:vr,endIcon:vr},bright:{root:ee(Fl,Ne.solid.accentBright,Ae.default.base,Ye.interactive.selectedNeutral),content:ee("text-current whitespace-nowrap","px-1"),startIcon:vr,endIcon:vr},outline:{root:ee(Fl,Ne.solid.transparent,Ae.indicatorDark,"border border-accent-dark-neutral",Ye.interactive.selectedNeutral),content:ee("text-current whitespace-nowrap","px-1"),startIcon:vr,endIcon:vr}}},la=({children:e,startIcon:n,endIcon:o,iconProps:i={},iconSize:l="sm",variant:a="default",className:u,styleProps:d,type:f="button",disabled:y=!1,loading:g=!1,ariaLabel:h,currentState:m,states:v,defaultState:S=0,onStateChange:b,...k})=>{var Y,$,L,j,A,R,D,B,ne,te,le;const[I,T]=M.useState(S),C=m!==void 0?typeof m=="boolean"?m?1:0:m:I;M.useEffect(()=>{m!==void 0&&T(typeof m=="boolean"?m?1:0:m)},[m]);const _=(v==null?void 0:v.count)||(typeof m=="boolean"?2:0),F=()=>{if(!v)return;const se=(C+1)%_;T(se),b==null||b(se)},V=((Y=v==null?void 0:v.labels)==null?void 0:Y[C])||e,P=(($=v==null?void 0:v.startIcons)==null?void 0:$[C])||n,O=((L=v==null?void 0:v.endIcons)==null?void 0:L[C])||o,W=((j=v==null?void 0:v.iconProps)==null?void 0:j[C])||i,U=((A=v==null?void 0:v.variants)==null?void 0:A[C])||a,Q=((R=v==null?void 0:v.classNames)==null?void 0:R[C])||u,Z=Xr.getIconSize(l),X={...d,variant:U,elements:{root:{base:Pe((B=(D=d==null?void 0:d.elements)==null?void 0:D.root)==null?void 0:B.base,Q)},content:(ne=d==null?void 0:d.elements)==null?void 0:ne.content,startIcon:(te=d==null?void 0:d.elements)==null?void 0:te.startIcon,endIcon:(le=d==null?void 0:d.elements)==null?void 0:le.endIcon}},N={type:f,...k};return x.jsxs(En,{as:"button","aria-label":h,stylePreset:Kx,styleProps:X,state:{isDisabled:y||g},onClick:v?F:void 0,...N,children:[P&&x.jsx("span",{className:Pe("mr-2",g&&"opacity-0"),children:Xr.render(P,Z,W)}),x.jsx("span",{className:Pe(g&&"opacity-0"),children:V}),O&&x.jsx("span",{className:Pe("ml-2",g&&"opacity-0"),children:Xr.render(O,Z,W)}),g&&x.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:x.jsx("span",{className:"animate-spin",children:""})})]})},Uu=ee(we.flex.row.start,yt.accent.bottom,"relative"),Yu=ee(we.flex.row.centerFull,we.spacing.pad.md,mt.colors,Ye.interactive.base,Ae.indicatorDark,"relative min-w-[100px] h-10","after:absolute after:bottom-0 after:left-0 after:right-0 after:h-0.5"),Gu=ee("flex-1",we.spacing.pad.md);ee(we.flex.col.base,Ne.solid.dark,"relative",Ve.default),ee(Yu,Ye.interactive.selectedBright,"after:bg-accent-dark-bright after:h-[1px]"),ee(we.flex.col.base,Ne.solid.transparent,"relative",Ve.default),ee(Yu,Ye.interactive.selectedBright,"after:bg-accent-dark-bright after:h-[1px]"),ee(we.flex.col.base,Ne.solid.darker,yt.accent.all,"relative",Ve.default),ee(Yu,Ye.interactive.selectedNeutral,"after:bg-accent-dark-neutral after:h-[1px]");const qx=ee(we.flex.row.center,Ae.indicatorDark,mt.colors,Ye.interactive.base,"gap-2 px-2 py-1 min-h-[32px] [&draggable]:cursor-grab"),Jx={name:"treeItem",elements:["content","icon","caret"],variants:{default:{root:ee(qx,Ye.interactive.selectedNeutral,"hover:bg-accent-dark-neutral/20","relative before:absolute before:inset-0 before:pointer-events-none","data-drop-before:before:border-t-2 data-drop-before:before:border-accent-dark-bright","data-drop-after:before:border-b-2 data-drop-after:before:border-accent-dark-bright","data-drop-inside:before:bg-accent-dark-bright/20"),content:ee("flex-grow",Ae.default.base),icon:ee("flex-shrink-0",Ae.indicatorDark),caret:ee("flex-shrink-0",Ae.indicatorDark)}}},ew={name:"treeView",elements:["tree"],variants:{default:{root:ee(we.flex.col.base,Ne.solid.dark,"h-full"),tree:ee("flex-1")}}},Bd=M.memo(({item:e,level:n,selectionManager:o,onMove:i,className:l,contentClassName:a,iconClassName:u,styleProps:d,...f})=>{var k,I;const y=M.useRef(null),g=!!((k=e.children)!=null&&k.length),h=o.isSelected(e.id),m=o.isExpanded(e.id),v=()=>{e.disabled||o.toggleSelection(e.id)},S=T=>{T.stopPropagation(),g&&o.toggleExpansion(e.id)},b=({elementProps:T,state:C,computedStyle:_})=>{const F=e.icon,V={role:"treeitem","aria-selected":C.isSelected,"aria-expanded":g?C.isActive:void 0,"aria-disabled":C.isDisabled,"aria-level":n},P=Pe(_.root,C.isDragging&&"opacity-50 bg-accent-dark-bright/30",C.isDragging&&Bx.base);return x.jsxs("div",{...T,ref:y,style:{paddingLeft:`${n*20}px`},className:P,onClick:v,...V,children:[x.jsx("div",{className:Pe(_.caret,"w-4 h-4 flex items-center justify-center",!g&&"invisible"),onClick:S,children:x.jsx(Rd,{size:12,className:Pe("transition-transform duration-200",m&&"rotate-180")})}),F&&x.jsx("div",{className:_.icon,children:x.jsx(F,{size:16})}),x.jsx("div",{className:_.content,children:e.label})]})};return x.jsxs(x.Fragment,{children:[x.jsx(En,{as:"div",stylePreset:Jx,styleProps:{variant:"default",elements:{root:{base:Pe(l,"relative before:absolute before:inset-0 before:pointer-events-none","data-drop-before:before:border-t-2 data-drop-before:before:border-accent-dark-bright","data-drop-after:before:border-b-2 data-drop-after:before:border-accent-dark-bright","data-drop-inside:before:bg-accent-dark-bright/20")},content:{base:a},icon:{base:u}}},state:{isSelected:h,isActive:m,isDisabled:e.disabled,isEditing:!0},draggable:!e.disabled&&e.canDrag!==!1,dragType:"tree-item",dragData:{id:e.id,data:{level:n,hasChildren:g,parentId:e.parentId}},droppable:!e.disabled&&e.canDrag!==!1,acceptTypes:["tree-item"],dropPositions:["before","after",...e.canDrop?["inside"]:[]],onDrop:(T,C,_)=>{console.log("TreeItem onDrop:",{draggedId:C.id,target:_,item:e}),i==null||i(C.id,_)},renderElement:b,elementRef:y,...f}),m&&((I=e.children)==null?void 0:I.map(T=>x.jsx(Bd,{item:T,level:n+1,selectionManager:o,onMove:i},T.id)))]})});Bd.displayName="TreeItem";const tw=({items:e,selectedIds:n,defaultSelectedIds:o=[],onSelectionChange:i,expandedIds:l,defaultExpandedIds:a=[],onExpansionChange:u,onMove:d,multiSelect:f=!1,maxHeight:y,className:g,treeClassName:h,styleProps:m,...v})=>{const[S,b]=M.useState(new Set(o)),[k,I]=M.useState(new Set(a)),T=M.useMemo(()=>new Set(n||Array.from(S)),[n,S]),C=M.useMemo(()=>new Set(l||Array.from(k)),[l,k]),_=M.useMemo(()=>({selectedIds:T,expandedIds:C,toggleSelection:(O,W="toggle")=>{const U=new Set(T);(!f||W==="single")&&U.clear(),U.has(O)?U.delete(O):U.add(O),n===void 0&&b(U),i==null||i(Array.from(U))},toggleExpansion:O=>{const W=new Set(C);W.has(O)?W.delete(O):W.add(O),l===void 0&&I(W),u==null||u(Array.from(W))},isSelected:O=>T.has(O),isExpanded:O=>C.has(O)}),[T,C,f,n,l,i,u]),F=M.useCallback((O,W)=>{console.log("Tree handleMove:",{draggedId:O,target:W});const U=[...e];let Q,Z,X=-1;const N=(A,R)=>{var D;for(let B=0;B<A.length;B++){if(A[B].id===O)return Q=A[B],Z=R,X=B,!0;if((D=A[B].children)!=null&&D.length&&N(A[B].children,A[B]))return!0}return!1};if(N(U),!Q)return;Z?Z.children.splice(X,1):U.splice(X,1);let Y,$,L=-1;const j=(A,R)=>{var D;for(let B=0;B<A.length;B++){if(A[B].id===W.id)return Y=A[B],$=R,L=B,!0;if((D=A[B].children)!=null&&D.length&&j(A[B].children,A[B]))return!0}return!1};if(j(U),!!Y){switch(W.position){case"before":$?$.children.splice(L,0,Q):U.splice(L,0,Q);break;case"after":$?$.children.splice(L+1,0,Q):U.splice(L+1,0,Q);break;case"inside":Y.children=Y.children||[],Y.children.push(Q),C.has(Y.id)||_.toggleExpansion(Y.id);break}console.log("Updated tree structure:",U),d==null||d(U)}},[e,C,_,d]),V={role:"tree"},P=({elementProps:O,state:W,computedStyle:U})=>x.jsx("div",{...O,className:U.root,...V,children:x.jsx(ba,{maxHeight:y,variant:"ghost",className:U.tree,children:e.map(Q=>x.jsx(Bd,{item:Q,level:0,selectionManager:_,onMove:F},Q.id))})});return x.jsx(En,{as:"div",stylePreset:ew,styleProps:{variant:"default",elements:{root:{base:g},tree:{base:h}}},renderElement:P,...v})},Vd=({panelName:e,position:n,floatPosition:o,isFloating:i,size:l,floatSize:a,isVisible:u,children:d,className:f=""})=>{var I,T;const y=xa(e),g={...y,position:n??y.position,floatPosition:o??y.floatPosition,isFloating:i??y.isFloating,size:l??y.size,floatSize:a??y.floatSize,isVisible:u??y.isVisible};if(!g.isVisible)return null;const h="bg-bg-dark text-font-dark border-accent-dark-neutral",m={[xn.Left]:"border-r-3 col-start-2",[xn.Right]:"border-l-3",[xn.Bottom]:"border-t-3"},v=Bt.convert(g.size,"px"),S=g.floatSize?ra.convert(g.floatSize,"px"):void 0,b=g.isFloating?{left:(I=g.floatPosition)==null?void 0:I.x.value,top:(T=g.floatPosition)==null?void 0:T.y.value,width:S==null?void 0:S.width.value,height:S==null?void 0:S.height.value}:{[g.position===xn.Bottom?"height":"width"]:v.value},k=g.position===xn.Bottom?"w-screen":"h-screen";return x.jsxs("div",{className:`${h} ${m[g.position]} ${k} ${f}`,style:b,children:[g.position===xn.Left&&x.jsx(Qx,{}),d]})};var Be=(e=>(e.BEFORE="before",e.AFTER="after",e.INSIDE="inside",e))(Be||{});const Gr=class Gr{constructor(){an(this,"activeElements",new Map);an(this,"indicators",new Map);an(this,"findAllComponentsAtPosition",(n,o,i)=>{const l=[],a=document.querySelectorAll(`[data-widget-id="${n}"] [data-component-id]`),u=new Map;return a.forEach(d=>{const f=d.getBoundingClientRect();if(this.isPointInRectangle(o,i,f)){let y=0,g=d,h=[];for(;g&&g.parentElement&&(g=g.parentElement,g.hasAttribute("data-component-id")&&(y++,h.push(g.getAttribute("data-component-id"))),!g.hasAttribute("data-widget-id")););u.set(d,{id:d.getAttribute("data-component-id"),depth:y})}}),u.forEach((d,f)=>{l.push({id:d.id,element:f,depth:d.depth})}),l.sort((d,f)=>{if(f.depth!==d.depth)return f.depth-d.depth;const y=Array.from(a).indexOf(d.element);return Array.from(a).indexOf(f.element)-y})})}static getInstance(){return Gr.instance||(Gr.instance=new Gr),Gr.instance}createDropZoneConfigFromTarget(n){if(!n.element)return console.warn("Cannot create DropZoneConfig from DropTarget without element"),null;const o=n.positions||["inside"];return{targetId:n.id,element:n.element,positions:o,isContainer:o.includes("inside")}}setDropPosition(n,o,i,l){this.activeElements.has(n)||(this.activeElements.set(n,{element:o,activePosition:null}),this.createIndicatorsForElement(n,o,l));const a=this.activeElements.get(n);a&&a.activePosition!==i&&(a.activePosition=i,this.updateElementAttributes(o,i),this.updateIndicatorVisibility(n,i))}createIndicatorsForElement(n,o,i){this.cleanupTarget(n);const l=this.createDropIndicator(o,"before");l&&(this.indicators.set(`${n}-before`,l),o.appendChild(l));const a=this.createDropIndicator(o,"after");if(a&&(this.indicators.set(`${n}-after`,a),o.appendChild(a)),i){const u=this.createDropIndicator(o,"inside");u&&(this.indicators.set(`${n}-inside`,u),o.appendChild(u))}this.updateIndicatorVisibility(n,null)}createDropIndicator(n,o,i){const l=document.createElement("div");switch(l.className=`drop-indicator drop-indicator-${o} ${i||""}`,l.style.position="absolute",l.style.pointerEvents="none",l.style.zIndex="1000",l.style.transition="opacity 0.15s ease",o){case"before":l.style.top="0",l.style.left="0",l.style.right="0",l.style.height="4px",l.style.backgroundColor="#3b82f6",l.style.borderRadius="2px",l.style.boxShadow="0 0 3px rgba(59, 130, 246, 0.5)";break;case"after":l.style.bottom="0",l.style.left="0",l.style.right="0",l.style.height="4px",l.style.backgroundColor="#3b82f6",l.style.borderRadius="2px",l.style.boxShadow="0 0 3px rgba(59, 130, 246, 0.5)";break;case"inside":l.style.inset="0",l.style.border="2px dashed #3b82f6",l.style.backgroundColor="rgba(59, 130, 246, 0.1)",l.style.borderRadius="4px";break;default:return null}return l.style.animation="pulse 1.5s infinite",n.appendChild(l),l}updateElementAttributes(n,o){Object.values(Be).forEach(i=>{n.setAttribute(`data-drop-${i}`,"false")}),o!==null&&n.setAttribute(`data-drop-${o}`,"true")}updateIndicatorVisibility(n,o){if(Object.values(Be).forEach(i=>{const l=this.indicators.get(`${n}-${i}`);l&&(l.style.opacity="0")}),o!==null){const i=this.indicators.get(`${n}-${o}`);i&&(i.style.opacity="1")}}clearDropState(n){const o=this.activeElements.get(n);o&&(this.updateElementAttributes(o.element,null),this.updateIndicatorVisibility(n,null),o.activePosition=null)}clearAllDropStates(){this.activeElements.forEach((n,o)=>{this.clearDropState(o)})}cleanupTarget(n){this.activeElements.get(n)&&(Object.values(Be).forEach(i=>{const l=this.indicators.get(`${n}-${i}`);l&&l.parentElement&&l.parentElement.removeChild(l),this.indicators.delete(`${n}-${i}`)}),this.activeElements.delete(n))}cleanupAllTargets(){Array.from(this.activeElements.keys()).forEach(o=>{this.cleanupTarget(o)})}calculateDropPosition(n,o,i,l,a=["before","after","inside"],u){if(a.length===1)return a[0];const d=n.getBoundingClientRect(),f=o-d.left,y=i-d.top,g=f/d.width,h=y/d.height,m=u?g:h,v=u?d.width*.25:d.height*.25;return l&&a.includes("inside")&&y>v&&y<d.height-v?"inside":m<.5&&a.includes("before")?"before":a.includes("after")?"after":a[0]}findContainerAtPosition(n,o,i){var u;const l=document.querySelectorAll(`[data-widget-id="${n}"] [data-is-nested-container="true"]`);for(const d of Array.from(l)){const f=d.getBoundingClientRect();if(this.isPointInRectangle(o,i,f)){const y=d.getAttribute("data-container-id");if(!y)continue;return{id:y,element:d,type:((u=d.parentElement)==null?void 0:u.getAttribute("data-component-type"))||"unknown"}}}const a=document.querySelectorAll(`[data-widget-id="${n}"][data-is-container="true"],
             [data-widget-id="${n}"] [data-is-container="true"]`);for(const d of Array.from(a)){const f=d.getBoundingClientRect();if(this.isPointInRectangle(o,i,f)){const y=d.getAttribute("data-component-id");if(!y)continue;return{id:y,element:d,type:d.getAttribute("data-component-type")||"unknown"}}}return null}isPointInElement(n,o,i){const l=n.getBoundingClientRect();return this.isPointInRectangle(o,i,l)}isPointInRectangle(n,o,i){return n>=i.left&&n<=i.right&&o>=i.top&&o<=i.bottom}};an(Gr,"instance");let vd=Gr;const Bl=vd.getInstance(),aa=fs((e,n)=>({registeredTargets:new Set,isDragging:!1,dragSource:null,dragData:null,dropTargets:[],activeDropTarget:null,dropIndicators:[],startDrag:o=>{console.log(`Starting drag: ${o.type}/${o.id}`),e({isDragging:!0,dragSource:o,dragData:o.data})},endDrag:()=>{console.log("Ending drag"),e({isDragging:!1,dragSource:null,dragData:null,activeDropTarget:null}),n().clearDropIndicators()},registerDropTarget:o=>{const i=o.id,l=n();l.registeredTargets.has(i)||(l.registeredTargets.add(i),e(a=>({dropTargets:[...a.dropTargets.filter(u=>u.id!==o.id),o]})))},unregisterDropTarget:o=>{const i=n();i.registeredTargets.has(o)&&(i.registeredTargets.delete(o),e(l=>l.dropTargets.some(u=>u.id===o)?{dropTargets:l.dropTargets.filter(u=>u.id!==o)}:l))},setActiveDropTarget:o=>{const i=o?n().dropTargets.find(l=>l.id===o):null;e({activeDropTarget:i||null})},addDropIndicator:o=>{e(i=>({dropIndicators:[...i.dropIndicators,o]}))},clearDropIndicators:()=>{n().dropIndicators.forEach(o=>{o.element&&o.element.remove()}),e({dropIndicators:[]})},handleDrop:(o,i)=>{const{dragSource:l,dropTargets:a}=n();if(!l)return!1;const u=a.find(d=>d.id===i);return u?u.accepts.includes(l.type)?(console.log(`Dropping ${l.type}/${l.id} onto ${u.type}/${u.id}`),n().endDrag(),!0):(console.log(`Drop target ${i} does not accept ${l.type}`),!1):!1}}));function _m(e,n,o,i){const{startDrag:l,endDrag:a,isDragging:u,dragSource:d}=aa(),f=M.useRef(null),[y,g]=M.useState(!1),[h,m]=M.useState(!1),v=y||u&&(d==null?void 0:d.id)===n,S=(i==null?void 0:i.crossWidgetEnabled)!==!1,b=M.useCallback(T=>{if(i!=null&&i.disabled)return;console.log(`Drag start: ${e}/${n}`),T.stopPropagation();const C=JSON.stringify({type:e,id:n,widgetId:o.widgetId,parentId:o.parentId,data:{...o,componentType:o.componentType,instanceId:o.instanceId,definitionId:o.definitionId,position:o.position,size:o.size}});if(T.dataTransfer.setData("application/json",C),T.dataTransfer.effectAllowed="move",i!=null&&i.dragPreview)if(i.dragPreview instanceof HTMLElement)T.dataTransfer.setDragImage(i.dragPreview,0,0);else{const{element:_,offsetX:F=0,offsetY:V=0}=i.dragPreview;T.dataTransfer.setDragImage(_,F,V)}l({id:n,type:e,data:o,element:f.current||void 0}),S&&(document.body.classList.add("cross-widget-drag-active"),f.current&&(f.current.setAttribute("data-cross-widget-drag","true"),o.widgetId&&o.widgetId!=="palette"&&f.current.setAttribute("data-source-widget-id",o.widgetId.toString())),m(!0)),g(!0),document.body.style.cursor="grabbing"},[n,e,o,i,l,S]),k=M.useCallback(T=>{console.log(`Drag end: ${e}/${n}`),T.stopPropagation(),S&&(document.body.classList.remove("cross-widget-drag-active"),f.current&&(f.current.removeAttribute("data-cross-widget-drag"),f.current.removeAttribute("data-source-widget-id")),m(!1)),a(),g(!1),document.body.style.cursor="default"},[n,e,a,S]);return{dragProps:{ref:f,draggable:!(i!=null&&i.disabled),onDragStart:b,onDragEnd:k,"data-drag-id":n,"data-drag-type":e,...o.widgetId&&o.widgetId!=="palette"?{"data-source-widget-id":o.widgetId.toString()}:{},"data-cross-widget":S?"true":"false",className:`${v?"dragging":""} ${h?"cross-widget-draggable":""}`},isDragging:v,isCrossWidgetDrag:h,elementRef:f}}function nw(e,n,o){const{dragProps:i,isDragging:l,elementRef:a}=_m("component-definition",e,{id:e,widgetId:"palette",type:"component-definition",definitionId:e,componentType:n,label:o}),{"data-source-widget-id":u,...d}=i;return{dragProps:d,isDragging:l,elementRef:a}}function Xu({component:e,isUserComponent:n=!1,className:o}){const i=rw(e.type),{dragProps:l,isDragging:a}=nw(e.id,e.type,e.label||e.name),u=ee(Ne.solid.dark,Ae.default.base,mt.colors,"cursor-grab border border-accent-dark-neutral rounded hover:border-accent-dark-bright");return x.jsx("div",{...l,className:Pe(u,o,`component-thumbnail ${a?"dragging":""}`),"data-component-id":e.id,"data-component-type":e.type,title:e.label,children:x.jsxs("div",{className:"p-2 flex flex-col items-center",children:[x.jsx("div",{className:"w-12 h-12 flex items-center justify-center",children:x.jsx(i,{size:32})}),x.jsx("div",{className:"mt-1 text-sm text-center truncate w-full",children:e.label}),n&&x.jsx("div",{className:"text-xs text-accent-dark-bright mt-0.5",children:"Custom"})]})})}function rw(e){switch(e){case"Panel":return vv;case"ScrollBox":return xv;case"Button":return zl;case"TextInput":return zl;case"Label":return zl;default:return zl}}const ow={none:"",sm:"gap-1",md:"gap-2",lg:"gap-3"},iw=({items:e,selectionMode:n="single",defaultSelected:o=[],selected:i,onSelectionChange:l,orientation:a="horizontal",className:u,buttonClassName:d,spacing:f="none",size:y="md",variant:g="default"})=>{const[h,m]=M.useState(o),v=i??h,S=M.useCallback(b=>{if(n==="none")return;let k;switch(n){case"single":k=[b];break;case"toggle":v.includes(b)?k=[]:k=[b];break;case"multiple":v.includes(b)?k=v.filter(I=>I!==b):k=[...v,b];break;default:k=v;break}i===void 0&&m(k),l==null||l(k)},[n,v,i,l]);return x.jsx("div",{className:Pe("flex",a==="horizontal"?"flex-row":"flex-col",ow[f],u),children:e.map(b=>{var T,C;const k=v.includes(b.id);return(b.type||"icon")==="icon"?x.jsx(es,{icon:b.icon,tooltip:b.tooltip,variant:g,size:y,disabled:b.disabled,selected:k,onClick:()=>S(b.id),className:Pe(d,(T=b.buttonProps)==null?void 0:T.className),...b.buttonProps},b.id):x.jsx(la,{startIcon:b.icon,variant:g,disabled:b.disabled,selected:k,onClick:()=>S(b.id),className:Pe(d,(C=b.buttonProps)==null?void 0:C.className),...b.buttonProps,children:b.label},b.id)})})},Im=M.createContext(void 0),sw=({children:e})=>{const[n,o]=M.useState(new Set),[i,l]=M.useState({}),g={openModal:(h,m)=>{o(v=>{const S=new Set(v);return S.add(h),S}),m&&l(v=>({...v,[h]:m}))},closeModal:h=>{o(m=>{const v=new Set(m);return v.delete(h),v})},closeAllModals:()=>{o(new Set)},isModalOpen:h=>n.has(h),getModalData:h=>i[h]};return x.jsx(Im.Provider,{value:g,children:e})},Nm=()=>{const e=M.useContext(Im);if(e===void 0)throw new Error("useModal must be used within a ModalProvider");return e},lw=[Vt.COMPONENT_PALETTE,Vt.LAYOUT_HIERARCHY,Vt.THEME_MANAGER],aw=()=>{const{openModal:e}=Nm(),n={},o={},i=[];lw.forEach(u=>{const d=Object.keys(Vt).find(h=>Vt[h]===u);if(!d)return;const{isVisible:f,toggle:y}=Tv(d),g=Mv[d];n[d]=y,o[d]=f,i.push({id:d,icon:x.jsx(g,{}),tooltip:Dv[d],buttonProps:{selected:f,variant:"default",iconSize:28}})});const l=Object.keys(o).find(u=>o[u]),a=u=>{const d=u[0];if(!d){l&&n[l]();return}if(d===l){n[l]();return}l&&n[l](),n[d]()};return x.jsxs("div",{className:"bg-bg-dark flex flex-col border-r border-accent-dark-bright",children:[x.jsx("div",{className:"border-b border-accent-dark-neutral",children:x.jsx(es,{icon:x.jsx(hv,{size:36}),tooltip:"Project Menu",variant:"bright",onClick:()=>e("project"),iconSize:40})}),x.jsx("div",{className:"flex-1",children:x.jsx(iw,{items:i,orientation:"vertical",selectionMode:"toggle",selected:l?[l]:[],onSelectionChange:a,variant:"default",size:"md"})}),x.jsx("div",{className:"border-t border-accent-dark-neutral mt-auto",children:x.jsx(es,{icon:x.jsx(yv,{}),tooltip:"Settings",variant:"default",onClick:()=>e("settings"),iconSize:28})})]})},cw=({isOpen:e,onClose:n})=>x.jsx(Cm,{open:e,onClose:n,title:"Project Options",width:500,footer:x.jsx("div",{className:"flex justify-end",children:x.jsx("button",{className:"px-3 py-1 text-font-dark hover:text-font-light",onClick:n,children:"Close"})}),children:x.jsxs("div",{className:"p-4",children:[x.jsx("h3",{className:"text-lg font-medium mb-4",children:"Project Management"}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("button",{className:"w-full text-left px-4 py-2 bg-bg-dark-darker hover:bg-accent-dark-neutral/20 border border-accent-dark-neutral rounded",children:"New Project"}),x.jsx("button",{className:"w-full text-left px-4 py-2 bg-bg-dark-darker hover:bg-accent-dark-neutral/20 border border-accent-dark-neutral rounded",children:"Open Project"}),x.jsx("button",{className:"w-full text-left px-4 py-2 bg-bg-dark-darker hover:bg-accent-dark-neutral/20 border border-accent-dark-neutral rounded",children:"Save Project"}),x.jsx("button",{className:"w-full text-left px-4 py-2 bg-accent-dark-bright hover:bg-accent-dark-bright-hover text-font-dark rounded",children:"Export"})]})]})}),uw=({isOpen:e,onClose:n})=>x.jsx(Cm,{open:e,onClose:n,title:"Application Settings",width:600,footer:x.jsxs("div",{className:"flex justify-end gap-2",children:[x.jsx("button",{className:"px-3 py-1 text-font-dark hover:text-font-light",onClick:n,children:"Cancel"}),x.jsx("button",{className:"px-3 py-1 bg-accent-dark-bright hover:bg-accent-dark-bright-hover text-font-dark rounded",onClick:n,children:"Save Settings"})]}),children:x.jsxs("div",{className:"p-4",children:[x.jsx("h3",{className:"text-lg font-medium mb-4",children:"Application Settings"}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{children:"Dark Mode"}),x.jsx("input",{type:"checkbox",defaultChecked:!0})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{children:"Auto Save"}),x.jsx("input",{type:"checkbox"})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{children:"Show Grid"}),x.jsx("input",{type:"checkbox",defaultChecked:!0})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{children:"Grid Size"}),x.jsxs("select",{className:"bg-bg-dark-darker border border-accent-dark-neutral rounded p-1",children:[x.jsx("option",{children:"10px"}),x.jsx("option",{children:"20px"}),x.jsx("option",{children:"40px"})]})]})]})]})}),Yi={Drawer:"Drawer",Dropdown:"Dropdown",DropdownPanel:"DropdownPanel",IconButton:"IconButton",Input:"Input",Label:"Label",ListView:"ListView",Modal:"Modal",Panel:"Panel",PushButton:"PushButton",ScrollBox:"ScrollBox",Tabs:"Tabs",Tooltip:"Tooltip",TreeView:"TreeView"};async function dw(e={}){const{resetStores:n=!1,registerComponents:o=!0}=e;console.log("Initializing core system..."),n&&(console.log("Resetting stores..."),qe.getState().purgeStore(),Je.getState().purgeStore({resetToDefaults:!0}),pt.getState());const i=Cw();return o&&yw(),await _w(),console.log("Core system initialized"),{registry:i}}const Vo={Widget:oa,Panel:fd,ScrollBox:fd,PushButton:bv,Input:wv,Label:Sv},Oe={getString:(e,n,o)=>{try{let i=e;for(const l of n){if(i==null)return o;i=i[l]}return typeof i=="string"?i:o}catch{return o}},getBoolean:(e,n,o)=>{try{let i=e;for(const l of n){if(i==null)return o;i=i[l]}return typeof i=="boolean"?i:o}catch{return o}},getValue:function(e,n,o){try{let i=e;for(const l of n){if(i==null)return o;i=i[l]}return i??o}catch{return o}},paths:{title:["overrides","content","properties","title","value"],text:["overrides","content","properties","text","value"],placeholder:["overrides","content","properties","placeholder","value"],defaultValue:["overrides","content","properties","defaultValue","value"],variant:["overrides","style","variant"],showHeader:["overrides","content","properties","showHeader","value"],maxHeight:["overrides","content","properties","maxHeight","value"],action:["actionBindings","action"],targetWidgetId:["actionBindings","targetWidgetId"]}},fw=({instance:e,children:n,widgetId:o,actionHandler:i,isEditMode:l,isSelected:a,onSelect:u})=>{const d=!!(n&&(!Array.isArray(n)||n.length>0)),f=Oe.getString(e,Oe.paths.title,e.label||"Panel"),y=Oe.getString(e,Oe.paths.variant,"default"),g=Oe.getBoolean(e,Oe.paths.showHeader,!0),h=Oe.getString(e,Oe.paths.placeholder,l?"Drop components here":"Empty panel"),m=d?{}:{minWidth:"200px",minHeight:"100px"},v=S=>{u&&S.currentTarget===S.target&&(S.stopPropagation(),u(e.id))};return x.jsx(km,{header:g?f:void 0,variant:y,"data-component-id":e.id,"data-component-type":"Panel","data-widget-id":o,"data-has-children":d?"true":"false","data-edit-mode":l?"true":"false","data-selected":a?"true":"false","data-instance-id":e.id,style:m,className:`panel-component w-full ${a?"selected-component":""}`,onClick:v,children:x.jsx("div",{className:d?"p-0":"p-4",children:d?x.jsx("div",{className:"panel-children-container w-full",children:Array.isArray(n)?n.map((S,b)=>x.jsx("div",{className:"panel-child-wrapper w-full mb-2",children:S},b)):n}):x.jsx("div",{className:"text-center text-font-dark-muted text-sm",children:h})})})},pw=({instance:e,children:n,widgetId:o,actionHandler:i,isEditMode:l,isSelected:a,onSelect:u})=>{const d=!!(n&&(!Array.isArray(n)||n.length>0)),f=Oe.getString(e,Oe.paths.variant,"default"),y=Oe.getString(e,Oe.paths.maxHeight,"300px"),g=Oe.getString(e,Oe.paths.placeholder,l?"Drop scrollable content here":"Scrollable content area"),h=d?{maxHeight:y}:{minWidth:"200px",minHeight:"100px",maxHeight:y},m=v=>{u&&v.currentTarget===v.target&&(v.stopPropagation(),u(e.id))};return x.jsx(ba,{variant:f,maxHeight:y,"data-component-id":e.id,"data-component-type":"ScrollBox","data-widget-id":o,"data-has-children":d?"true":"false","data-edit-mode":l?"true":"false","data-selected":a?"true":"false","data-instance-id":e.id,style:h,className:`scrollbox-component w-full relative ${a?"selected-component":""}`,onClick:m,children:d?x.jsx("div",{className:"scrollbox-children-container",children:Array.isArray(n)?n.map((v,S)=>x.jsx("div",{className:"scrollbox-child-wrapper w-full mb-2",children:v},S)):n}):x.jsx("div",{className:"text-center text-font-dark-muted text-sm p-4",children:g})})},hw=({instance:e,actionHandler:n,widgetId:o,isEditMode:i,isSelected:l,onSelect:a})=>{const u=Oe.getString(e,Oe.paths.text,e.label||"Button"),d=Oe.getString(e,Oe.paths.variant,"default"),f=y=>{if(y.stopPropagation(),i&&a){a(e.id);return}if(n){const g=Oe.getString(e,Oe.paths.action,""),h=Oe.getString(e,Oe.paths.targetWidgetId,"");g&&h&&n(g,h)}};return x.jsx(la,{variant:d,onClick:f,"data-component-id":e.id,"data-component-type":"PushButton","data-edit-mode":i?"true":"false","data-selected":l?"true":"false","data-instance-id":e.id,className:l?"selected-component":"",children:u})},gw=({instance:e,isEditMode:n,isSelected:o,onSelect:i})=>{const l=Oe.getString(e,Oe.paths.placeholder,"Enter text..."),a=Oe.getString(e,Oe.paths.defaultValue,""),u=Oe.getString(e,Oe.paths.variant,"default"),d=f=>{f.stopPropagation(),n&&i&&i(e.id)};return x.jsx("div",{onClick:d,className:`input-wrapper ${o?"selected-component":""}`,children:x.jsx(Fd,{variant:u,placeholder:l,defaultValue:a,readOnly:n,"data-component-id":e.id,"data-component-type":"Input","data-edit-mode":n?"true":"false","data-selected":o?"true":"false","data-instance-id":e.id})})},mw=({instance:e,isEditMode:n,isSelected:o,onSelect:i})=>{const l=Oe.getString(e,Oe.paths.text,e.label||"Label Text"),a=Oe.getString(e,["overrides","style","className"],""),u=d=>{d.stopPropagation(),n&&i&&i(e.id)};return x.jsx("div",{className:`label-component ${a} ${o?"selected-component":""}`,"data-component-id":e.id,"data-component-type":"Label","data-edit-mode":n?"true":"false","data-selected":o?"true":"false","data-instance-id":e.id,onClick:u,children:l})};function yw(){const e=Yo.getState();e.registerRenderer(Yi.Panel,fw),e.registerRenderer(Yi.ScrollBox,pw),e.registerRenderer(Yi.PushButton,hw),e.registerRenderer(Yi.Input,gw),e.registerRenderer(Yi.Label,mw);const n=Object.entries(e.renderers).map(([o,i])=>({type:o,hasRenderer:!!i}));console.log("Registered component renderers:",n)}const qe=fs()(zd((e,n)=>({widgets:{},activeWidgetId:null,createWidget:(o,i,l="canvas")=>{const a=`widget-${Kl(6)}`,u={id:a,name:o,label:o,position:i,size:ra.fromValue([300,200],ra.minimum()),components:[],layoutType:"free",isEditMode:!0,displayType:l,isVisible:l==="canvas",zIndex:l==="modal"?1e3:0,dragHandle:".drag-handle__widget"};return e(d=>({widgets:{...d.widgets,[a]:u},activeWidgetId:d.activeWidgetId===null&&l==="canvas"?a:d.activeWidgetId})),u},updateWidget:(o,i)=>{e(l=>{const a=l.widgets[o];return a?{widgets:{...l.widgets,[o]:{...a,...i}}}:l})},deleteWidget:o=>{e(i=>{const l={...i.widgets};delete l[o];let a=i.activeWidgetId;if(a===o){const u=Object.values(l).filter(d=>d.displayType==="canvas"&&d.isVisible);a=u.length>0?u[0].id:null}return{widgets:l,activeWidgetId:a}})},showWidget:o=>{e(i=>{const l=i.widgets[o];return l?{widgets:{...i.widgets,[o]:{...l,isVisible:!0}}}:i})},hideWidget:o=>{e(i=>{const l=i.widgets[o];return l?{widgets:{...i.widgets,[o]:{...l,isVisible:!1}}}:i})},toggleWidget:o=>{e(i=>{const l=i.widgets[o];return l?{widgets:{...i.widgets,[o]:{...l,isVisible:!l.isVisible}}}:i})},addComponentToWidget:(o,i,l,a)=>{if(!l||typeof l!="string")return console.error("Invalid instanceId parameter. Expected EntityId, got:",l),null;if(!a||!a.x||!a.y)return console.error("Invalid position parameter. Expected Position object, got:",a),null;const u=n().widgets[o];if(!u)return null;const d=`component-${Kl(6)}`,f={id:d,definitionId:i,instanceId:l,position:a,size:{width:{value:100,unit:"px"},height:{value:40,unit:"px"}},zIndex:u.components.length,childIds:[]};return e(y=>{const g={...u,components:[...u.components,f]};return{widgets:{...y.widgets,[o]:g}}}),u.isEditMode||setTimeout(()=>{const y=n().widgets[o];if(!y)return;let g=0,h=0;const m={x:20,y:20};y.components.forEach(T=>{const C=T.position.x.value+T.size.width.value,_=T.position.y.value+T.size.height.value;g=Math.max(g,C),h=Math.max(h,_)});const v=g+m.x,S=h+m.y,I={width:{value:Math.max(200,v),unit:"px"},height:{value:Math.max(100,S),unit:"px"}};n().updateWidget(o,{size:I})},50),ye.publish("component:added",{widgetId:o,componentId:d}),f},updateComponent:(o,i,l)=>{e(a=>{const u=a.widgets[o];if(!u)return a;const d=u.components.map(f=>f.id==i?{...f,...l}:f);return ye.publish("component:updated",{widgetId:o,componentId:i}),{widgets:{...a.widgets,[o]:{...u,components:d}}}})},removeComponent:(o,i)=>{e(l=>{const a=l.widgets[o];if(!a)return l;const u=a.components.filter(d=>d.id!==i);return ye.publish("component:deleted",{widgetId:o,componentId:i}),{widgets:{...l.widgets,[o]:{...a,components:u}}}})},findComponent:(o,i)=>{const l=n().widgets[o];return l&&l.components.find(a=>a.id===i)||null},findComponentByInstanceId:o=>{const i=n().widgets;for(const l in i){const u=i[l].components.find(d=>d.instanceId===o);if(u)return{component:u,widgetId:l}}return{component:null,widgetId:null}},bindComponentToWidget:(o,i,l,a="show")=>{e(u=>{const d=u.widgets[o];if(!d)return u;const f=d.components.map(y=>y.id===i?{...y,actionBindings:{targetWidgetId:l,action:a}}:y);return{widgets:{...u.widgets,[o]:{...d,components:f}}}})},addChildComponent:(o,i,l,a,u={x:{value:10,unit:"px"},y:{value:10,unit:"px"}})=>{var g;const f=n().widgets[o];if(!f)return console.error(`Widget ${o} not found`),null;const y=f.components.find(h=>h.id===i);if(!y)return console.error(`Parent component ${i} not found in widget ${o}`),null;try{const h=`component-${Kl(6)}`,m={id:h,definitionId:l,instanceId:a,position:u,size:{width:{value:100,unit:"px"},height:{value:40,unit:"px"}},zIndex:((g=y.childIds)==null?void 0:g.length)||0,parentId:i,childIds:[]},v={...y,childIds:[...y.childIds||[],h]};return e(S=>{const b=f.components.map(k=>k.id===i?v:k);return b.push(m),{widgets:{...S.widgets,[o]:{...f,components:b}}}}),ye.publish("hierarchy:changed",{widgetId:o}),m}catch(h){return console.error("Error creating child component:",h),null}},moveComponent:(o,i,l,a)=>{e(d=>{const f=d.widgets[o],y=a||o,g=d.widgets[y];if(!f||!g)return console.error("Source or destination widget not found"),d;const h=f.components.find(v=>v.id===i);if(!h)return console.error(`Component ${i} not found in source widget`),d;if(y===o&&l){let v=f.components.find(b=>b.id===l),S=!1;for(;v&&v.parentId;){if(v.parentId===i){console.warn("Cannot create circular reference in component hierarchy"),S=!0;break}v=f.components.find(b=>b.id===v.parentId)}if(S)return d}const m={...d};if(y===o){const v=h.parentId,S=f.components.map(b=>b.id===i?{...b,parentId:l||void 0}:b.id===v?{...b,childIds:b.childIds.filter(k=>k!==i)}:b.id===l?{...b,childIds:[...b.childIds,i]}:b);m.widgets[o]={...f,components:S}}else{const S=((k,I)=>{const T=[],C=k.find(F=>F.id===I);if(!C)return T;T.push(C);const _=F=>{const V=k.filter(P=>P.parentId===F);for(const P of V)T.push(P),_(P.id)};return _(I),T})(f.components,i);m.widgets[o]={...f,components:f.components.filter(k=>!S.some(I=>I.id===k.id))},m.widgets[o].components=m.widgets[o].components.map(k=>{const I=k.childIds.filter(T=>!S.some(C=>C.id===T));return I.length!==k.childIds.length?{...k,childIds:I}:k});const b=S.map(k=>k.id===i?{...k,parentId:l||void 0}:k);m.widgets[y]={...g,components:[...g.components,...b]},l&&(m.widgets[y].components=m.widgets[y].components.map(k=>k.id===l?{...k,childIds:[...k.childIds,i]}:k))}return m}),a&&a!==o?(ye.publish("component:moved",{sourceWidgetId:o,destinationWidgetId:a,componentId:i,parentId:l}),ye.publish("hierarchy:changed",{widgetId:o}),ye.publish("hierarchy:changed",{widgetId:a})):(ye.publish("component:moved",{widgetId:o,componentId:i,parentId:l}),ye.publish("hierarchy:changed",{widgetId:o}))},getComponentHierarchy:(o,i={})=>{const{debug:l=!1,includeWidget:a=!0}=i,u=n().widgets[o];if(!u)return Promise.resolve([]);if(l){console.log(`Building hierarchy for widget ${o} with ${u.components.length} components`);const h={};u.components.forEach(m=>{const v=m.parentId?m.parentId:"root";h[v]||(h[v]=[]),h[v].push({id:m.id,type:m.definitionId.toString().split("-")[0]})}),console.log("Parent-child relationships:",h)}const d=async h=>{try{return(await wn(()=>Promise.resolve().then(()=>wa),void 0)).useComponentStore.getState().getInstance(h)}catch(m){return l&&console.error(`Failed to load instance ${h}:`,m),null}},f=async h=>{try{const m=u.components.filter(T=>T.parentId===h.id);l&&console.log(`Component ${h.id} has ${m.length} children`);let v;try{v=await d(h.instanceId)}catch{l&&console.warn(`Instance not found for component ${h.id}`)}const S=(v==null?void 0:v.type)||"unknown",b=(v==null?void 0:v.label)||h.id.toString().split("-")[0];let k=Vo.Panel;Vo[S]&&(k=Vo[S]);const I=S==="Panel"||S==="ScrollBox"||S==="Drawer"||S==="Tabs";return{id:`${o}/${h.id}`,type:S,label:b,icon:k,canDrop:I,canDrag:!0,data:{componentId:h.id,widgetId:o,instanceId:h.instanceId,definitionId:h.definitionId},parentId:h.parentId?`${o}/${h.parentId}`:void 0,children:await Promise.all(m.map(f))}}catch(m){return console.error(`Error building tree for component ${h.id}:`,m),{id:`${o}/${h.id}`,type:"error",label:`Error: ${h.id}`,icon:fd,canDrop:!1,canDrag:!1,children:[]}}},y=u.components.filter(h=>!h.parentId);return l&&console.log(`Found ${y.length} root components`),(async()=>{const h=await Promise.all(y.map(f));return a?[{id:o,type:"Widget",label:u.label||"Widget",icon:oa,canDrop:!0,canDrag:!1,children:h}]:h})()},reorderComponents:(o,i,l,a,u)=>{e(d=>{console.log(`ARRAY REORDER: ${l} ${u} ${a} in ${i}`);const f=d.widgets[o];if(!f)return d;const y=f.components,g=i===o,h=y.find(_=>_.id===l);if(!h)return console.error(`Component ${l} not found`),d;if(!y.find(_=>_.id===a))return console.error(`Target ${a} not found`),d;const v=y.filter(_=>_.id!==l),S=v.findIndex(_=>_.id===a);if(S===-1)return console.error(`Target ${a} not found after filtering`),d;const b=u==="before"?S:S+1,k=g?void 0:i,I=h.parentId!==k,T=I?{...h,parentId:k}:h,C=[...v.slice(0,b),T,...v.slice(b)];if(I){if(h.parentId){const _=C.findIndex(F=>F.id===h.parentId);_!==-1&&(C[_]={...C[_],childIds:C[_].childIds.filter(F=>F!==l)})}if(k){const _=C.findIndex(F=>F.id===k);_!==-1&&(C[_]={...C[_],childIds:[...C[_].childIds||[],l]})}}return console.log("BEFORE:",y.map(_=>_.id).join(", ")),console.log("AFTER:",C.map(_=>_.id).join(", ")),{widgets:{...d.widgets,[o]:{...f,components:C}}}}),ye.publish("component:reordered",{widgetId:o,containerId:i,componentId:l,targetId:a,position:u}),ye.publish("hierarchy:changed",{widgetId:o})},convertToNodes:()=>{const{widgets:o}=n();return Object.values(o).filter(i=>i.displayType==="canvas"&&i.isVisible).map(i=>({id:i.id,type:"widget",position:cd.toXYPosition(i.position),data:i,dragHandle:".drag-handle__widget"}))},getWidget:o=>n().widgets[o],getVisibleWidgets:o=>{const{widgets:i}=n();return Object.values(i).filter(l=>l.isVisible&&(!o||l.displayType===o))},purgeStore:(o={})=>{const i=n(),{keepWidgets:l=!1}=o,a=Object.keys(i.widgets).length;return l||e({widgets:{},activeWidgetId:null}),{widgetCount:a}},setActiveWidget:o=>{e({activeWidgetId:o})}}),{name:"omni-ui-widgets"})),vw=e=>{M.useEffect(()=>qe.subscribe(o=>{e()}),[e])},it={_createComponent(e,n,o={}){try{const i=Je.getState(),l=qe.getState(),a=i.createFromDefinition(n,o.overrides||{});if(!a||!a.id)return console.error("Failed to create component instance"),null;const u=o.position||{x:{value:10,unit:"px"},y:{value:10,unit:"px"}},d=l.addComponentToWidget(e,n,a.id,u);return d?(o.parentId&&l.moveComponent(e,d.id,o.parentId),o.autoSelect&&d&&pt.getState().selectComponent(d.id,e,{openPropertyPanel:o.openPropertyPanel}),d):(i.deleteInstance(a.id),null)}catch(i){return console.error("Error creating component:",i),null}},createWidget(e,n){try{const o=qe.getState().createWidget(e,n);return ye.publish("widget:created",{widgetId:o.id}),o}catch(o){return console.error("Error creating widget:",o),null}},updateWidgetPosition(e,n){try{return qe.getState().updateWidget(e,{position:n}),ye.publish("widget:updated",{widgetId:e,action:"moved"}),!0}catch(o){return console.error("Error updating widget position:",o),!1}},deleteWidget(e){try{const n=pt.getState();return n.selectedWidgetId===e&&n.deselectAll(),qe.getState().deleteWidget(e),ye.publish("widget:deleted",{widgetId:e}),!0}catch(n){return console.error("Error deleting widget:",n),!1}},addComponentToWidget(e,n,o,i={}){const l=this._createComponent(e,n,{position:o,size:i.size,overrides:i.overrides,autoSelect:i.autoSelect!==!1,openPropertyPanel:i.openPropertyPanel!==!1});return l&&ye.publish("component:added",{componentId:l.id,widgetId:e}),l},addChildComponent(e,n,o,i,l={}){const a=this._createComponent(e,o,{position:i,parentId:n,size:l.size,overrides:l.overrides,autoSelect:l.autoSelect!==!1,openPropertyPanel:l.openPropertyPanel!==!1});return a&&ye.publish("component:added",{componentId:a.id,widgetId:e,parentId:n}),a},deleteComponent(e,n){try{const o=qe.getState(),i=Je.getState(),l=pt.getState(),a=o.findComponent(e,n);if(!a)return!1;const u=a.parentId;l.selectedComponentId===n&&l.deselectAll(),o.removeComponent(e,n);try{i.deleteInstance(a.instanceId)}catch(d){console.warn("Could not delete component instance:",d)}return ye.publish("component:deleted",{componentId:n,widgetId:e,parentId:u}),!0}catch(o){return console.error("Failed to delete component:",o),!1}},moveComponent(e,n,o,i,l=!0){try{const a=qe.getState(),u=Je.getState(),d=pt.getState(),f=a.findComponent(e,n);if(!f)return!1;const y=i&&i!==e;if(y&&l){const g=a.getWidget(e);if(!g)return!1;[f,...(v=>{const S=[],b=k=>{const I=g.components.filter(T=>T.parentId===k);S.push(...I),I.forEach(T=>b(T.id))};return b(v),S})(n)].forEach(v=>{const S=u.getInstance(v.instanceId);if(S){const b=u.createFromDefinition(v.definitionId,S.overrides||{});v.instanceId=b.id}})}return a.moveComponent(e,n,o,i),d.selectedComponentId===n&&(y?i&&d.selectComponent(n,i):d.selectComponent(n,e)),!0}catch(a){return console.error("Error moving component:",a),!1}},reorderComponents(e,n,o,i,l){try{console.log(`[BUILDER] Reordering component ${o} to be ${l} ${i}`),console.log(`[BUILDER] Container: ${n}`);const a=qe.getState(),u=a.getWidget(e);if(!u)return console.error(`[BUILDER] Widget ${e} not found`),!1;if(!u.components.find(m=>m.id===o))return console.error(`[BUILDER] Component ${o} not found`),!1;const f=u.components.find(m=>m.id===i);if(!f)return console.error(`[BUILDER] Target ${i} not found`),!1;if(n!==e){if(!u.components.find(v=>v.id===n))return console.error(`[BUILDER] Container ${n} not found`),!1;if(f.parentId!==n)return console.error(`[BUILDER] Target ${i} is not a child of container ${n}`),!1}else if(f.parentId)return console.error(`[BUILDER] Target ${i} is not at root level`),!1;const y=n===e,g=u.components.filter(m=>y?!m.parentId:m.parentId===n);console.log("[BUILDER] Before reordering:"),console.log(g.map(m=>({id:m.id,zIndex:m.zIndex}))),qe.getState().reorderComponents(e,n,o,i,l);const h=a.getWidget(e);if(h){const m=h.components.filter(b=>y?!b.parentId:b.parentId===n).sort((b,k)=>b.zIndex-k.zIndex);console.log("[BUILDER] After reordering:"),console.log(m.map(b=>({id:b.id,zIndex:b.zIndex})));const v=m.findIndex(b=>b.id===o),S=m.findIndex(b=>b.id===i);if(v===-1)return console.error(`[BUILDER] Component ${o} not found after reordering`),!1;if(S===-1)return console.error(`[BUILDER] Target ${i} not found after reordering`),!1;l==="before"&&v>S?console.warn(`[BUILDER] Component ${o} is not before ${i}`):l==="after"&&v!==S+1&&console.warn(`[BUILDER] Component ${o} is not after ${i}`)}return ye.publish("component:reordered",{componentId:o,widgetId:e,containerId:n,targetId:i,position:l}),ye.publish("hierarchy:changed",{widgetId:e}),!0}catch(a){return console.error("[BUILDER] Error reordering components:",a),!1}},findComponentByInstanceId(e){return qe.getState().findComponentByInstanceId(e)},getComponentInfo(e,n){try{const o=qe.getState(),i=Je.getState(),l=o.findComponent(e,n);if(!l)return null;let a=null,u=null;try{a=i.getInstance(l.instanceId),u=a.type}catch(d){console.warn("Could not get component instance:",d)}return{componentId:n,widgetId:e,instanceId:l.instanceId,type:u,component:l,instance:a}}catch(o){return console.error("Failed to get component info:",o),null}},selectComponentByInstanceId(e){try{const n=qe.getState(),o=pt.getState(),{component:i,widgetId:l}=n.findComponentByInstanceId(e);return!i||!l?!1:(o.selectComponent(i.id,l),!0)}catch(n){return console.error("Failed to select component by instance ID:",n),!1}},updateComponent(e,n,o){try{return qe.getState().updateComponent(e,n,o),ye.publish("component:updated",{componentId:n,widgetId:e}),!0}catch(i){return console.error("Error updating component:",i),!1}},resetAllStores(e={keepSystemComponents:!0}){const n=qe.getState(),o=Je.getState(),i=pt.getState();i.deselectAll(),i.resetState();const l=n.purgeStore(),a=o.purgeStore({keepSystemComponents:e.keepSystemComponents,resetToDefaults:!0});return{widgetCount:l.widgetCount,definitionCount:a.definitionCount,instanceCount:a.instanceCount}}};function Mm(e="component-drag-drop-styles"){const n=M.useRef(!1);return M.useEffect(()=>{if(document.getElementById(e)){n.current=!0;return}const o=document.createElement("style");return o.id=e,o.textContent=`
      /* Component Drag & Drop Styles */

      /* Main component container */
      .component-container {
          position: relative;
          transition: all 0.15s ease;
          border-radius: 3px;
          margin-bottom: 8px;
          width: 100%;
      }

      /* Container highlighting when in edit mode */
      [data-edit-mode="true"] .component-container {
          position: relative;
      }

      /* Selection highlighting */
      .component-container.selected-component,
      [data-selected="true"] {
          outline: 2px solid #3b82f6 !important;
          z-index: 5 !important;
          box-shadow: 0 0 8px rgba(59, 130, 246, 0.3) !important;
      }

      /* Hover state */
      [data-edit-mode="true"] .component-container:hover {
          outline: 1px solid rgba(59, 130, 246, 0.3);
      }

      /* Dragging state */
      .component-container.dragging-component {
          opacity: 0.7 !important;
          cursor: grabbing !important;
          z-index: 1000 !important;
          transform: scale(1.02) !important;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2) !important;
      }

      /* Drop target indicators - General */
      .component-container.drop-target {
          z-index: 10;
      }

      /* Drop position indicators using CSS transitions for smooth appearance/disappearance */
      .drop-indicator {
          position: absolute;
          pointer-events: none;
          z-index: 100;
          opacity: 0;
          transition: opacity 0.2s ease, transform 0.2s ease, height 0.2s ease;
      }

      /* Before position indicator */
      .drop-indicator-before {
          top: -2px;
          left: 0;
          right: 0;
          height: 0;
          transform: scaleY(0);
      }

      /* After position indicator */
      .drop-indicator-after {
          bottom: -2px;
          left: 0;
          right: 0;
          height: 0;
          transform: scaleY(0);
      }

      /* Inside position indicator for containers */
      .drop-indicator-inside {
          inset: 0;
          border: 2px dashed transparent;
          background-color: transparent;
      }

      /* Active drop position indicators using data attributes */
      [data-drop-before="true"] .drop-indicator-before {
          opacity: 1;
          transform: scaleY(1);
          height: 4px;
          background-color: #3b82f6;
          box-shadow: 0 0 8px rgba(59, 130, 246, 0.5);
          border-radius: 2px;
      }

      [data-drop-after="true"] .drop-indicator-after {
          opacity: 1;
          transform: scaleY(1);
          height: 4px;
          background-color: #3b82f6;
          box-shadow: 0 0 8px rgba(59, 130, 246, 0.5);
          border-radius: 2px;
      }

      [data-drop-inside="true"] .drop-indicator-inside {
          opacity: 1;
          border: 2px dashed #3b82f6;
          background-color: rgba(59, 130, 246, 0.1);
          box-shadow: inset 0 0 8px rgba(59, 130, 246, 0.2);
      }

      /* Delete button visibility */
      .delete-button {
          position: absolute;
          top: 4px;
          right: 4px;
          width: 20px;
          height: 20px;
          background-color: rgba(30, 30, 30, 0.7);
          color: rgba(255, 255, 255, 0.7);
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 12px;
          cursor: pointer;
          opacity: 0;
          transition: all 0.2s ease;
          z-index: 50;
      }

      .component-container:hover .delete-button {
          opacity: 0.7;
      }

      .component-container.selected-component .delete-button,
      [data-selected="true"] .delete-button {
          opacity: 1 !important;
      }

      .delete-button:hover {
          opacity: 1 !important;
          background-color: #ef4444 !important;
          color: white !important;
      }

      /* Empty container styling */
      .component-container.empty-container {
          min-height: 80px !important;
          border: 2px dashed rgba(100, 100, 100, 0.3) !important;
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
      }

      /* Container component styling */
      [data-widget-id][data-edit-mode="true"] [data-component-type="Panel"],
      [data-widget-id][data-edit-mode="true"] [data-component-type="ScrollBox"] {
          min-height: 80px;
          width: 100% !important;
      }

      /* Children containers */
      .panel-children-container,
      .scrollbox-children-container {
          position: relative;
          width: 100%;
          min-height: 40px;
          display: flex;
          flex-direction: column;
          gap: 8px;
          padding: 8px;
          border-radius: 3px;
      }

      /* Nested component indicators */
      .component-container .component-container {
          position: relative;
          margin-left: 8px;
          border-left: 2px solid rgba(100, 165, 115, 0.3);
          padding-left: 8px;
      }

      /* Grab cursor for draggable items in edit mode */
      [data-edit-mode="true"] .component-container {
          cursor: grab;
      }

      /* Nested container drop highlight */
      [data-is-nested-container="true"].drop-highlight {
          background-color: rgba(59, 130, 246, 0.1);
          border: 2px dashed #3b82f6 !important;
          border-radius: 4px;
      }

      /* Component type specific styling */
      .component-type-panel,
      .component-type-scrollbox {
          padding: 2px;
      }

      .component-type-pushbutton,
      .component-type-input,
      .component-type-label,
      .component-type-dropdown {
          position: relative;
          padding: 4px;
          margin: 2px;
          border-radius: 3px;
      }

      /* Animation for drop indicators */
      @keyframes pulse {
          0% { opacity: 0.8; }
          50% { opacity: 1; }
          100% { opacity: 0.8; }
      }

      [data-drop-before="true"] .drop-indicator-before,
      [data-drop-after="true"] .drop-indicator-after,
      [data-drop-inside="true"] .drop-indicator-inside {
          animation: pulse 1.5s infinite;
      }
    `,document.head.appendChild(o),n.current=!0,()=>{const i=document.getElementById(e);i&&(document.head.removeChild(i),n.current=!1)}},[e]),n.current}function kt(e,n,o=[]){const i=M.useRef(n);M.useEffect(()=>{i.current=n},[n]),M.useEffect(()=>{const l=u=>{i.current(u)},a=ye.subscribe(e,l);return()=>{ye.unsubscribe(a)}},o)}function xw({base:e="",isContainer:n=!1,isSelected:o=!1,isDragging:i=!1,dropPosition:l=null,componentType:a="",isEmpty:u=!1,className:d=""}){return Pe("component-container",e,n&&"container-component",u&&n&&"empty-container",a&&`component-type-${a.toLowerCase()}`,o&&"selected-component",i&&"dragging-component",l==="before"&&"drop-before",l==="after"&&"drop-after",l==="inside"&&"drop-inside",d)}function ww({isContainer:e=!1,isSelected:n=!1,isDragging:o=!1,dropPosition:i=null,componentType:l="",isEditMode:a=!1,widgetId:u="",componentId:d="",instanceId:f="",parentId:y="",hasChildren:g=!1}){return{"data-component-type":l||void 0,"data-component-id":d||void 0,"data-instance-id":f||void 0,"data-widget-id":u||void 0,"data-parent-id":y||void 0,"data-is-container":e?"true":void 0,"data-has-children":g?"true":void 0,"data-selected":n?"true":void 0,"data-dragging":o?"true":void 0,"data-edit-mode":a?"true":void 0,"data-drop-before":i==="before"?"true":void 0,"data-drop-after":i==="after"?"true":void 0,"data-drop-inside":i==="inside"?"true":void 0}}function bw({base:e,isContainer:n=!1,isSelected:o=!1,isDragging:i=!1,dropPosition:l=null,componentType:a="",isEmpty:u=!1,className:d="",isEditMode:f=!1,widgetId:y="",componentId:g="",instanceId:h="",parentId:m="",hasChildren:v=!1}){const S=M.useMemo(()=>ww({isContainer:n,isSelected:o,isDragging:i,dropPosition:l,componentType:a,isEditMode:f,widgetId:y,componentId:g,instanceId:h,parentId:m,hasChildren:v}),[n,o,i,l,a,f,y,g,h,m,v]),b=M.useMemo(()=>xw({base:e,isContainer:n,isSelected:o,isDragging:i,dropPosition:l,componentType:a,isEmpty:u,className:d}),[e,n,o,i,l,a,u,d]),k=M.useMemo(()=>({visible:o&&f,className:Pe("delete-button",o&&"opacity-100")}),[o,f]),I=M.useMemo(()=>n?a==="Panel"?"panel-children-container":"scrollbox-children-container":"",[n,a]);return{dataAttributes:S,classNames:b,deleteButton:k,childContainerClass:I,isHoverable:f}}const Sw=M.memo(function({instance:n,widgetComponent:o,widgetId:i,isContainer:l,isSelected:a,isEditMode:u,onSelect:d,onDelete:f,actionHandler:y,dragDropEnabled:g,parentId:h,renderComponent:m,children:v}){const S=M.useRef(qe.getState()),b=pt(),k=M.useRef(n),I=M.useRef(o),T=M.useRef(null),C=M.useRef(g),[_,F]=M.useState(!1);Mm(),M.useEffect(()=>{k.current=n,I.current=o,C.current=g},[n,o,g]),M.useEffect(()=>qe.subscribe(D=>{S.current=D}),[]);const V=M.useCallback(R=>{R.stopPropagation();const D=I.current.id;D===b.selectedComponentId&&i===b.selectedWidgetId||(b.selectComponent(D,i,{syncWithLayoutPanel:!0,openPropertyPanel:!0}),d&&d(D,R),ye.publish("component:selected",{componentId:D,widgetId:i}))},[d,i,b]),P=M.useCallback(R=>{R&&(R.stopPropagation(),R.preventDefault());const D=I.current.id;D===b.selectedComponentId&&b.deselectAll(),it.deleteComponent(i,D),ye.publish("component:deleted",{componentId:D,widgetId:i,parentId:h})},[i,h,b]),O=M.useMemo(()=>o.id,[o.id]),W=M.useMemo(()=>({id:O,widgetId:i,componentType:n.type,parentId:h,instanceId:n.id,definitionId:o.definitionId,position:o.position,size:o.size,type:"component"}),[O,i,n.type,n.id,h,o.definitionId,o.position,o.size]),{dragProps:U,isDragging:Q,isCrossWidgetDrag:Z,elementRef:X}=_m("component",O,W,{disabled:!C.current,crossWidgetEnabled:!0});M.useEffect(()=>{F(Q)},[Q]),kt("component:selected",R=>{R.data.componentId},[O]);const{ref:N,className:Y,...$}=U,L=M.useCallback(R=>{T.current=R,X&&(X.current=R),R&&(R.setAttribute("data-component-id",o.id),R.setAttribute("data-component-depth",h?"1":"0"),R.setAttribute("data-is-container",l?"true":"false"),R.setAttribute("data-parent-id",h||""),R.setAttribute("data-component-type",n.type))},[o.id,h,l,n.type,X]),{classNames:j,dataAttributes:A}=bw({base:"component-container relative",isContainer:l,isSelected:a,isDragging:_,componentType:n.type,isEmpty:l&&(!v||M.Children.count(v)===0),className:"",isEditMode:u,widgetId:i,componentId:o.id,instanceId:n.id,parentId:h,hasChildren:!!(v&&M.Children.count(v)>0)});return x.jsxs("div",{ref:L,className:j,...A,onClick:V,...$,draggable:u&&C.current,children:[m(n,{widgetId:i,actionHandler:y,isEditMode:u,isSelected:a,children:v,onDelete:f}),u&&a&&x.jsx("button",{className:"delete-button absolute top-1 right-1 w-5 h-5 bg-bg-dark bg-opacity-70 hover:bg-red-500 text-white rounded-full flex items-center justify-center z-50",onClick:R=>{R.stopPropagation(),R.preventDefault(),P(R)},type:"button",onMouseDown:R=>R.stopPropagation(),onMouseUp:R=>R.stopPropagation(),onMouseEnter:R=>R.stopPropagation(),onMouseLeave:R=>R.stopPropagation(),title:"Delete component",style:{pointerEvents:"auto",zIndex:1e3},"data-testid":"delete-button",children:""}),!1]})});function Ew(e,n){const o=M.useRef(n);M.useEffect(()=>{o.current=n},[n]),M.useEffect(()=>{const i=[ye.subscribe("widget:updated",a=>{var u;((u=a.data)==null?void 0:u.widgetId)===e&&o.current()}),ye.subscribe("component:added",a=>{var u;((u=a.data)==null?void 0:u.widgetId)===e&&o.current()}),ye.subscribe("component:deleted",a=>{var u;((u=a.data)==null?void 0:u.widgetId)===e&&o.current()}),ye.subscribe("component:updated",a=>{var u;((u=a.data)==null?void 0:u.widgetId)===e&&o.current()}),ye.subscribe("hierarchy:changed",a=>{var u;((u=a.data)==null?void 0:u.widgetId)===e&&o.current()})],l=a=>{var d;((d=a.detail)==null?void 0:d.widgetId)===e&&o.current()};return document.addEventListener("widget-updated",l),document.addEventListener("component-hierarchy-changed",l),()=>{i.forEach(a=>ye.unsubscribe(a)),document.removeEventListener("widget-updated",l),document.removeEventListener("component-hierarchy-changed",l)}},[e])}const kw=({instance:e})=>x.jsxs("div",{className:"p-2 border border-accent-dark-neutral rounded",children:[x.jsx("div",{className:"text-xs mb-1 text-font-dark-muted",children:e.type}),x.jsx("div",{children:e.label||"Unknown Component"})]}),Yo=fs((e,n)=>({renderers:{},isInitialized:!1,initialize:()=>{n().isInitialized||e({isInitialized:!0})},registerRenderer:(o,i)=>{e(l=>({renderers:{...l.renderers,[o]:i}}))},getRenderer:o=>{const i=n().renderers[o];return i||kw},hasRenderer:o=>!!n().renderers[o],renderComponent:(o,i)=>o?n().getRenderer(o.type)({instance:o,...i}):(console.warn("Attempted to render null/undefined component instance"),x.jsx("div",{className:"text-red-500",children:"Error: Missing component"})),renderComponentHierarchy:(o,i,l,a)=>Dm(o,i,l,a||null,n)}));function Dm(e,n,o,i,l){const{isEditMode:a=!1,isSelected:u=!1,onSelect:d,onDelete:f,actionHandler:y,dragDropEnabled:g=!0}=o,h=qe.getState(),m=Je.getState(),v=l?l():Yo.getState();try{const S=h.getWidget(n);if(!S)return console.warn("Widget with widgetId not found: ",n),null;let b;try{b=m.getInstance(e)}catch{return console.warn("Component instance with instanceId not found: ",e),null}const k=S.components.find(V=>V.instanceId===e);if(!k)return console.warn("Widget component reference for instanceId not found: ",e),null;const I=k.id,T=i?I===i:u,C=b.type==="Panel"||b.type==="ScrollBox",F=S.components.filter(V=>V.parentId===k.id).map(V=>{try{return Dm(V.instanceId,n,{...o,isSelected:!1},i,l)}catch(P){return console.error(`Error rendering child component ${V.id}:`,P),null}}).filter(Boolean);return x.jsx(Sw,{instance:b,widgetComponent:k,widgetId:n,isContainer:C,isSelected:T,isEditMode:a,onSelect:d,onDelete:f,actionHandler:y,dragDropEnabled:g&&a,parentId:k.parentId,renderComponent:v.renderComponent,children:F.length>0&&C?x.jsx("div",{className:Pe("relative",C?b.type==="Panel"?"panel-children-container":"scrollbox-children-container":"","flex flex-col gap-2 p-2 min-h-[50px] w-full"),"data-children-container":"true","data-parent-id":k.id,"data-component-type":b.type,children:F}):null},k.id)}catch(S){return console.error(`Error rendering component hierarchy for ${e}:`,S),null}}let eg=!1;function Cw(){if(eg)return Yo.getState();const e=Yo.getState();return e.isInitialized||e.initialize(),eg=!0,e}async function _w(e){try{return await Iw(),!0}catch(n){throw console.error("Failed to load component registry:",n),n}}async function Iw(){try{const{useComponentStore:e}=await wn(async()=>{const{useComponentStore:i}=await Promise.resolve().then(()=>wa);return{useComponentStore:i}},void 0),n=e.getState(),o=localStorage.getItem("system-components");if(o){const i=JSON.parse(o);i.forEach(l=>{n.addDefinition(l)}),console.log(`Loaded ${i.length} system components`);return}console.log("No saved registry found, initializing defaults"),await Nw()}catch(e){throw console.error("Failed to load system components:",e),e}}async function Nw(){const{useComponentStore:e}=await wn(async()=>{const{useComponentStore:d}=await Promise.resolve().then(()=>wa);return{useComponentStore:d}},void 0),n=e.getState(),o=Object.keys(n.definitions).length;if(o>0){console.log(`Skipping initialization, ${o} components already exist`);return}const{registerLayoutComponents:i}=await wn(async()=>{const{registerLayoutComponents:d}=await import("./layoutComponents-Ba3wc1_r.js");return{registerLayoutComponents:d}},[]),{registerControlComponents:l}=await wn(async()=>{const{registerControlComponents:d}=await import("./controlComponents-BYww_vH9.js");return{registerControlComponents:d}},[]),{registerDisplayComponents:a}=await wn(async()=>{const{registerDisplayComponents:d}=await import("./displayComponents-BT1vxJxx.js");return{registerDisplayComponents:d}},[]);i(),l(),a(),Object.values(n.definitions).length>0&&await Mw()}async function Mw(){const{useComponentStore:e}=await wn(async()=>{const{useComponentStore:i}=await Promise.resolve().then(()=>wa);return{useComponentStore:i}},void 0),n=e.getState(),o=Object.values(n.definitions);try{return localStorage.setItem("system-components",JSON.stringify(o)),console.log(`Saved ${o.length} components to storage`),!0}catch(i){throw console.error("Failed to save component registry:",i),i}}function Dw(){const e=Yo(),n=Je(),o=M.useMemo(()=>Object.values(n.definitions),[n.definitions]),i=M.useCallback(u=>o.filter(d=>d.category===u),[o]),l=M.useCallback((u,d)=>e.renderComponent(u,d),[e]),a=M.useCallback((u,d={})=>n.createFromDefinition(u,d),[n]);return{definitions:o,getDefinitionsByCategory:i,render:l,createInstance:a,isInitialized:e.isInitialized}}const Tw=()=>{const e=xa("COMPONENT_PALETTE"),{getDefinitionsByCategory:n}=Dw(),o=n("layout"),i=n("control"),l=n("display");return x.jsxs(Vd,{...e,children:[x.jsx("h2",{className:"text-lg font-bold p-2 border-b border-accent-dark-neutral",children:"Component Palette"}),x.jsx(Fu,{title:"Layout",defaultOpen:!0,contentLayout:"grid",children:o.map(a=>x.jsx(Xu,{component:a},a.id))}),x.jsx(Fu,{title:"Control",defaultOpen:!0,contentLayout:"grid",children:i.map(a=>x.jsx(Xu,{component:a},a.id))}),x.jsx(Fu,{title:"Display",defaultOpen:!0,contentLayout:"grid",children:l.map(a=>x.jsx(Xu,{component:a},a.id))})]})},Pw=()=>{const e=xa("LAYOUT_HIERARCHY"),n=qe(),o=pt(),i=n.getVisibleWidgets(),[l,a]=M.useState([]),[u,d]=M.useState(0),[f,y]=M.useState(!1),g=M.useRef(!1),h=M.useRef([]),m=M.useRef(0),v=M.useRef({dragInProgress:!1}),S=M.useMemo(()=>{const{selectedComponentId:P,selectedWidgetId:O}=o;return!P||!O?null:`${O}/${P}`},[o.selectedComponentId,o.selectedWidgetId]);M.useEffect(()=>(window._layoutHierarchyStore={selectItem:P=>{if(P&&!P.includes("/")){n.setActiveWidget(P),o.selectComponent(null,P,{syncWithLayoutPanel:!1});return}if(P){const[O,W]=P.split("/");o.selectComponent(W,O,{syncWithLayoutPanel:!1})}else o.deselectAll()},getSelectedItems:()=>{const{selectedComponentId:P,selectedWidgetId:O}=o;return!P||!O?[]:[`${O}/${P}`]},refreshView:(P=!1)=>{P?k():b()}},()=>{delete window._layoutHierarchyStore}),[o,n]),M.useEffect(()=>{const P=document.querySelector(".layout-hierarchy-panel");P&&P.setAttribute("data-panel-id","layout-hierarchy")},[]),M.useEffect(()=>{if(!g.current&&(g.current=!0,i.length>0)){const P=i.map(O=>O.id);a(P)}},[i]),M.useEffect(()=>{const P=U=>{U.detail&&U.detail.sourceId&&(v.current={sourceId:U.detail.sourceId,dragInProgress:!0},console.log("Tree drag started:",U.detail.sourceId))},O=U=>{U.detail&&U.detail.targetId&&v.current.dragInProgress&&(v.current.targetId=U.detail.targetId)},W=()=>{setTimeout(()=>{v.current={dragInProgress:!1}},300)};return document.addEventListener("treeview-drag-start",P),document.addEventListener("treeview-drag-over",O),document.addEventListener("treeview-drag-end",W),()=>{document.removeEventListener("treeview-drag-start",P),document.removeEventListener("treeview-drag-over",O),document.removeEventListener("treeview-drag-end",W)}},[]);const b=M.useCallback(()=>{const P=Date.now();P-m.current>200&&(m.current=P,d(O=>O+1))},[]),k=M.useCallback(()=>{m.current=Date.now(),h.current=[],d(P=>P+1)},[]);kt("widget:updated",P=>{var O,W;if(console.log("Layout panel received widget update:",P.data),((O=P.data)==null?void 0:O.action)==="hierarchy-updated"?k():b(),(W=P.data)!=null&&W.widgetId){const{widgetId:U}=P.data;a(Q=>Q.includes(U)?Q:[...Q,U])}},[b,k]),kt("component:added",P=>{var O;if(k(),(O=P.data)!=null&&O.widgetId){const{widgetId:W,parentId:U}=P.data;a(Q=>{let Z=[...Q];if(Z.includes(W)||Z.push(W),U){const X=`${W}/${U}`;Z.includes(X)||Z.push(X)}return Z})}},[k]),kt("component:deleted",()=>{console.log("Layout panel received component delete event"),k()},[k]),kt("component:updated",()=>{console.log("Layout panel received component update event"),b()},[b]),kt("hierarchy:changed",()=>{console.log("Layout panel received hierarchy change event"),k()},[k]),kt("component:reordered",()=>{console.log("Layout panel received component reorder event"),k()},[k]),M.useEffect(()=>{if(i.length===0){h.current=[];return}const P=Date.now();if(P-m.current<100&&h.current.length>0&&h.current.length===i.length)return;m.current=P,console.log("Fetching hierarchies for widgets:",i.map(U=>U.id).join(", ")),(async()=>{try{const Q=(await Promise.all(i.map(async Z=>{try{return(await n.getComponentHierarchy(Z.id))[0]||null}catch(X){return console.error(`Error fetching hierarchy for widget ${Z.id}:`,X),null}}))).filter(Z=>Z!==null);(Q.length>0||h.current.length>0)&&(console.log(`Updating hierarchy data: ${Q.length} hierarchies found`),h.current=Q,d(Z=>Z+1))}catch(U){console.error("Error fetching hierarchies:",U)}})();const W=()=>{k()};return document.addEventListener("component-hierarchy-changed",W),()=>{document.removeEventListener("component-hierarchy-changed",W)}},[i,n,k]);const I=M.useMemo(()=>{const P=Vo==null?void 0:Vo.Widget;return typeof P=="function"?P:typeof oa=="function"?oa:O=>x.jsx("div",{style:{width:O.size||16,height:O.size||16,backgroundColor:"currentColor",borderRadius:2,opacity:.5},...O})},[]),T=M.useMemo(()=>h.current.length>0?h.current:(console.log(i),i.map(P=>({id:P.id,label:P.label||"Widget",icon:I,children:[],canDrop:!0,canDrag:!1}))),[i,u,I]),C=M.useCallback(async P=>{if(!(f||!P.length||!P[0].id)){y(!0);try{const O=P[0].id.split("/")[0],W=n.getWidget(O);if(!W){console.error("Widget not found:",O),y(!1);return}console.log("Processing hierarchy update for widget:",O);const U=new Set,Q=async(Z,X=O)=>{var N,Y,$;if(!((N=Z[0])!=null&&N.id.includes("/"))){($=(Y=Z[0])==null?void 0:Y.children)!=null&&$.length&&await Q(Z[0].children,O);return}for(let L=0;L<Z.length;L++){const j=Z[L],[,A]=j.id.split("/");if(U.has(A))continue;U.add(A);const R=W.components.find(te=>te.id===A);if(!R){console.warn(`Component ${A} not found in widget ${O}`);continue}let D=null,B="after";if(L>0){const[,te]=Z[L-1].id.split("/");D=te,B="after"}else if(L===0&&Z.length>1){const[,te]=Z[L+1].id.split("/");D=te,B="before"}const ne=X===O?void 0:X;R.parentId!==ne&&(console.log(`Moving component ${A} to parent ${ne||"root"}`),it.moveComponent(O,A,ne),ye.publish("component:moved",{widgetId:O,componentId:A,parentId:ne})),D&&Z.length>1&&(console.log(`Reordering component ${A} to be ${B} ${D}`),it.reorderComponents(O,X,A,D,B),ye.publish("component:reordered",{widgetId:O,containerId:X,componentId:A,targetId:D,position:B})),j.children&&j.children.length>0&&await Q(j.children,A)}};await Q(P),ye.publish("hierarchy:changed",{widgetId:O}),ye.publish("widget:updated",{widgetId:O,action:"hierarchy-updated"}),document.dispatchEvent(new CustomEvent("widget-updated",{detail:{widgetId:O,action:"hierarchy-updated"}})),document.dispatchEvent(new CustomEvent("component-hierarchy-changed",{detail:{widgetId:O}})),console.log("Tree move processing complete"),setTimeout(()=>{y(!1)},100)}catch(O){console.error("Error processing tree move:",O),y(!1)}}},[n,f]),_=M.useCallback(P=>{if(!P.length){o.deselectAll();return}const O=P[0];if(O.includes("/")){const[W,U]=O.split("/");o.selectComponent(U,W,{syncWithLayoutPanel:!1,openPropertyPanel:!0})}else n.setActiveWidget(O),o.selectComponent(null,O,{syncWithLayoutPanel:!1})},[o,n]),F=M.useCallback(()=>{o.deleteSelectedComponent()},[o]),V=M.useCallback(()=>{h.current=[],m.current=0,d(P=>P+1),ye.publish("layout:refreshed",{timestamp:Date.now()})},[]);return x.jsxs(Vd,{...e,className:"layout-hierarchy-panel",children:[x.jsx("h2",{className:"text-lg font-bold p-3 border-b border-accent-dark-neutral",children:"Layout Hierarchy"}),i.length===0?x.jsx("div",{className:"p-4 text-center text-font-dark-muted",children:"No widgets available"}):x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"p-2 flex justify-between",children:[x.jsx(la,{onClick:F,variant:"ghost",className:"text-xs",disabled:!o.selectedComponentId,children:"Delete"}),x.jsx(la,{onClick:V,variant:"ghost",className:"text-xs",children:"Refresh"})]}),x.jsx(tw,{items:T,selectedIds:S?[S]:[],expandedIds:l,onSelectionChange:_,onExpansionChange:a,onMove:C,maxHeight:"calc(100vh - 60px)"})]})]})},jw=()=>{const e=xa("THEME_MANAGER");return x.jsxs(Vd,{...e,children:[x.jsx("h2",{className:"text-lg font-bold",children:"Theme Manager"}),x.jsx("ul",{children:x.jsx("li",{children:"BUTTONS!"})})]})},Aw=()=>{const{isModalOpen:e,closeModal:n}=Nm();return x.jsxs(x.Fragment,{children:[x.jsx(cw,{isOpen:e("project"),onClose:()=>n("project")}),x.jsx(uw,{isOpen:e("settings"),onClose:()=>n("settings")})]})},Gi={dark:{name:"dark",colors:{primary:"#415855",secondary:"#396055",background:"#242424",text:"#e0e0e0",accent:"#64A573"}},light:{name:"light",colors:{primary:"#64A573",secondary:"#396055",background:"#f0f0f0",text:"#242424",accent:"#415855"}},darkGold:{name:"darkGold",colors:{primary:"#FABC62",secondary:"#D4A14B",background:"#242424",text:"#e0e0e0",accent:"#FABC62"}}},Lw=M.createContext(void 0),zw=({children:e,defaultTheme:n="dark"})=>{const[o,i]=M.useState(Gi[n]),l=u=>{i(Gi[u]),localStorage.setItem("preferredTheme",u),a(Gi[u])},a=u=>{const d=document.documentElement;Object.entries(u.colors).forEach(([f,y])=>{d.style.setProperty(`--color-${f}`,y)})};return M.useEffect(()=>{const u=localStorage.getItem("preferredTheme");u&&Gi[u]?l(u):l(n)},[n]),x.jsx(Lw.Provider,{value:{currentTheme:o,setTheme:l,availableThemes:Object.keys(Gi)},children:e})};function st(e){if(typeof e=="string"||typeof e=="number")return""+e;let n="";if(Array.isArray(e))for(let o=0,i;o<e.length;o++)(i=st(e[o]))!==""&&(n+=(n&&" ")+i);else for(let o in e)e[o]&&(n+=(n&&" ")+o);return n}var Rw={value:()=>{}};function Sa(){for(var e=0,n=arguments.length,o={},i;e<n;++e){if(!(i=arguments[e]+"")||i in o||/[\s.]/.test(i))throw new Error("illegal type: "+i);o[i]=[]}return new ql(o)}function ql(e){this._=e}function $w(e,n){return e.trim().split(/^|\s+/).map(function(o){var i="",l=o.indexOf(".");if(l>=0&&(i=o.slice(l+1),o=o.slice(0,l)),o&&!n.hasOwnProperty(o))throw new Error("unknown type: "+o);return{type:o,name:i}})}ql.prototype=Sa.prototype={constructor:ql,on:function(e,n){var o=this._,i=$w(e+"",o),l,a=-1,u=i.length;if(arguments.length<2){for(;++a<u;)if((l=(e=i[a]).type)&&(l=Ow(o[l],e.name)))return l;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++a<u;)if(l=(e=i[a]).type)o[l]=tg(o[l],e.name,n);else if(n==null)for(l in o)o[l]=tg(o[l],e.name,null);return this},copy:function(){var e={},n=this._;for(var o in n)e[o]=n[o].slice();return new ql(e)},call:function(e,n){if((l=arguments.length-2)>0)for(var o=new Array(l),i=0,l,a;i<l;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],i=0,l=a.length;i<l;++i)a[i].value.apply(n,o)},apply:function(e,n,o){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],l=0,a=i.length;l<a;++l)i[l].value.apply(n,o)}};function Ow(e,n){for(var o=0,i=e.length,l;o<i;++o)if((l=e[o]).name===n)return l.value}function tg(e,n,o){for(var i=0,l=e.length;i<l;++i)if(e[i].name===n){e[i]=Rw,e=e.slice(0,i).concat(e.slice(i+1));break}return o!=null&&e.push({name:n,value:o}),e}var xd="http://www.w3.org/1999/xhtml";const ng={svg:"http://www.w3.org/2000/svg",xhtml:xd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ea(e){var n=e+="",o=n.indexOf(":");return o>=0&&(n=e.slice(0,o))!=="xmlns"&&(e=e.slice(o+1)),ng.hasOwnProperty(n)?{space:ng[n],local:e}:e}function Fw(e){return function(){var n=this.ownerDocument,o=this.namespaceURI;return o===xd&&n.documentElement.namespaceURI===xd?n.createElement(e):n.createElementNS(o,e)}}function Bw(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Tm(e){var n=Ea(e);return(n.local?Bw:Fw)(n)}function Vw(){}function Hd(e){return e==null?Vw:function(){return this.querySelector(e)}}function Hw(e){typeof e!="function"&&(e=Hd(e));for(var n=this._groups,o=n.length,i=new Array(o),l=0;l<o;++l)for(var a=n[l],u=a.length,d=i[l]=new Array(u),f,y,g=0;g<u;++g)(f=a[g])&&(y=e.call(f,f.__data__,g,a))&&("__data__"in f&&(y.__data__=f.__data__),d[g]=y);return new Ht(i,this._parents)}function Ww(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Uw(){return[]}function Pm(e){return e==null?Uw:function(){return this.querySelectorAll(e)}}function Yw(e){return function(){return Ww(e.apply(this,arguments))}}function Gw(e){typeof e=="function"?e=Yw(e):e=Pm(e);for(var n=this._groups,o=n.length,i=[],l=[],a=0;a<o;++a)for(var u=n[a],d=u.length,f,y=0;y<d;++y)(f=u[y])&&(i.push(e.call(f,f.__data__,y,u)),l.push(f));return new Ht(i,l)}function jm(e){return function(){return this.matches(e)}}function Am(e){return function(n){return n.matches(e)}}var Xw=Array.prototype.find;function Zw(e){return function(){return Xw.call(this.children,e)}}function Qw(){return this.firstElementChild}function Kw(e){return this.select(e==null?Qw:Zw(typeof e=="function"?e:Am(e)))}var qw=Array.prototype.filter;function Jw(){return Array.from(this.children)}function e2(e){return function(){return qw.call(this.children,e)}}function t2(e){return this.selectAll(e==null?Jw:e2(typeof e=="function"?e:Am(e)))}function n2(e){typeof e!="function"&&(e=jm(e));for(var n=this._groups,o=n.length,i=new Array(o),l=0;l<o;++l)for(var a=n[l],u=a.length,d=i[l]=[],f,y=0;y<u;++y)(f=a[y])&&e.call(f,f.__data__,y,a)&&d.push(f);return new Ht(i,this._parents)}function Lm(e){return new Array(e.length)}function r2(){return new Ht(this._enter||this._groups.map(Lm),this._parents)}function ca(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}ca.prototype={constructor:ca,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function o2(e){return function(){return e}}function i2(e,n,o,i,l,a){for(var u=0,d,f=n.length,y=a.length;u<y;++u)(d=n[u])?(d.__data__=a[u],i[u]=d):o[u]=new ca(e,a[u]);for(;u<f;++u)(d=n[u])&&(l[u]=d)}function s2(e,n,o,i,l,a,u){var d,f,y=new Map,g=n.length,h=a.length,m=new Array(g),v;for(d=0;d<g;++d)(f=n[d])&&(m[d]=v=u.call(f,f.__data__,d,n)+"",y.has(v)?l[d]=f:y.set(v,f));for(d=0;d<h;++d)v=u.call(e,a[d],d,a)+"",(f=y.get(v))?(i[d]=f,f.__data__=a[d],y.delete(v)):o[d]=new ca(e,a[d]);for(d=0;d<g;++d)(f=n[d])&&y.get(m[d])===f&&(l[d]=f)}function l2(e){return e.__data__}function a2(e,n){if(!arguments.length)return Array.from(this,l2);var o=n?s2:i2,i=this._parents,l=this._groups;typeof e!="function"&&(e=o2(e));for(var a=l.length,u=new Array(a),d=new Array(a),f=new Array(a),y=0;y<a;++y){var g=i[y],h=l[y],m=h.length,v=c2(e.call(g,g&&g.__data__,y,i)),S=v.length,b=d[y]=new Array(S),k=u[y]=new Array(S),I=f[y]=new Array(m);o(g,h,b,k,I,v,n);for(var T=0,C=0,_,F;T<S;++T)if(_=b[T]){for(T>=C&&(C=T+1);!(F=k[C])&&++C<S;);_._next=F||null}}return u=new Ht(u,i),u._enter=d,u._exit=f,u}function c2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function u2(){return new Ht(this._exit||this._groups.map(Lm),this._parents)}function d2(e,n,o){var i=this.enter(),l=this,a=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),n!=null&&(l=n(l),l&&(l=l.selection())),o==null?a.remove():o(a),i&&l?i.merge(l).order():l}function f2(e){for(var n=e.selection?e.selection():e,o=this._groups,i=n._groups,l=o.length,a=i.length,u=Math.min(l,a),d=new Array(l),f=0;f<u;++f)for(var y=o[f],g=i[f],h=y.length,m=d[f]=new Array(h),v,S=0;S<h;++S)(v=y[S]||g[S])&&(m[S]=v);for(;f<l;++f)d[f]=o[f];return new Ht(d,this._parents)}function p2(){for(var e=this._groups,n=-1,o=e.length;++n<o;)for(var i=e[n],l=i.length-1,a=i[l],u;--l>=0;)(u=i[l])&&(a&&u.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(u,a),a=u);return this}function h2(e){e||(e=g2);function n(h,m){return h&&m?e(h.__data__,m.__data__):!h-!m}for(var o=this._groups,i=o.length,l=new Array(i),a=0;a<i;++a){for(var u=o[a],d=u.length,f=l[a]=new Array(d),y,g=0;g<d;++g)(y=u[g])&&(f[g]=y);f.sort(n)}return new Ht(l,this._parents).order()}function g2(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function m2(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function y2(){return Array.from(this)}function v2(){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i=e[n],l=0,a=i.length;l<a;++l){var u=i[l];if(u)return u}return null}function x2(){let e=0;for(const n of this)++e;return e}function w2(){return!this.node()}function b2(e){for(var n=this._groups,o=0,i=n.length;o<i;++o)for(var l=n[o],a=0,u=l.length,d;a<u;++a)(d=l[a])&&e.call(d,d.__data__,a,l);return this}function S2(e){return function(){this.removeAttribute(e)}}function E2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function k2(e,n){return function(){this.setAttribute(e,n)}}function C2(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function _2(e,n){return function(){var o=n.apply(this,arguments);o==null?this.removeAttribute(e):this.setAttribute(e,o)}}function I2(e,n){return function(){var o=n.apply(this,arguments);o==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,o)}}function N2(e,n){var o=Ea(e);if(arguments.length<2){var i=this.node();return o.local?i.getAttributeNS(o.space,o.local):i.getAttribute(o)}return this.each((n==null?o.local?E2:S2:typeof n=="function"?o.local?I2:_2:o.local?C2:k2)(o,n))}function zm(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function M2(e){return function(){this.style.removeProperty(e)}}function D2(e,n,o){return function(){this.style.setProperty(e,n,o)}}function T2(e,n,o){return function(){var i=n.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,o)}}function P2(e,n,o){return arguments.length>1?this.each((n==null?M2:typeof n=="function"?T2:D2)(e,n,o??"")):Go(this.node(),e)}function Go(e,n){return e.style.getPropertyValue(n)||zm(e).getComputedStyle(e,null).getPropertyValue(n)}function j2(e){return function(){delete this[e]}}function A2(e,n){return function(){this[e]=n}}function L2(e,n){return function(){var o=n.apply(this,arguments);o==null?delete this[e]:this[e]=o}}function z2(e,n){return arguments.length>1?this.each((n==null?j2:typeof n=="function"?L2:A2)(e,n)):this.node()[e]}function Rm(e){return e.trim().split(/^|\s+/)}function Wd(e){return e.classList||new $m(e)}function $m(e){this._node=e,this._names=Rm(e.getAttribute("class")||"")}$m.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Om(e,n){for(var o=Wd(e),i=-1,l=n.length;++i<l;)o.add(n[i])}function Fm(e,n){for(var o=Wd(e),i=-1,l=n.length;++i<l;)o.remove(n[i])}function R2(e){return function(){Om(this,e)}}function $2(e){return function(){Fm(this,e)}}function O2(e,n){return function(){(n.apply(this,arguments)?Om:Fm)(this,e)}}function F2(e,n){var o=Rm(e+"");if(arguments.length<2){for(var i=Wd(this.node()),l=-1,a=o.length;++l<a;)if(!i.contains(o[l]))return!1;return!0}return this.each((typeof n=="function"?O2:n?R2:$2)(o,n))}function B2(){this.textContent=""}function V2(e){return function(){this.textContent=e}}function H2(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function W2(e){return arguments.length?this.each(e==null?B2:(typeof e=="function"?H2:V2)(e)):this.node().textContent}function U2(){this.innerHTML=""}function Y2(e){return function(){this.innerHTML=e}}function G2(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function X2(e){return arguments.length?this.each(e==null?U2:(typeof e=="function"?G2:Y2)(e)):this.node().innerHTML}function Z2(){this.nextSibling&&this.parentNode.appendChild(this)}function Q2(){return this.each(Z2)}function K2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function q2(){return this.each(K2)}function J2(e){var n=typeof e=="function"?e:Tm(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function eb(){return null}function tb(e,n){var o=typeof e=="function"?e:Tm(e),i=n==null?eb:typeof n=="function"?n:Hd(n);return this.select(function(){return this.insertBefore(o.apply(this,arguments),i.apply(this,arguments)||null)})}function nb(){var e=this.parentNode;e&&e.removeChild(this)}function rb(){return this.each(nb)}function ob(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function ib(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function sb(e){return this.select(e?ib:ob)}function lb(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ab(e){return function(n){e.call(this,n,this.__data__)}}function cb(e){return e.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");return i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),{type:n,name:o}})}function ub(e){return function(){var n=this.__on;if(n){for(var o=0,i=-1,l=n.length,a;o<l;++o)a=n[o],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):n[++i]=a;++i?n.length=i:delete this.__on}}}function db(e,n,o){return function(){var i=this.__on,l,a=ab(n);if(i){for(var u=0,d=i.length;u<d;++u)if((l=i[u]).type===e.type&&l.name===e.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=a,l.options=o),l.value=n;return}}this.addEventListener(e.type,a,o),l={type:e.type,name:e.name,value:n,listener:a,options:o},i?i.push(l):this.__on=[l]}}function fb(e,n,o){var i=cb(e+""),l,a=i.length,u;if(arguments.length<2){var d=this.node().__on;if(d){for(var f=0,y=d.length,g;f<y;++f)for(l=0,g=d[f];l<a;++l)if((u=i[l]).type===g.type&&u.name===g.name)return g.value}return}for(d=n?db:ub,l=0;l<a;++l)this.each(d(i[l],n,o));return this}function Bm(e,n,o){var i=zm(e),l=i.CustomEvent;typeof l=="function"?l=new l(n,o):(l=i.document.createEvent("Event"),o?(l.initEvent(n,o.bubbles,o.cancelable),l.detail=o.detail):l.initEvent(n,!1,!1)),e.dispatchEvent(l)}function pb(e,n){return function(){return Bm(this,e,n)}}function hb(e,n){return function(){return Bm(this,e,n.apply(this,arguments))}}function gb(e,n){return this.each((typeof n=="function"?hb:pb)(e,n))}function*mb(){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i=e[n],l=0,a=i.length,u;l<a;++l)(u=i[l])&&(yield u)}var Vm=[null];function Ht(e,n){this._groups=e,this._parents=n}function ps(){return new Ht([[document.documentElement]],Vm)}function yb(){return this}Ht.prototype=ps.prototype={constructor:Ht,select:Hw,selectAll:Gw,selectChild:Kw,selectChildren:t2,filter:n2,data:a2,enter:r2,exit:u2,join:d2,merge:f2,selection:yb,order:p2,sort:h2,call:m2,nodes:y2,node:v2,size:x2,empty:w2,each:b2,attr:N2,style:P2,property:z2,classed:F2,text:W2,html:X2,raise:Q2,lower:q2,append:J2,insert:tb,remove:rb,clone:sb,datum:lb,on:fb,dispatch:gb,[Symbol.iterator]:mb};function Ft(e){return typeof e=="string"?new Ht([[document.querySelector(e)]],[document.documentElement]):new Ht([[e]],Vm)}function vb(e){let n;for(;n=e.sourceEvent;)e=n;return e}function cn(e,n){if(e=vb(e),n===void 0&&(n=e.currentTarget),n){var o=n.ownerSVGElement||n;if(o.createSVGPoint){var i=o.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(n.getScreenCTM().inverse()),[i.x,i.y]}if(n.getBoundingClientRect){var l=n.getBoundingClientRect();return[e.clientX-l.left-n.clientLeft,e.clientY-l.top-n.clientTop]}}return[e.pageX,e.pageY]}const xb={passive:!1},ts={capture:!0,passive:!1};function Zu(e){e.stopImmediatePropagation()}function Ho(e){e.preventDefault(),e.stopImmediatePropagation()}function Hm(e){var n=e.document.documentElement,o=Ft(e).on("dragstart.drag",Ho,ts);"onselectstart"in n?o.on("selectstart.drag",Ho,ts):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Wm(e,n){var o=e.document.documentElement,i=Ft(e).on("dragstart.drag",null);n&&(i.on("click.drag",Ho,ts),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in o?i.on("selectstart.drag",null):(o.style.MozUserSelect=o.__noselect,delete o.__noselect)}const Vl=e=>()=>e;function wd(e,{sourceEvent:n,subject:o,target:i,identifier:l,active:a,x:u,y:d,dx:f,dy:y,dispatch:g}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:o,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:d,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:y,enumerable:!0,configurable:!0},_:{value:g}})}wd.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function wb(e){return!e.ctrlKey&&!e.button}function bb(){return this.parentNode}function Sb(e,n){return n??{x:e.x,y:e.y}}function Eb(){return navigator.maxTouchPoints||"ontouchstart"in this}function Um(){var e=wb,n=bb,o=Sb,i=Eb,l={},a=Sa("start","drag","end"),u=0,d,f,y,g,h=0;function m(_){_.on("mousedown.drag",v).filter(i).on("touchstart.drag",k).on("touchmove.drag",I,xb).on("touchend.drag touchcancel.drag",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(_,F){if(!(g||!e.call(this,_,F))){var V=C(this,n.call(this,_,F),_,F,"mouse");V&&(Ft(_.view).on("mousemove.drag",S,ts).on("mouseup.drag",b,ts),Hm(_.view),Zu(_),y=!1,d=_.clientX,f=_.clientY,V("start",_))}}function S(_){if(Ho(_),!y){var F=_.clientX-d,V=_.clientY-f;y=F*F+V*V>h}l.mouse("drag",_)}function b(_){Ft(_.view).on("mousemove.drag mouseup.drag",null),Wm(_.view,y),Ho(_),l.mouse("end",_)}function k(_,F){if(e.call(this,_,F)){var V=_.changedTouches,P=n.call(this,_,F),O=V.length,W,U;for(W=0;W<O;++W)(U=C(this,P,_,F,V[W].identifier,V[W]))&&(Zu(_),U("start",_,V[W]))}}function I(_){var F=_.changedTouches,V=F.length,P,O;for(P=0;P<V;++P)(O=l[F[P].identifier])&&(Ho(_),O("drag",_,F[P]))}function T(_){var F=_.changedTouches,V=F.length,P,O;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),P=0;P<V;++P)(O=l[F[P].identifier])&&(Zu(_),O("end",_,F[P]))}function C(_,F,V,P,O,W){var U=a.copy(),Q=cn(W||V,F),Z,X,N;if((N=o.call(_,new wd("beforestart",{sourceEvent:V,target:m,identifier:O,active:u,x:Q[0],y:Q[1],dx:0,dy:0,dispatch:U}),P))!=null)return Z=N.x-Q[0]||0,X=N.y-Q[1]||0,function Y($,L,j){var A=Q,R;switch($){case"start":l[O]=Y,R=u++;break;case"end":delete l[O],--u;case"drag":Q=cn(j||L,F),R=u;break}U.call($,_,new wd($,{sourceEvent:L,subject:N,target:m,identifier:O,active:R,x:Q[0]+Z,y:Q[1]+X,dx:Q[0]-A[0],dy:Q[1]-A[1],dispatch:U}),P)}}return m.filter=function(_){return arguments.length?(e=typeof _=="function"?_:Vl(!!_),m):e},m.container=function(_){return arguments.length?(n=typeof _=="function"?_:Vl(_),m):n},m.subject=function(_){return arguments.length?(o=typeof _=="function"?_:Vl(_),m):o},m.touchable=function(_){return arguments.length?(i=typeof _=="function"?_:Vl(!!_),m):i},m.on=function(){var _=a.on.apply(a,arguments);return _===a?m:_},m.clickDistance=function(_){return arguments.length?(h=(_=+_)*_,m):Math.sqrt(h)},m}function Ud(e,n,o){e.prototype=n.prototype=o,o.constructor=e}function Ym(e,n){var o=Object.create(e.prototype);for(var i in n)o[i]=n[i];return o}function hs(){}var ns=.7,ua=1/ns,Wo="\\s*([+-]?\\d+)\\s*",rs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kb=/^#([0-9a-f]{3,8})$/,Cb=new RegExp(`^rgb\\(${Wo},${Wo},${Wo}\\)$`),_b=new RegExp(`^rgb\\(${bn},${bn},${bn}\\)$`),Ib=new RegExp(`^rgba\\(${Wo},${Wo},${Wo},${rs}\\)$`),Nb=new RegExp(`^rgba\\(${bn},${bn},${bn},${rs}\\)$`),Mb=new RegExp(`^hsl\\(${rs},${bn},${bn}\\)$`),Db=new RegExp(`^hsla\\(${rs},${bn},${bn},${rs}\\)$`),rg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ud(hs,os,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:og,formatHex:og,formatHex8:Tb,formatHsl:Pb,formatRgb:ig,toString:ig});function og(){return this.rgb().formatHex()}function Tb(){return this.rgb().formatHex8()}function Pb(){return Gm(this).formatHsl()}function ig(){return this.rgb().formatRgb()}function os(e){var n,o;return e=(e+"").trim().toLowerCase(),(n=kb.exec(e))?(o=n[1].length,n=parseInt(n[1],16),o===6?sg(n):o===3?new Pt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):o===8?Hl(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):o===4?Hl(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Cb.exec(e))?new Pt(n[1],n[2],n[3],1):(n=_b.exec(e))?new Pt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Ib.exec(e))?Hl(n[1],n[2],n[3],n[4]):(n=Nb.exec(e))?Hl(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=Mb.exec(e))?cg(n[1],n[2]/100,n[3]/100,1):(n=Db.exec(e))?cg(n[1],n[2]/100,n[3]/100,n[4]):rg.hasOwnProperty(e)?sg(rg[e]):e==="transparent"?new Pt(NaN,NaN,NaN,0):null}function sg(e){return new Pt(e>>16&255,e>>8&255,e&255,1)}function Hl(e,n,o,i){return i<=0&&(e=n=o=NaN),new Pt(e,n,o,i)}function jb(e){return e instanceof hs||(e=os(e)),e?(e=e.rgb(),new Pt(e.r,e.g,e.b,e.opacity)):new Pt}function bd(e,n,o,i){return arguments.length===1?jb(e):new Pt(e,n,o,i??1)}function Pt(e,n,o,i){this.r=+e,this.g=+n,this.b=+o,this.opacity=+i}Ud(Pt,bd,Ym(hs,{brighter(e){return e=e==null?ua:Math.pow(ua,e),new Pt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ns:Math.pow(ns,e),new Pt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Pt(Qr(this.r),Qr(this.g),Qr(this.b),da(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lg,formatHex:lg,formatHex8:Ab,formatRgb:ag,toString:ag}));function lg(){return`#${Zr(this.r)}${Zr(this.g)}${Zr(this.b)}`}function Ab(){return`#${Zr(this.r)}${Zr(this.g)}${Zr(this.b)}${Zr((isNaN(this.opacity)?1:this.opacity)*255)}`}function ag(){const e=da(this.opacity);return`${e===1?"rgb(":"rgba("}${Qr(this.r)}, ${Qr(this.g)}, ${Qr(this.b)}${e===1?")":`, ${e})`}`}function da(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Qr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Zr(e){return e=Qr(e),(e<16?"0":"")+e.toString(16)}function cg(e,n,o,i){return i<=0?e=n=o=NaN:o<=0||o>=1?e=n=NaN:n<=0&&(e=NaN),new un(e,n,o,i)}function Gm(e){if(e instanceof un)return new un(e.h,e.s,e.l,e.opacity);if(e instanceof hs||(e=os(e)),!e)return new un;if(e instanceof un)return e;e=e.rgb();var n=e.r/255,o=e.g/255,i=e.b/255,l=Math.min(n,o,i),a=Math.max(n,o,i),u=NaN,d=a-l,f=(a+l)/2;return d?(n===a?u=(o-i)/d+(o<i)*6:o===a?u=(i-n)/d+2:u=(n-o)/d+4,d/=f<.5?a+l:2-a-l,u*=60):d=f>0&&f<1?0:u,new un(u,d,f,e.opacity)}function Lb(e,n,o,i){return arguments.length===1?Gm(e):new un(e,n,o,i??1)}function un(e,n,o,i){this.h=+e,this.s=+n,this.l=+o,this.opacity=+i}Ud(un,Lb,Ym(hs,{brighter(e){return e=e==null?ua:Math.pow(ua,e),new un(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ns:Math.pow(ns,e),new un(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,o=this.l,i=o+(o<.5?o:1-o)*n,l=2*o-i;return new Pt(Qu(e>=240?e-240:e+120,l,i),Qu(e,l,i),Qu(e<120?e+240:e-120,l,i),this.opacity)},clamp(){return new un(ug(this.h),Wl(this.s),Wl(this.l),da(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=da(this.opacity);return`${e===1?"hsl(":"hsla("}${ug(this.h)}, ${Wl(this.s)*100}%, ${Wl(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ug(e){return e=(e||0)%360,e<0?e+360:e}function Wl(e){return Math.max(0,Math.min(1,e||0))}function Qu(e,n,o){return(e<60?n+(o-n)*e/60:e<180?o:e<240?n+(o-n)*(240-e)/60:n)*255}const Xm=e=>()=>e;function zb(e,n){return function(o){return e+o*n}}function Rb(e,n,o){return e=Math.pow(e,o),n=Math.pow(n,o)-e,o=1/o,function(i){return Math.pow(e+i*n,o)}}function $b(e){return(e=+e)==1?Zm:function(n,o){return o-n?Rb(n,o,e):Xm(isNaN(n)?o:n)}}function Zm(e,n){var o=n-e;return o?zb(e,o):Xm(isNaN(e)?n:e)}const dg=function e(n){var o=$b(n);function i(l,a){var u=o((l=bd(l)).r,(a=bd(a)).r),d=o(l.g,a.g),f=o(l.b,a.b),y=Zm(l.opacity,a.opacity);return function(g){return l.r=u(g),l.g=d(g),l.b=f(g),l.opacity=y(g),l+""}}return i.gamma=e,i}(1);function br(e,n){return e=+e,n=+n,function(o){return e*(1-o)+n*o}}var Sd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ku=new RegExp(Sd.source,"g");function Ob(e){return function(){return e}}function Fb(e){return function(n){return e(n)+""}}function Bb(e,n){var o=Sd.lastIndex=Ku.lastIndex=0,i,l,a,u=-1,d=[],f=[];for(e=e+"",n=n+"";(i=Sd.exec(e))&&(l=Ku.exec(n));)(a=l.index)>o&&(a=n.slice(o,a),d[u]?d[u]+=a:d[++u]=a),(i=i[0])===(l=l[0])?d[u]?d[u]+=l:d[++u]=l:(d[++u]=null,f.push({i:u,x:br(i,l)})),o=Ku.lastIndex;return o<n.length&&(a=n.slice(o),d[u]?d[u]+=a:d[++u]=a),d.length<2?f[0]?Fb(f[0].x):Ob(n):(n=f.length,function(y){for(var g=0,h;g<n;++g)d[(h=f[g]).i]=h.x(y);return d.join("")})}var fg=180/Math.PI,Ed={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Qm(e,n,o,i,l,a){var u,d,f;return(u=Math.sqrt(e*e+n*n))&&(e/=u,n/=u),(f=e*o+n*i)&&(o-=e*f,i-=n*f),(d=Math.sqrt(o*o+i*i))&&(o/=d,i/=d,f/=d),e*i<n*o&&(e=-e,n=-n,f=-f,u=-u),{translateX:l,translateY:a,rotate:Math.atan2(n,e)*fg,skewX:Math.atan(f)*fg,scaleX:u,scaleY:d}}var Ul;function Vb(e){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?Ed:Qm(n.a,n.b,n.c,n.d,n.e,n.f)}function Hb(e){return e==null||(Ul||(Ul=document.createElementNS("http://www.w3.org/2000/svg","g")),Ul.setAttribute("transform",e),!(e=Ul.transform.baseVal.consolidate()))?Ed:(e=e.matrix,Qm(e.a,e.b,e.c,e.d,e.e,e.f))}function Km(e,n,o,i){function l(y){return y.length?y.pop()+" ":""}function a(y,g,h,m,v,S){if(y!==h||g!==m){var b=v.push("translate(",null,n,null,o);S.push({i:b-4,x:br(y,h)},{i:b-2,x:br(g,m)})}else(h||m)&&v.push("translate("+h+n+m+o)}function u(y,g,h,m){y!==g?(y-g>180?g+=360:g-y>180&&(y+=360),m.push({i:h.push(l(h)+"rotate(",null,i)-2,x:br(y,g)})):g&&h.push(l(h)+"rotate("+g+i)}function d(y,g,h,m){y!==g?m.push({i:h.push(l(h)+"skewX(",null,i)-2,x:br(y,g)}):g&&h.push(l(h)+"skewX("+g+i)}function f(y,g,h,m,v,S){if(y!==h||g!==m){var b=v.push(l(v)+"scale(",null,",",null,")");S.push({i:b-4,x:br(y,h)},{i:b-2,x:br(g,m)})}else(h!==1||m!==1)&&v.push(l(v)+"scale("+h+","+m+")")}return function(y,g){var h=[],m=[];return y=e(y),g=e(g),a(y.translateX,y.translateY,g.translateX,g.translateY,h,m),u(y.rotate,g.rotate,h,m),d(y.skewX,g.skewX,h,m),f(y.scaleX,y.scaleY,g.scaleX,g.scaleY,h,m),y=g=null,function(v){for(var S=-1,b=m.length,k;++S<b;)h[(k=m[S]).i]=k.x(v);return h.join("")}}}var Wb=Km(Vb,"px, ","px)","deg)"),Ub=Km(Hb,", ",")",")"),Yb=1e-12;function pg(e){return((e=Math.exp(e))+1/e)/2}function Gb(e){return((e=Math.exp(e))-1/e)/2}function Xb(e){return((e=Math.exp(2*e))-1)/(e+1)}const Zb=function e(n,o,i){function l(a,u){var d=a[0],f=a[1],y=a[2],g=u[0],h=u[1],m=u[2],v=g-d,S=h-f,b=v*v+S*S,k,I;if(b<Yb)I=Math.log(m/y)/n,k=function(P){return[d+P*v,f+P*S,y*Math.exp(n*P*I)]};else{var T=Math.sqrt(b),C=(m*m-y*y+i*b)/(2*y*o*T),_=(m*m-y*y-i*b)/(2*m*o*T),F=Math.log(Math.sqrt(C*C+1)-C),V=Math.log(Math.sqrt(_*_+1)-_);I=(V-F)/n,k=function(P){var O=P*I,W=pg(F),U=y/(o*T)*(W*Xb(n*O+F)-Gb(F));return[d+U*v,f+U*S,y*W/pg(n*O+F)]}}return k.duration=I*1e3*n/Math.SQRT2,k}return l.rho=function(a){var u=Math.max(.001,+a),d=u*u,f=d*d;return e(u,d,f)},l}(Math.SQRT2,2,4);var Xo=0,Qi=0,Xi=0,qm=1e3,fa,Ki,pa=0,qr=0,ka=0,is=typeof performance=="object"&&performance.now?performance:Date,Jm=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Yd(){return qr||(Jm(Qb),qr=is.now()+ka)}function Qb(){qr=0}function ha(){this._call=this._time=this._next=null}ha.prototype=e0.prototype={constructor:ha,restart:function(e,n,o){if(typeof e!="function")throw new TypeError("callback is not a function");o=(o==null?Yd():+o)+(n==null?0:+n),!this._next&&Ki!==this&&(Ki?Ki._next=this:fa=this,Ki=this),this._call=e,this._time=o,kd()},stop:function(){this._call&&(this._call=null,this._time=1/0,kd())}};function e0(e,n,o){var i=new ha;return i.restart(e,n,o),i}function Kb(){Yd(),++Xo;for(var e=fa,n;e;)(n=qr-e._time)>=0&&e._call.call(void 0,n),e=e._next;--Xo}function hg(){qr=(pa=is.now())+ka,Xo=Qi=0;try{Kb()}finally{Xo=0,Jb(),qr=0}}function qb(){var e=is.now(),n=e-pa;n>qm&&(ka-=n,pa=e)}function Jb(){for(var e,n=fa,o,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(o=n._next,n._next=null,n=e?e._next=o:fa=o);Ki=e,kd(i)}function kd(e){if(!Xo){Qi&&(Qi=clearTimeout(Qi));var n=e-qr;n>24?(e<1/0&&(Qi=setTimeout(hg,e-is.now()-ka)),Xi&&(Xi=clearInterval(Xi))):(Xi||(pa=is.now(),Xi=setInterval(qb,qm)),Xo=1,Jm(hg))}}function gg(e,n,o){var i=new ha;return n=n==null?0:+n,i.restart(l=>{i.stop(),e(l+n)},n,o),i}var eS=Sa("start","end","cancel","interrupt"),tS=[],t0=0,mg=1,Cd=2,Jl=3,yg=4,_d=5,ea=6;function Ca(e,n,o,i,l,a){var u=e.__transition;if(!u)e.__transition={};else if(o in u)return;nS(e,o,{name:n,index:i,group:l,on:eS,tween:tS,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:t0})}function Gd(e,n){var o=fn(e,n);if(o.state>t0)throw new Error("too late; already scheduled");return o}function kn(e,n){var o=fn(e,n);if(o.state>Jl)throw new Error("too late; already running");return o}function fn(e,n){var o=e.__transition;if(!o||!(o=o[n]))throw new Error("transition not found");return o}function nS(e,n,o){var i=e.__transition,l;i[n]=o,o.timer=e0(a,0,o.time);function a(y){o.state=mg,o.timer.restart(u,o.delay,o.time),o.delay<=y&&u(y-o.delay)}function u(y){var g,h,m,v;if(o.state!==mg)return f();for(g in i)if(v=i[g],v.name===o.name){if(v.state===Jl)return gg(u);v.state===yg?(v.state=ea,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete i[g]):+g<n&&(v.state=ea,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete i[g])}if(gg(function(){o.state===Jl&&(o.state=yg,o.timer.restart(d,o.delay,o.time),d(y))}),o.state=Cd,o.on.call("start",e,e.__data__,o.index,o.group),o.state===Cd){for(o.state=Jl,l=new Array(m=o.tween.length),g=0,h=-1;g<m;++g)(v=o.tween[g].value.call(e,e.__data__,o.index,o.group))&&(l[++h]=v);l.length=h+1}}function d(y){for(var g=y<o.duration?o.ease.call(null,y/o.duration):(o.timer.restart(f),o.state=_d,1),h=-1,m=l.length;++h<m;)l[h].call(e,g);o.state===_d&&(o.on.call("end",e,e.__data__,o.index,o.group),f())}function f(){o.state=ea,o.timer.stop(),delete i[n];for(var y in i)return;delete e.__transition}}function ta(e,n){var o=e.__transition,i,l,a=!0,u;if(o){n=n==null?null:n+"";for(u in o){if((i=o[u]).name!==n){a=!1;continue}l=i.state>Cd&&i.state<_d,i.state=ea,i.timer.stop(),i.on.call(l?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete o[u]}a&&delete e.__transition}}function rS(e){return this.each(function(){ta(this,e)})}function oS(e,n){var o,i;return function(){var l=kn(this,e),a=l.tween;if(a!==o){i=o=a;for(var u=0,d=i.length;u<d;++u)if(i[u].name===n){i=i.slice(),i.splice(u,1);break}}l.tween=i}}function iS(e,n,o){var i,l;if(typeof o!="function")throw new Error;return function(){var a=kn(this,e),u=a.tween;if(u!==i){l=(i=u).slice();for(var d={name:n,value:o},f=0,y=l.length;f<y;++f)if(l[f].name===n){l[f]=d;break}f===y&&l.push(d)}a.tween=l}}function sS(e,n){var o=this._id;if(e+="",arguments.length<2){for(var i=fn(this.node(),o).tween,l=0,a=i.length,u;l<a;++l)if((u=i[l]).name===e)return u.value;return null}return this.each((n==null?oS:iS)(o,e,n))}function Xd(e,n,o){var i=e._id;return e.each(function(){var l=kn(this,i);(l.value||(l.value={}))[n]=o.apply(this,arguments)}),function(l){return fn(l,i).value[n]}}function n0(e,n){var o;return(typeof n=="number"?br:n instanceof os?dg:(o=os(n))?(n=o,dg):Bb)(e,n)}function lS(e){return function(){this.removeAttribute(e)}}function aS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function cS(e,n,o){var i,l=o+"",a;return function(){var u=this.getAttribute(e);return u===l?null:u===i?a:a=n(i=u,o)}}function uS(e,n,o){var i,l=o+"",a;return function(){var u=this.getAttributeNS(e.space,e.local);return u===l?null:u===i?a:a=n(i=u,o)}}function dS(e,n,o){var i,l,a;return function(){var u,d=o(this),f;return d==null?void this.removeAttribute(e):(u=this.getAttribute(e),f=d+"",u===f?null:u===i&&f===l?a:(l=f,a=n(i=u,d)))}}function fS(e,n,o){var i,l,a;return function(){var u,d=o(this),f;return d==null?void this.removeAttributeNS(e.space,e.local):(u=this.getAttributeNS(e.space,e.local),f=d+"",u===f?null:u===i&&f===l?a:(l=f,a=n(i=u,d)))}}function pS(e,n){var o=Ea(e),i=o==="transform"?Ub:n0;return this.attrTween(e,typeof n=="function"?(o.local?fS:dS)(o,i,Xd(this,"attr."+e,n)):n==null?(o.local?aS:lS)(o):(o.local?uS:cS)(o,i,n))}function hS(e,n){return function(o){this.setAttribute(e,n.call(this,o))}}function gS(e,n){return function(o){this.setAttributeNS(e.space,e.local,n.call(this,o))}}function mS(e,n){var o,i;function l(){var a=n.apply(this,arguments);return a!==i&&(o=(i=a)&&gS(e,a)),o}return l._value=n,l}function yS(e,n){var o,i;function l(){var a=n.apply(this,arguments);return a!==i&&(o=(i=a)&&hS(e,a)),o}return l._value=n,l}function vS(e,n){var o="attr."+e;if(arguments.length<2)return(o=this.tween(o))&&o._value;if(n==null)return this.tween(o,null);if(typeof n!="function")throw new Error;var i=Ea(e);return this.tween(o,(i.local?mS:yS)(i,n))}function xS(e,n){return function(){Gd(this,e).delay=+n.apply(this,arguments)}}function wS(e,n){return n=+n,function(){Gd(this,e).delay=n}}function bS(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?xS:wS)(n,e)):fn(this.node(),n).delay}function SS(e,n){return function(){kn(this,e).duration=+n.apply(this,arguments)}}function ES(e,n){return n=+n,function(){kn(this,e).duration=n}}function kS(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?SS:ES)(n,e)):fn(this.node(),n).duration}function CS(e,n){if(typeof n!="function")throw new Error;return function(){kn(this,e).ease=n}}function _S(e){var n=this._id;return arguments.length?this.each(CS(n,e)):fn(this.node(),n).ease}function IS(e,n){return function(){var o=n.apply(this,arguments);if(typeof o!="function")throw new Error;kn(this,e).ease=o}}function NS(e){if(typeof e!="function")throw new Error;return this.each(IS(this._id,e))}function MS(e){typeof e!="function"&&(e=jm(e));for(var n=this._groups,o=n.length,i=new Array(o),l=0;l<o;++l)for(var a=n[l],u=a.length,d=i[l]=[],f,y=0;y<u;++y)(f=a[y])&&e.call(f,f.__data__,y,a)&&d.push(f);return new On(i,this._parents,this._name,this._id)}function DS(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,o=e._groups,i=n.length,l=o.length,a=Math.min(i,l),u=new Array(i),d=0;d<a;++d)for(var f=n[d],y=o[d],g=f.length,h=u[d]=new Array(g),m,v=0;v<g;++v)(m=f[v]||y[v])&&(h[v]=m);for(;d<i;++d)u[d]=n[d];return new On(u,this._parents,this._name,this._id)}function TS(e){return(e+"").trim().split(/^|\s+/).every(function(n){var o=n.indexOf(".");return o>=0&&(n=n.slice(0,o)),!n||n==="start"})}function PS(e,n,o){var i,l,a=TS(n)?Gd:kn;return function(){var u=a(this,e),d=u.on;d!==i&&(l=(i=d).copy()).on(n,o),u.on=l}}function jS(e,n){var o=this._id;return arguments.length<2?fn(this.node(),o).on.on(e):this.each(PS(o,e,n))}function AS(e){return function(){var n=this.parentNode;for(var o in this.__transition)if(+o!==e)return;n&&n.removeChild(this)}}function LS(){return this.on("end.remove",AS(this._id))}function zS(e){var n=this._name,o=this._id;typeof e!="function"&&(e=Hd(e));for(var i=this._groups,l=i.length,a=new Array(l),u=0;u<l;++u)for(var d=i[u],f=d.length,y=a[u]=new Array(f),g,h,m=0;m<f;++m)(g=d[m])&&(h=e.call(g,g.__data__,m,d))&&("__data__"in g&&(h.__data__=g.__data__),y[m]=h,Ca(y[m],n,o,m,y,fn(g,o)));return new On(a,this._parents,n,o)}function RS(e){var n=this._name,o=this._id;typeof e!="function"&&(e=Pm(e));for(var i=this._groups,l=i.length,a=[],u=[],d=0;d<l;++d)for(var f=i[d],y=f.length,g,h=0;h<y;++h)if(g=f[h]){for(var m=e.call(g,g.__data__,h,f),v,S=fn(g,o),b=0,k=m.length;b<k;++b)(v=m[b])&&Ca(v,n,o,b,m,S);a.push(m),u.push(g)}return new On(a,u,n,o)}var $S=ps.prototype.constructor;function OS(){return new $S(this._groups,this._parents)}function FS(e,n){var o,i,l;return function(){var a=Go(this,e),u=(this.style.removeProperty(e),Go(this,e));return a===u?null:a===o&&u===i?l:l=n(o=a,i=u)}}function r0(e){return function(){this.style.removeProperty(e)}}function BS(e,n,o){var i,l=o+"",a;return function(){var u=Go(this,e);return u===l?null:u===i?a:a=n(i=u,o)}}function VS(e,n,o){var i,l,a;return function(){var u=Go(this,e),d=o(this),f=d+"";return d==null&&(f=d=(this.style.removeProperty(e),Go(this,e))),u===f?null:u===i&&f===l?a:(l=f,a=n(i=u,d))}}function HS(e,n){var o,i,l,a="style."+n,u="end."+a,d;return function(){var f=kn(this,e),y=f.on,g=f.value[a]==null?d||(d=r0(n)):void 0;(y!==o||l!==g)&&(i=(o=y).copy()).on(u,l=g),f.on=i}}function WS(e,n,o){var i=(e+="")=="transform"?Wb:n0;return n==null?this.styleTween(e,FS(e,i)).on("end.style."+e,r0(e)):typeof n=="function"?this.styleTween(e,VS(e,i,Xd(this,"style."+e,n))).each(HS(this._id,e)):this.styleTween(e,BS(e,i,n),o).on("end.style."+e,null)}function US(e,n,o){return function(i){this.style.setProperty(e,n.call(this,i),o)}}function YS(e,n,o){var i,l;function a(){var u=n.apply(this,arguments);return u!==l&&(i=(l=u)&&US(e,u,o)),i}return a._value=n,a}function GS(e,n,o){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;return this.tween(i,YS(e,n,o??""))}function XS(e){return function(){this.textContent=e}}function ZS(e){return function(){var n=e(this);this.textContent=n??""}}function QS(e){return this.tween("text",typeof e=="function"?ZS(Xd(this,"text",e)):XS(e==null?"":e+""))}function KS(e){return function(n){this.textContent=e.call(this,n)}}function qS(e){var n,o;function i(){var l=e.apply(this,arguments);return l!==o&&(n=(o=l)&&KS(l)),n}return i._value=e,i}function JS(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,qS(e))}function eE(){for(var e=this._name,n=this._id,o=o0(),i=this._groups,l=i.length,a=0;a<l;++a)for(var u=i[a],d=u.length,f,y=0;y<d;++y)if(f=u[y]){var g=fn(f,n);Ca(f,e,o,y,u,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new On(i,this._parents,e,o)}function tE(){var e,n,o=this,i=o._id,l=o.size();return new Promise(function(a,u){var d={value:u},f={value:function(){--l===0&&a()}};o.each(function(){var y=kn(this,i),g=y.on;g!==e&&(n=(e=g).copy(),n._.cancel.push(d),n._.interrupt.push(d),n._.end.push(f)),y.on=n}),l===0&&a()})}var nE=0;function On(e,n,o,i){this._groups=e,this._parents=n,this._name=o,this._id=i}function o0(){return++nE}var Ln=ps.prototype;On.prototype={constructor:On,select:zS,selectAll:RS,selectChild:Ln.selectChild,selectChildren:Ln.selectChildren,filter:MS,merge:DS,selection:OS,transition:eE,call:Ln.call,nodes:Ln.nodes,node:Ln.node,size:Ln.size,empty:Ln.empty,each:Ln.each,on:jS,attr:pS,attrTween:vS,style:WS,styleTween:GS,text:QS,textTween:JS,remove:LS,tween:sS,delay:bS,duration:kS,ease:_S,easeVarying:NS,end:tE,[Symbol.iterator]:Ln[Symbol.iterator]};function rE(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var oE={time:null,delay:0,duration:250,ease:rE};function iE(e,n){for(var o;!(o=e.__transition)||!(o=o[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return o}function sE(e){var n,o;e instanceof On?(n=e._id,e=e._name):(n=o0(),(o=oE).time=Yd(),e=e==null?null:e+"");for(var i=this._groups,l=i.length,a=0;a<l;++a)for(var u=i[a],d=u.length,f,y=0;y<d;++y)(f=u[y])&&Ca(f,e,n,y,u,o||iE(f,n));return new On(i,this._parents,e,n)}ps.prototype.interrupt=rS;ps.prototype.transition=sE;const Yl=e=>()=>e;function lE(e,{sourceEvent:n,target:o,transform:i,dispatch:l}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:l}})}function zn(e,n,o){this.k=e,this.x=n,this.y=o}zn.prototype={constructor:zn,scale:function(e){return e===1?this:new zn(this.k*e,this.x,this.y)},translate:function(e,n){return e===0&n===0?this:new zn(this.k,this.x+this.k*e,this.y+this.k*n)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var _a=new zn(1,0,0);i0.prototype=zn.prototype;function i0(e){for(;!e.__zoom;)if(!(e=e.parentNode))return _a;return e.__zoom}function qu(e){e.stopImmediatePropagation()}function Zi(e){e.preventDefault(),e.stopImmediatePropagation()}function aE(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function cE(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function vg(){return this.__zoom||_a}function uE(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function dE(){return navigator.maxTouchPoints||"ontouchstart"in this}function fE(e,n,o){var i=e.invertX(n[0][0])-o[0][0],l=e.invertX(n[1][0])-o[1][0],a=e.invertY(n[0][1])-o[0][1],u=e.invertY(n[1][1])-o[1][1];return e.translate(l>i?(i+l)/2:Math.min(0,i)||Math.max(0,l),u>a?(a+u)/2:Math.min(0,a)||Math.max(0,u))}function s0(){var e=aE,n=cE,o=fE,i=uE,l=dE,a=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],d=250,f=Zb,y=Sa("start","zoom","end"),g,h,m,v=500,S=150,b=0,k=10;function I(N){N.property("__zoom",vg).on("wheel.zoom",O,{passive:!1}).on("mousedown.zoom",W).on("dblclick.zoom",U).filter(l).on("touchstart.zoom",Q).on("touchmove.zoom",Z).on("touchend.zoom touchcancel.zoom",X).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}I.transform=function(N,Y,$,L){var j=N.selection?N.selection():N;j.property("__zoom",vg),N!==j?F(N,Y,$,L):j.interrupt().each(function(){V(this,arguments).event(L).start().zoom(null,typeof Y=="function"?Y.apply(this,arguments):Y).end()})},I.scaleBy=function(N,Y,$,L){I.scaleTo(N,function(){var j=this.__zoom.k,A=typeof Y=="function"?Y.apply(this,arguments):Y;return j*A},$,L)},I.scaleTo=function(N,Y,$,L){I.transform(N,function(){var j=n.apply(this,arguments),A=this.__zoom,R=$==null?_(j):typeof $=="function"?$.apply(this,arguments):$,D=A.invert(R),B=typeof Y=="function"?Y.apply(this,arguments):Y;return o(C(T(A,B),R,D),j,u)},$,L)},I.translateBy=function(N,Y,$,L){I.transform(N,function(){return o(this.__zoom.translate(typeof Y=="function"?Y.apply(this,arguments):Y,typeof $=="function"?$.apply(this,arguments):$),n.apply(this,arguments),u)},null,L)},I.translateTo=function(N,Y,$,L,j){I.transform(N,function(){var A=n.apply(this,arguments),R=this.__zoom,D=L==null?_(A):typeof L=="function"?L.apply(this,arguments):L;return o(_a.translate(D[0],D[1]).scale(R.k).translate(typeof Y=="function"?-Y.apply(this,arguments):-Y,typeof $=="function"?-$.apply(this,arguments):-$),A,u)},L,j)};function T(N,Y){return Y=Math.max(a[0],Math.min(a[1],Y)),Y===N.k?N:new zn(Y,N.x,N.y)}function C(N,Y,$){var L=Y[0]-$[0]*N.k,j=Y[1]-$[1]*N.k;return L===N.x&&j===N.y?N:new zn(N.k,L,j)}function _(N){return[(+N[0][0]+ +N[1][0])/2,(+N[0][1]+ +N[1][1])/2]}function F(N,Y,$,L){N.on("start.zoom",function(){V(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){V(this,arguments).event(L).end()}).tween("zoom",function(){var j=this,A=arguments,R=V(j,A).event(L),D=n.apply(j,A),B=$==null?_(D):typeof $=="function"?$.apply(j,A):$,ne=Math.max(D[1][0]-D[0][0],D[1][1]-D[0][1]),te=j.__zoom,le=typeof Y=="function"?Y.apply(j,A):Y,se=f(te.invert(B).concat(ne/te.k),le.invert(B).concat(ne/le.k));return function(re){if(re===1)re=le;else{var ue=se(re),de=ne/ue[2];re=new zn(de,B[0]-ue[0]*de,B[1]-ue[1]*de)}R.zoom(null,re)}})}function V(N,Y,$){return!$&&N.__zooming||new P(N,Y)}function P(N,Y){this.that=N,this.args=Y,this.active=0,this.sourceEvent=null,this.extent=n.apply(N,Y),this.taps=0}P.prototype={event:function(N){return N&&(this.sourceEvent=N),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(N,Y){return this.mouse&&N!=="mouse"&&(this.mouse[1]=Y.invert(this.mouse[0])),this.touch0&&N!=="touch"&&(this.touch0[1]=Y.invert(this.touch0[0])),this.touch1&&N!=="touch"&&(this.touch1[1]=Y.invert(this.touch1[0])),this.that.__zoom=Y,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(N){var Y=Ft(this.that).datum();y.call(N,this.that,new lE(N,{sourceEvent:this.sourceEvent,target:I,type:N,transform:this.that.__zoom,dispatch:y}),Y)}};function O(N,...Y){if(!e.apply(this,arguments))return;var $=V(this,Y).event(N),L=this.__zoom,j=Math.max(a[0],Math.min(a[1],L.k*Math.pow(2,i.apply(this,arguments)))),A=cn(N);if($.wheel)($.mouse[0][0]!==A[0]||$.mouse[0][1]!==A[1])&&($.mouse[1]=L.invert($.mouse[0]=A)),clearTimeout($.wheel);else{if(L.k===j)return;$.mouse=[A,L.invert(A)],ta(this),$.start()}Zi(N),$.wheel=setTimeout(R,S),$.zoom("mouse",o(C(T(L,j),$.mouse[0],$.mouse[1]),$.extent,u));function R(){$.wheel=null,$.end()}}function W(N,...Y){if(m||!e.apply(this,arguments))return;var $=N.currentTarget,L=V(this,Y,!0).event(N),j=Ft(N.view).on("mousemove.zoom",B,!0).on("mouseup.zoom",ne,!0),A=cn(N,$),R=N.clientX,D=N.clientY;Hm(N.view),qu(N),L.mouse=[A,this.__zoom.invert(A)],ta(this),L.start();function B(te){if(Zi(te),!L.moved){var le=te.clientX-R,se=te.clientY-D;L.moved=le*le+se*se>b}L.event(te).zoom("mouse",o(C(L.that.__zoom,L.mouse[0]=cn(te,$),L.mouse[1]),L.extent,u))}function ne(te){j.on("mousemove.zoom mouseup.zoom",null),Wm(te.view,L.moved),Zi(te),L.event(te).end()}}function U(N,...Y){if(e.apply(this,arguments)){var $=this.__zoom,L=cn(N.changedTouches?N.changedTouches[0]:N,this),j=$.invert(L),A=$.k*(N.shiftKey?.5:2),R=o(C(T($,A),L,j),n.apply(this,Y),u);Zi(N),d>0?Ft(this).transition().duration(d).call(F,R,L,N):Ft(this).call(I.transform,R,L,N)}}function Q(N,...Y){if(e.apply(this,arguments)){var $=N.touches,L=$.length,j=V(this,Y,N.changedTouches.length===L).event(N),A,R,D,B;for(qu(N),R=0;R<L;++R)D=$[R],B=cn(D,this),B=[B,this.__zoom.invert(B),D.identifier],j.touch0?!j.touch1&&j.touch0[2]!==B[2]&&(j.touch1=B,j.taps=0):(j.touch0=B,A=!0,j.taps=1+!!g);g&&(g=clearTimeout(g)),A&&(j.taps<2&&(h=B[0],g=setTimeout(function(){g=null},v)),ta(this),j.start())}}function Z(N,...Y){if(this.__zooming){var $=V(this,Y).event(N),L=N.changedTouches,j=L.length,A,R,D,B;for(Zi(N),A=0;A<j;++A)R=L[A],D=cn(R,this),$.touch0&&$.touch0[2]===R.identifier?$.touch0[0]=D:$.touch1&&$.touch1[2]===R.identifier&&($.touch1[0]=D);if(R=$.that.__zoom,$.touch1){var ne=$.touch0[0],te=$.touch0[1],le=$.touch1[0],se=$.touch1[1],re=(re=le[0]-ne[0])*re+(re=le[1]-ne[1])*re,ue=(ue=se[0]-te[0])*ue+(ue=se[1]-te[1])*ue;R=T(R,Math.sqrt(re/ue)),D=[(ne[0]+le[0])/2,(ne[1]+le[1])/2],B=[(te[0]+se[0])/2,(te[1]+se[1])/2]}else if($.touch0)D=$.touch0[0],B=$.touch0[1];else return;$.zoom("touch",o(C(R,D,B),$.extent,u))}}function X(N,...Y){if(this.__zooming){var $=V(this,Y).event(N),L=N.changedTouches,j=L.length,A,R;for(qu(N),m&&clearTimeout(m),m=setTimeout(function(){m=null},v),A=0;A<j;++A)R=L[A],$.touch0&&$.touch0[2]===R.identifier?delete $.touch0:$.touch1&&$.touch1[2]===R.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(R=cn(R,this),Math.hypot(h[0]-R[0],h[1]-R[1])<k)){var D=Ft(this).on("dblclick.zoom");D&&D.apply(this,arguments)}}}return I.wheelDelta=function(N){return arguments.length?(i=typeof N=="function"?N:Yl(+N),I):i},I.filter=function(N){return arguments.length?(e=typeof N=="function"?N:Yl(!!N),I):e},I.touchable=function(N){return arguments.length?(l=typeof N=="function"?N:Yl(!!N),I):l},I.extent=function(N){return arguments.length?(n=typeof N=="function"?N:Yl([[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]]),I):n},I.scaleExtent=function(N){return arguments.length?(a[0]=+N[0],a[1]=+N[1],I):[a[0],a[1]]},I.translateExtent=function(N){return arguments.length?(u[0][0]=+N[0][0],u[1][0]=+N[1][0],u[0][1]=+N[0][1],u[1][1]=+N[1][1],I):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},I.constrain=function(N){return arguments.length?(o=N,I):o},I.duration=function(N){return arguments.length?(d=+N,I):d},I.interpolate=function(N){return arguments.length?(f=N,I):f},I.on=function(){var N=y.on.apply(y,arguments);return N===y?I:N},I.clickDistance=function(N){return arguments.length?(b=(N=+N)*N,I):Math.sqrt(b)},I.tapDistance=function(N){return arguments.length?(k=+N,I):k},I}const Sn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:n,sourceHandle:o,targetHandle:i})=>`Couldn't create edge for ${e} handle id: "${e==="source"?o:i}", edge id: ${n}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},ss=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],l0=["Enter"," ","Escape"];var Jr;(function(e){e.Strict="strict",e.Loose="loose"})(Jr||(Jr={}));var Kr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Kr||(Kr={}));var ls;(function(e){e.Partial="partial",e.Full="full"})(ls||(ls={}));const a0={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Sr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Sr||(Sr={}));var ga;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(ga||(ga={}));var Se;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Se||(Se={}));const xg={[Se.Left]:Se.Right,[Se.Right]:Se.Left,[Se.Top]:Se.Bottom,[Se.Bottom]:Se.Top};function c0(e){return e===null?null:e?"valid":"invalid"}const u0=e=>"id"in e&&"source"in e&&"target"in e,pE=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Zd=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),gs=(e,n=[0,0])=>{const{width:o,height:i}=Fn(e),l=e.origin??n,a=o*l[0],u=i*l[1];return{x:e.position.x-a,y:e.position.y-u}},hE=(e,n={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const o=e.reduce((i,l)=>{const a=typeof l=="string";let u=!n.nodeLookup&&!a?l:void 0;n.nodeLookup&&(u=a?n.nodeLookup.get(l):Zd(l)?l:n.nodeLookup.get(l.id));const d=u?ma(u,n.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Ia(i,d)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Na(o)},ms=(e,n={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let o={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(i=>{if(n.filter===void 0||n.filter(i)){const l=ma(i);o=Ia(o,l)}}),Na(o)},d0=(e,n,[o,i,l]=[0,0,1],a=!1,u=!1)=>{const d={...ys(n,[o,i,l]),width:n.width/l,height:n.height/l},f=[];for(const y of e.values()){const{measured:g,selectable:h=!0,hidden:m=!1}=y;if(u&&!h||m)continue;const v=g.width??y.width??y.initialWidth??null,S=g.height??y.height??y.initialHeight??null,b=as(d,Qo(y)),k=(v??0)*(S??0),I=a&&b>0;(!y.internals.handleBounds||I||b>=k||y.dragging)&&f.push(y)}return f},gE=(e,n)=>{const o=new Set;return e.forEach(i=>{o.add(i.id)}),n.filter(i=>o.has(i.source)||o.has(i.target))};function Id(e,n){const o=new Map,i=n!=null&&n.nodes?new Set(n.nodes.map(l=>l.id)):null;return e.forEach(l=>{l.measured.width&&l.measured.height&&((n==null?void 0:n.includeHiddenNodes)||!l.hidden)&&(!i||i.has(l.id))&&o.set(l.id,l)}),o}async function Nd({nodes:e,width:n,height:o,panZoom:i,minZoom:l,maxZoom:a},u){if(e.size===0)return Promise.resolve(!1);const d=ms(e),f=Qd(d,n,o,(u==null?void 0:u.minZoom)??l,(u==null?void 0:u.maxZoom)??a,(u==null?void 0:u.padding)??.1);return await i.setViewport(f,{duration:u==null?void 0:u.duration}),Promise.resolve(!0)}function f0({nodeId:e,nextPosition:n,nodeLookup:o,nodeOrigin:i=[0,0],nodeExtent:l,onError:a}){const u=o.get(e),d=u.parentId?o.get(u.parentId):void 0,{x:f,y}=d?d.internals.positionAbsolute:{x:0,y:0},g=u.origin??i;let h=l;if(u.extent==="parent"&&!u.expandParent)if(!d)a==null||a("005",Sn.error005());else{const v=d.measured.width,S=d.measured.height;v&&S&&(h=[[f,y],[f+v,y+S]])}else d&&Ko(u.extent)&&(h=[[u.extent[0][0]+f,u.extent[0][1]+y],[u.extent[1][0]+f,u.extent[1][1]+y]]);const m=Ko(h)?eo(n,h,u.measured):n;return(u.measured.width===void 0||u.measured.height===void 0)&&(a==null||a("015",Sn.error015())),{position:{x:m.x-f+(u.measured.width??0)*g[0],y:m.y-y+(u.measured.height??0)*g[1]},positionAbsolute:m}}async function mE({nodesToRemove:e=[],edgesToRemove:n=[],nodes:o,edges:i,onBeforeDelete:l}){const a=new Set(e.map(m=>m.id)),u=[];for(const m of o){if(m.deletable===!1)continue;const v=a.has(m.id),S=!v&&m.parentId&&u.find(b=>b.id===m.parentId);(v||S)&&u.push(m)}const d=new Set(n.map(m=>m.id)),f=i.filter(m=>m.deletable!==!1),g=gE(u,f);for(const m of f)d.has(m.id)&&!g.find(S=>S.id===m.id)&&g.push(m);if(!l)return{edges:g,nodes:u};const h=await l({nodes:u,edges:g});return typeof h=="boolean"?h?{edges:g,nodes:u}:{edges:[],nodes:[]}:h}const Zo=(e,n=0,o=1)=>Math.min(Math.max(e,n),o),eo=(e={x:0,y:0},n,o)=>({x:Zo(e.x,n[0][0],n[1][0]-((o==null?void 0:o.width)??0)),y:Zo(e.y,n[0][1],n[1][1]-((o==null?void 0:o.height)??0))});function p0(e,n,o){const{width:i,height:l}=Fn(o),{x:a,y:u}=o.internals.positionAbsolute;return eo(e,[[a,u],[a+i,u+l]],n)}const wg=(e,n,o)=>e<n?Zo(Math.abs(e-n),1,n)/n:e>o?-Zo(Math.abs(e-o),1,n)/n:0,h0=(e,n,o=15,i=40)=>{const l=wg(e.x,i,n.width-i)*o,a=wg(e.y,i,n.height-i)*o;return[l,a]},Ia=(e,n)=>({x:Math.min(e.x,n.x),y:Math.min(e.y,n.y),x2:Math.max(e.x2,n.x2),y2:Math.max(e.y2,n.y2)}),Md=({x:e,y:n,width:o,height:i})=>({x:e,y:n,x2:e+o,y2:n+i}),Na=({x:e,y:n,x2:o,y2:i})=>({x:e,y:n,width:o-e,height:i-n}),Qo=(e,n=[0,0])=>{var l,a;const{x:o,y:i}=Zd(e)?e.internals.positionAbsolute:gs(e,n);return{x:o,y:i,width:((l=e.measured)==null?void 0:l.width)??e.width??e.initialWidth??0,height:((a=e.measured)==null?void 0:a.height)??e.height??e.initialHeight??0}},ma=(e,n=[0,0])=>{var l,a;const{x:o,y:i}=Zd(e)?e.internals.positionAbsolute:gs(e,n);return{x:o,y:i,x2:o+(((l=e.measured)==null?void 0:l.width)??e.width??e.initialWidth??0),y2:i+(((a=e.measured)==null?void 0:a.height)??e.height??e.initialHeight??0)}},g0=(e,n)=>Na(Ia(Md(e),Md(n))),as=(e,n)=>{const o=Math.max(0,Math.min(e.x+e.width,n.x+n.width)-Math.max(e.x,n.x)),i=Math.max(0,Math.min(e.y+e.height,n.y+n.height)-Math.max(e.y,n.y));return Math.ceil(o*i)},bg=e=>dn(e.width)&&dn(e.height)&&dn(e.x)&&dn(e.y),dn=e=>!isNaN(e)&&isFinite(e),yE=(e,n)=>{},Ma=(e,n=[1,1])=>({x:n[0]*Math.round(e.x/n[0]),y:n[1]*Math.round(e.y/n[1])}),ys=({x:e,y:n},[o,i,l],a=!1,u=[1,1])=>{const d={x:(e-o)/l,y:(n-i)/l};return a?Ma(d,u):d},m0=({x:e,y:n},[o,i,l])=>({x:e*l+o,y:n*l+i}),Qd=(e,n,o,i,l,a)=>{const u=n/(e.width*(1+a)),d=o/(e.height*(1+a)),f=Math.min(u,d),y=Zo(f,i,l),g=e.x+e.width/2,h=e.y+e.height/2,m=n/2-g*y,v=o/2-h*y;return{x:m,y:v,zoom:y}},ya=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Ko(e){return e!==void 0&&e!=="parent"}function Fn(e){var n,o;return{width:((n=e.measured)==null?void 0:n.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}}function y0(e){var n,o;return(((n=e.measured)==null?void 0:n.width)??e.width??e.initialWidth)!==void 0&&(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight)!==void 0}function v0(e,n={width:0,height:0},o,i,l){const a={...e},u=i.get(o);if(u){const d=u.origin||l;a.x+=u.internals.positionAbsolute.x-(n.width??0)*d[0],a.y+=u.internals.positionAbsolute.y-(n.height??0)*d[1]}return a}function Sg(e,n){if(e.size!==n.size)return!1;for(const o of e)if(!n.has(o))return!1;return!0}function qi(e,{snapGrid:n=[0,0],snapToGrid:o=!1,transform:i,containerBounds:l}){const{x:a,y:u}=Rn(e),d=ys({x:a-((l==null?void 0:l.left)??0),y:u-((l==null?void 0:l.top)??0)},i),{x:f,y}=o?Ma(d,n):d;return{xSnapped:f,ySnapped:y,...d}}const Da=e=>({width:e.offsetWidth,height:e.offsetHeight}),x0=e=>{var n;return((n=e==null?void 0:e.getRootNode)==null?void 0:n.call(e))||(window==null?void 0:window.document)},vE=["INPUT","SELECT","TEXTAREA"];function Dd(e){var i,l;const n=((l=(i=e.composedPath)==null?void 0:i.call(e))==null?void 0:l[0])||e.target;return(n==null?void 0:n.nodeType)!==1?!1:vE.includes(n.nodeName)||n.hasAttribute("contenteditable")||!!n.closest(".nokey")}const w0=e=>"clientX"in e,Rn=(e,n)=>{var a,u;const o=w0(e),i=o?e.clientX:(a=e.touches)==null?void 0:a[0].clientX,l=o?e.clientY:(u=e.touches)==null?void 0:u[0].clientY;return{x:i-((n==null?void 0:n.left)??0),y:l-((n==null?void 0:n.top)??0)}},Eg=(e,n,o,i,l)=>{const a=n.querySelectorAll(`.${e}`);return!a||!a.length?null:Array.from(a).map(u=>{const d=u.getBoundingClientRect();return{id:u.getAttribute("data-handleid"),type:e,nodeId:l,position:u.getAttribute("data-handlepos"),x:(d.left-o.left)/i,y:(d.top-o.top)/i,...Da(u)}})};function b0({sourceX:e,sourceY:n,targetX:o,targetY:i,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:d}){const f=e*.125+l*.375+u*.375+o*.125,y=n*.125+a*.375+d*.375+i*.125,g=Math.abs(f-e),h=Math.abs(y-n);return[f,y,g,h]}function Gl(e,n){return e>=0?.5*e:n*25*Math.sqrt(-e)}function kg({pos:e,x1:n,y1:o,x2:i,y2:l,c:a}){switch(e){case Se.Left:return[n-Gl(n-i,a),o];case Se.Right:return[n+Gl(i-n,a),o];case Se.Top:return[n,o-Gl(o-l,a)];case Se.Bottom:return[n,o+Gl(l-o,a)]}}function S0({sourceX:e,sourceY:n,sourcePosition:o=Se.Bottom,targetX:i,targetY:l,targetPosition:a=Se.Top,curvature:u=.25}){const[d,f]=kg({pos:o,x1:e,y1:n,x2:i,y2:l,c:u}),[y,g]=kg({pos:a,x1:i,y1:l,x2:e,y2:n,c:u}),[h,m,v,S]=b0({sourceX:e,sourceY:n,targetX:i,targetY:l,sourceControlX:d,sourceControlY:f,targetControlX:y,targetControlY:g});return[`M${e},${n} C${d},${f} ${y},${g} ${i},${l}`,h,m,v,S]}function E0({sourceX:e,sourceY:n,targetX:o,targetY:i}){const l=Math.abs(o-e)/2,a=o<e?o+l:o-l,u=Math.abs(i-n)/2,d=i<n?i+u:i-u;return[a,d,l,u]}function xE({sourceNode:e,targetNode:n,selected:o=!1,zIndex:i=0,elevateOnSelect:l=!1}){if(!l)return i;const a=o||n.selected||e.selected,u=Math.max(e.internals.z||0,n.internals.z||0,1e3);return i+(a?u:0)}function wE({sourceNode:e,targetNode:n,width:o,height:i,transform:l}){const a=Ia(ma(e),ma(n));a.x===a.x2&&(a.x2+=1),a.y===a.y2&&(a.y2+=1);const u={x:-l[0]/l[2],y:-l[1]/l[2],width:o/l[2],height:i/l[2]};return as(u,Na(a))>0}const bE=({source:e,sourceHandle:n,target:o,targetHandle:i})=>`xy-edge__${e}${n||""}-${o}${i||""}`,SE=(e,n)=>n.some(o=>o.source===e.source&&o.target===e.target&&(o.sourceHandle===e.sourceHandle||!o.sourceHandle&&!e.sourceHandle)&&(o.targetHandle===e.targetHandle||!o.targetHandle&&!e.targetHandle)),EE=(e,n)=>{if(!e.source||!e.target)return n;let o;return u0(e)?o={...e}:o={...e,id:bE(e)},SE(o,n)?n:(o.sourceHandle===null&&delete o.sourceHandle,o.targetHandle===null&&delete o.targetHandle,n.concat(o))};function k0({sourceX:e,sourceY:n,targetX:o,targetY:i}){const[l,a,u,d]=E0({sourceX:e,sourceY:n,targetX:o,targetY:i});return[`M ${e},${n}L ${o},${i}`,l,a,u,d]}const Cg={[Se.Left]:{x:-1,y:0},[Se.Right]:{x:1,y:0},[Se.Top]:{x:0,y:-1},[Se.Bottom]:{x:0,y:1}},kE=({source:e,sourcePosition:n=Se.Bottom,target:o})=>n===Se.Left||n===Se.Right?e.x<o.x?{x:1,y:0}:{x:-1,y:0}:e.y<o.y?{x:0,y:1}:{x:0,y:-1},_g=(e,n)=>Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2));function CE({source:e,sourcePosition:n=Se.Bottom,target:o,targetPosition:i=Se.Top,center:l,offset:a}){const u=Cg[n],d=Cg[i],f={x:e.x+u.x*a,y:e.y+u.y*a},y={x:o.x+d.x*a,y:o.y+d.y*a},g=kE({source:f,sourcePosition:n,target:y}),h=g.x!==0?"x":"y",m=g[h];let v=[],S,b;const k={x:0,y:0},I={x:0,y:0},[T,C,_,F]=E0({sourceX:e.x,sourceY:e.y,targetX:o.x,targetY:o.y});if(u[h]*d[h]===-1){S=l.x??T,b=l.y??C;const P=[{x:S,y:f.y},{x:S,y:y.y}],O=[{x:f.x,y:b},{x:y.x,y:b}];u[h]===m?v=h==="x"?P:O:v=h==="x"?O:P}else{const P=[{x:f.x,y:y.y}],O=[{x:y.x,y:f.y}];if(h==="x"?v=u.x===m?O:P:v=u.y===m?P:O,n===i){const X=Math.abs(e[h]-o[h]);if(X<=a){const N=Math.min(a-1,a-X);u[h]===m?k[h]=(f[h]>e[h]?-1:1)*N:I[h]=(y[h]>o[h]?-1:1)*N}}if(n!==i){const X=h==="x"?"y":"x",N=u[h]===d[X],Y=f[X]>y[X],$=f[X]<y[X];(u[h]===1&&(!N&&Y||N&&$)||u[h]!==1&&(!N&&$||N&&Y))&&(v=h==="x"?P:O)}const W={x:f.x+k.x,y:f.y+k.y},U={x:y.x+I.x,y:y.y+I.y},Q=Math.max(Math.abs(W.x-v[0].x),Math.abs(U.x-v[0].x)),Z=Math.max(Math.abs(W.y-v[0].y),Math.abs(U.y-v[0].y));Q>=Z?(S=(W.x+U.x)/2,b=v[0].y):(S=v[0].x,b=(W.y+U.y)/2)}return[[e,{x:f.x+k.x,y:f.y+k.y},...v,{x:y.x+I.x,y:y.y+I.y},o],S,b,_,F]}function _E(e,n,o,i){const l=Math.min(_g(e,n)/2,_g(n,o)/2,i),{x:a,y:u}=n;if(e.x===a&&a===o.x||e.y===u&&u===o.y)return`L${a} ${u}`;if(e.y===u){const y=e.x<o.x?-1:1,g=e.y<o.y?1:-1;return`L ${a+l*y},${u}Q ${a},${u} ${a},${u+l*g}`}const d=e.x<o.x?1:-1,f=e.y<o.y?-1:1;return`L ${a},${u+l*f}Q ${a},${u} ${a+l*d},${u}`}function Td({sourceX:e,sourceY:n,sourcePosition:o=Se.Bottom,targetX:i,targetY:l,targetPosition:a=Se.Top,borderRadius:u=5,centerX:d,centerY:f,offset:y=20}){const[g,h,m,v,S]=CE({source:{x:e,y:n},sourcePosition:o,target:{x:i,y:l},targetPosition:a,center:{x:d,y:f},offset:y});return[g.reduce((k,I,T)=>{let C="";return T>0&&T<g.length-1?C=_E(g[T-1],I,g[T+1],u):C=`${T===0?"M":"L"}${I.x} ${I.y}`,k+=C,k},""),h,m,v,S]}function Ig(e){var n;return e&&!!(e.internals.handleBounds||(n=e.handles)!=null&&n.length)&&!!(e.measured.width||e.width||e.initialWidth)}function IE(e){var h;const{sourceNode:n,targetNode:o}=e;if(!Ig(n)||!Ig(o))return null;const i=n.internals.handleBounds||Ng(n.handles),l=o.internals.handleBounds||Ng(o.handles),a=Mg((i==null?void 0:i.source)??[],e.sourceHandle),u=Mg(e.connectionMode===Jr.Strict?(l==null?void 0:l.target)??[]:((l==null?void 0:l.target)??[]).concat((l==null?void 0:l.source)??[]),e.targetHandle);if(!a||!u)return(h=e.onError)==null||h.call(e,"008",Sn.error008(a?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const d=(a==null?void 0:a.position)||Se.Bottom,f=(u==null?void 0:u.position)||Se.Top,y=cs(n,a,d),g=cs(o,u,f);return{sourceX:y.x,sourceY:y.y,targetX:g.x,targetY:g.y,sourcePosition:d,targetPosition:f}}function Ng(e){if(!e)return null;const n=[],o=[];for(const i of e)i.width=i.width??1,i.height=i.height??1,i.type==="source"?n.push(i):i.type==="target"&&o.push(i);return{source:n,target:o}}function cs(e,n,o=Se.Left,i=!1){const l=((n==null?void 0:n.x)??0)+e.internals.positionAbsolute.x,a=((n==null?void 0:n.y)??0)+e.internals.positionAbsolute.y,{width:u,height:d}=n??Fn(e);if(i)return{x:l+u/2,y:a+d/2};switch((n==null?void 0:n.position)??o){case Se.Top:return{x:l+u/2,y:a};case Se.Right:return{x:l+u,y:a+d/2};case Se.Bottom:return{x:l+u/2,y:a+d};case Se.Left:return{x:l,y:a+d/2}}}function Mg(e,n){return e&&(n?e.find(o=>o.id===n):e[0])||null}function Pd(e,n){return e?typeof e=="string"?e:`${n?`${n}__`:""}${Object.keys(e).sort().map(i=>`${i}=${e[i]}`).join("&")}`:""}function NE(e,{id:n,defaultColor:o,defaultMarkerStart:i,defaultMarkerEnd:l}){const a=new Set;return e.reduce((u,d)=>([d.markerStart||i,d.markerEnd||l].forEach(f=>{if(f&&typeof f=="object"){const y=Pd(f,n);a.has(y)||(u.push({id:y,color:f.color||o,...f}),a.add(y))}}),u),[]).sort((u,d)=>u.id.localeCompare(d.id))}const Kd={nodeOrigin:[0,0],nodeExtent:ss,elevateNodesOnSelect:!0,defaults:{}},ME={...Kd,checkEquality:!0};function qd(e,n){const o={...e};for(const i in n)n[i]!==void 0&&(o[i]=n[i]);return o}function DE(e,n,o){const i=qd(Kd,o);for(const l of e.values())if(l.parentId)Jd(l,e,n,i);else{const a=gs(l,i.nodeOrigin),u=Ko(l.extent)?l.extent:i.nodeExtent,d=eo(a,u,Fn(l));l.internals.positionAbsolute=d}}function jd(e,n,o,i){var d,f;const l=qd(ME,i),a=new Map(n),u=l!=null&&l.elevateNodesOnSelect?1e3:0;n.clear(),o.clear();for(const y of e){let g=a.get(y.id);if(l.checkEquality&&y===(g==null?void 0:g.internals.userNode))n.set(y.id,g);else{const h=gs(y,l.nodeOrigin),m=Ko(y.extent)?y.extent:l.nodeExtent,v=eo(h,m,Fn(y));g={...l.defaults,...y,measured:{width:(d=y.measured)==null?void 0:d.width,height:(f=y.measured)==null?void 0:f.height},internals:{positionAbsolute:v,handleBounds:y.measured?g==null?void 0:g.internals.handleBounds:void 0,z:C0(y,u),userNode:y}},n.set(y.id,g)}y.parentId&&Jd(g,n,o,i)}}function TE(e,n){if(!e.parentId)return;const o=n.get(e.parentId);o?o.set(e.id,e):n.set(e.parentId,new Map([[e.id,e]]))}function Jd(e,n,o,i){const{elevateNodesOnSelect:l,nodeOrigin:a,nodeExtent:u}=qd(Kd,i),d=e.parentId,f=n.get(d);if(!f){console.warn(`Parent node ${d} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}TE(e,o);const y=l?1e3:0,{x:g,y:h,z:m}=PE(e,f,a,u,y),{positionAbsolute:v}=e.internals,S=g!==v.x||h!==v.y;(S||m!==e.internals.z)&&n.set(e.id,{...e,internals:{...e.internals,positionAbsolute:S?{x:g,y:h}:v,z:m}})}function C0(e,n){return(dn(e.zIndex)?e.zIndex:0)+(e.selected?n:0)}function PE(e,n,o,i,l){const{x:a,y:u}=n.internals.positionAbsolute,d=Fn(e),f=gs(e,o),y=Ko(e.extent)?eo(f,e.extent,d):f;let g=eo({x:a+y.x,y:u+y.y},i,d);e.extent==="parent"&&(g=p0(g,d,n));const h=C0(e,l),m=n.internals.z??0;return{x:g.x,y:g.y,z:m>h?m:h}}function ef(e,n,o,i=[0,0]){var u;const l=[],a=new Map;for(const d of e){const f=n.get(d.parentId);if(!f)continue;const y=((u=a.get(d.parentId))==null?void 0:u.expandedRect)??Qo(f),g=g0(y,d.rect);a.set(d.parentId,{expandedRect:g,parent:f})}return a.size>0&&a.forEach(({expandedRect:d,parent:f},y)=>{var C;const g=f.internals.positionAbsolute,h=Fn(f),m=f.origin??i,v=d.x<g.x?Math.round(Math.abs(g.x-d.x)):0,S=d.y<g.y?Math.round(Math.abs(g.y-d.y)):0,b=Math.max(h.width,Math.round(d.width)),k=Math.max(h.height,Math.round(d.height)),I=(b-h.width)*m[0],T=(k-h.height)*m[1];(v>0||S>0||I||T)&&(l.push({id:y,type:"position",position:{x:f.position.x-v+I,y:f.position.y-S+T}}),(C=o.get(y))==null||C.forEach(_=>{e.some(F=>F.id===_.id)||l.push({id:_.id,type:"position",position:{x:_.position.x+v,y:_.position.y+S}})})),(h.width<d.width||h.height<d.height||v||S)&&l.push({id:y,type:"dimensions",setAttributes:!0,dimensions:{width:b+(v?m[0]*v-I:0),height:k+(S?m[1]*S-T:0)}})}),l}function jE(e,n,o,i,l,a){const u=i==null?void 0:i.querySelector(".xyflow__viewport");let d=!1;if(!u)return{changes:[],updatedInternals:d};const f=[],y=window.getComputedStyle(u),{m22:g}=new window.DOMMatrixReadOnly(y.transform),h=[];for(const m of e.values()){const v=n.get(m.id);if(!v)continue;if(v.hidden){n.set(v.id,{...v,internals:{...v.internals,handleBounds:void 0}}),d=!0;continue}const S=Da(m.nodeElement),b=v.measured.width!==S.width||v.measured.height!==S.height;if(!!(S.width&&S.height&&(b||!v.internals.handleBounds||m.force))){const I=m.nodeElement.getBoundingClientRect(),T=Ko(v.extent)?v.extent:a;let{positionAbsolute:C}=v.internals;v.parentId&&v.extent==="parent"?C=p0(C,S,n.get(v.parentId)):T&&(C=eo(C,T,S));const _={...v,measured:S,internals:{...v.internals,positionAbsolute:C,handleBounds:{source:Eg("source",m.nodeElement,I,g,v.id),target:Eg("target",m.nodeElement,I,g,v.id)}}};n.set(v.id,_),v.parentId&&Jd(_,n,o,{nodeOrigin:l}),d=!0,b&&(f.push({id:v.id,type:"dimensions",dimensions:S}),v.expandParent&&v.parentId&&h.push({id:v.id,parentId:v.parentId,rect:Qo(_,l)}))}}if(h.length>0){const m=ef(h,n,o,l);f.push(...m)}return{changes:f,updatedInternals:d}}async function AE({delta:e,panZoom:n,transform:o,translateExtent:i,width:l,height:a}){if(!n||!e.x&&!e.y)return Promise.resolve(!1);const u=await n.setViewportConstrained({x:o[0]+e.x,y:o[1]+e.y,zoom:o[2]},[[0,0],[l,a]],i),d=!!u&&(u.x!==o[0]||u.y!==o[1]||u.k!==o[2]);return Promise.resolve(d)}function Dg(e,n,o,i,l,a){let u=l;const d=i.get(u)||new Map;i.set(u,d.set(o,n)),u=`${l}-${e}`;const f=i.get(u)||new Map;if(i.set(u,f.set(o,n)),a){u=`${l}-${e}-${a}`;const y=i.get(u)||new Map;i.set(u,y.set(o,n))}}function _0(e,n,o){e.clear(),n.clear();for(const i of o){const{source:l,target:a,sourceHandle:u=null,targetHandle:d=null}=i,f={edgeId:i.id,source:l,target:a,sourceHandle:u,targetHandle:d},y=`${l}-${u}--${a}-${d}`,g=`${a}-${d}--${l}-${u}`;Dg("source",f,g,e,l,u),Dg("target",f,y,e,a,d),n.set(i.id,i)}}function I0(e,n){if(!e.parentId)return!1;const o=n.get(e.parentId);return o?o.selected?!0:I0(o,n):!1}function Tg(e,n,o){var l;let i=e;do{if((l=i==null?void 0:i.matches)!=null&&l.call(i,n))return!0;if(i===o)return!1;i=i==null?void 0:i.parentElement}while(i);return!1}function LE(e,n,o,i){const l=new Map;for(const[a,u]of e)if((u.selected||u.id===i)&&(!u.parentId||!I0(u,e))&&(u.draggable||n&&typeof u.draggable>"u")){const d=e.get(a);d&&l.set(a,{id:a,position:d.position||{x:0,y:0},distance:{x:o.x-d.internals.positionAbsolute.x,y:o.y-d.internals.positionAbsolute.y},extent:d.extent,parentId:d.parentId,origin:d.origin,expandParent:d.expandParent,internals:{positionAbsolute:d.internals.positionAbsolute||{x:0,y:0}},measured:{width:d.measured.width??0,height:d.measured.height??0}})}return l}function Ju({nodeId:e,dragItems:n,nodeLookup:o,dragging:i=!0}){var u,d,f;const l=[];for(const[y,g]of n){const h=(u=o.get(y))==null?void 0:u.internals.userNode;h&&l.push({...h,position:g.position,dragging:i})}if(!e)return[l[0],l];const a=(d=o.get(e))==null?void 0:d.internals.userNode;return[a?{...a,position:((f=n.get(e))==null?void 0:f.position)||a.position,dragging:i}:l[0],l]}function zE({onNodeMouseDown:e,getStoreItems:n,onDragStart:o,onDrag:i,onDragStop:l}){let a={x:null,y:null},u=0,d=new Map,f=!1,y={x:0,y:0},g=null,h=!1,m=null,v=!1;function S({noDragClassName:k,handleSelector:I,domNode:T,isSelectable:C,nodeId:_,nodeClickDistance:F=0}){m=Ft(T);function V({x:U,y:Q},Z){const{nodeLookup:X,nodeExtent:N,snapGrid:Y,snapToGrid:$,nodeOrigin:L,onNodeDrag:j,onSelectionDrag:A,onError:R,updateNodePositions:D}=n();a={x:U,y:Q};let B=!1,ne={x:0,y:0,x2:0,y2:0};if(d.size>1&&N){const te=ms(d);ne=Md(te)}for(const[te,le]of d){if(!X.has(te))continue;let se={x:U-le.distance.x,y:Q-le.distance.y};$&&(se=Ma(se,Y));let re=[[N[0][0],N[0][1]],[N[1][0],N[1][1]]];if(d.size>1&&N&&!le.extent){const{positionAbsolute:Me}=le.internals,Ce=Me.x-ne.x+N[0][0],be=Me.x+le.measured.width-ne.x2+N[1][0],De=Me.y-ne.y+N[0][1],$e=Me.y+le.measured.height-ne.y2+N[1][1];re=[[Ce,De],[be,$e]]}const{position:ue,positionAbsolute:de}=f0({nodeId:te,nextPosition:se,nodeLookup:X,nodeExtent:re,nodeOrigin:L,onError:R});B=B||le.position.x!==ue.x||le.position.y!==ue.y,le.position=ue,le.internals.positionAbsolute=de}if(B&&(D(d,!0),Z&&(i||j||!_&&A))){const[te,le]=Ju({nodeId:_,dragItems:d,nodeLookup:X});i==null||i(Z,d,te,le),j==null||j(Z,te,le),_||A==null||A(Z,le)}}async function P(){if(!g)return;const{transform:U,panBy:Q,autoPanSpeed:Z,autoPanOnNodeDrag:X}=n();if(!X){f=!1,cancelAnimationFrame(u);return}const[N,Y]=h0(y,g,Z);(N!==0||Y!==0)&&(a.x=(a.x??0)-N/U[2],a.y=(a.y??0)-Y/U[2],await Q({x:N,y:Y})&&V(a,null)),u=requestAnimationFrame(P)}function O(U){var B;const{nodeLookup:Q,multiSelectionActive:Z,nodesDraggable:X,transform:N,snapGrid:Y,snapToGrid:$,selectNodesOnDrag:L,onNodeDragStart:j,onSelectionDragStart:A,unselectNodesAndEdges:R}=n();h=!0,(!L||!C)&&!Z&&_&&((B=Q.get(_))!=null&&B.selected||R()),C&&L&&_&&(e==null||e(_));const D=qi(U.sourceEvent,{transform:N,snapGrid:Y,snapToGrid:$,containerBounds:g});if(a=D,d=LE(Q,X,D,_),d.size>0&&(o||j||!_&&A)){const[ne,te]=Ju({nodeId:_,dragItems:d,nodeLookup:Q});o==null||o(U.sourceEvent,d,ne,te),j==null||j(U.sourceEvent,ne,te),_||A==null||A(U.sourceEvent,te)}}const W=Um().clickDistance(F).on("start",U=>{const{domNode:Q,nodeDragThreshold:Z,transform:X,snapGrid:N,snapToGrid:Y}=n();g=(Q==null?void 0:Q.getBoundingClientRect())||null,v=!1,Z===0&&O(U),a=qi(U.sourceEvent,{transform:X,snapGrid:N,snapToGrid:Y,containerBounds:g}),y=Rn(U.sourceEvent,g)}).on("drag",U=>{const{autoPanOnNodeDrag:Q,transform:Z,snapGrid:X,snapToGrid:N,nodeDragThreshold:Y,nodeLookup:$}=n(),L=qi(U.sourceEvent,{transform:Z,snapGrid:X,snapToGrid:N,containerBounds:g});if((U.sourceEvent.type==="touchmove"&&U.sourceEvent.touches.length>1||_&&!$.has(_))&&(v=!0),!v){if(!f&&Q&&h&&(f=!0,P()),!h){const j=L.xSnapped-(a.x??0),A=L.ySnapped-(a.y??0);Math.sqrt(j*j+A*A)>Y&&O(U)}(a.x!==L.xSnapped||a.y!==L.ySnapped)&&d&&h&&(y=Rn(U.sourceEvent,g),V(L,U.sourceEvent))}}).on("end",U=>{if(!(!h||v)&&(f=!1,h=!1,cancelAnimationFrame(u),d.size>0)){const{nodeLookup:Q,updateNodePositions:Z,onNodeDragStop:X,onSelectionDragStop:N}=n();if(Z(d,!1),l||X||!_&&N){const[Y,$]=Ju({nodeId:_,dragItems:d,nodeLookup:Q,dragging:!1});l==null||l(U.sourceEvent,d,Y,$),X==null||X(U.sourceEvent,Y,$),_||N==null||N(U.sourceEvent,$)}}}).filter(U=>{const Q=U.target;return!U.button&&(!k||!Tg(Q,`.${k}`,T))&&(!I||Tg(Q,I,T))});m.call(W)}function b(){m==null||m.on(".drag",null)}return{update:S,destroy:b}}function RE(e,n,o){const i=[],l={x:e.x-o,y:e.y-o,width:o*2,height:o*2};for(const a of n.values())as(l,Qo(a))>0&&i.push(a);return i}const $E=250;function OE(e,n,o,i){var d,f;let l=[],a=1/0;const u=RE(e,o,n+$E);for(const y of u){const g=[...((d=y.internals.handleBounds)==null?void 0:d.source)??[],...((f=y.internals.handleBounds)==null?void 0:f.target)??[]];for(const h of g){if(i.nodeId===h.nodeId&&i.type===h.type&&i.id===h.id)continue;const{x:m,y:v}=cs(y,h,h.position,!0),S=Math.sqrt(Math.pow(m-e.x,2)+Math.pow(v-e.y,2));S>n||(S<a?(l=[{...h,x:m,y:v}],a=S):S===a&&l.push({...h,x:m,y:v}))}}if(!l.length)return null;if(l.length>1){const y=i.type==="source"?"target":"source";return l.find(g=>g.type===y)??l[0]}return l[0]}function N0(e,n,o,i,l,a=!1){var y,g,h;const u=i.get(e);if(!u)return null;const d=l==="strict"?(y=u.internals.handleBounds)==null?void 0:y[n]:[...((g=u.internals.handleBounds)==null?void 0:g.source)??[],...((h=u.internals.handleBounds)==null?void 0:h.target)??[]],f=(o?d==null?void 0:d.find(m=>m.id===o):d==null?void 0:d[0])??null;return f&&a?{...f,...cs(u,f,f.position,!0)}:f}function M0(e,n){return e||(n!=null&&n.classList.contains("target")?"target":n!=null&&n.classList.contains("source")?"source":null)}function FE(e,n){let o=null;return n?o=!0:e&&!n&&(o=!1),o}const D0=()=>!0;function BE(e,{connectionMode:n,connectionRadius:o,handleId:i,nodeId:l,edgeUpdaterType:a,isTarget:u,domNode:d,nodeLookup:f,lib:y,autoPanOnConnect:g,flowId:h,panBy:m,cancelConnection:v,onConnectStart:S,onConnect:b,onConnectEnd:k,isValidConnection:I=D0,onReconnectEnd:T,updateConnection:C,getTransform:_,getFromHandle:F,autoPanSpeed:V}){const P=x0(e.target);let O=0,W;const{x:U,y:Q}=Rn(e),Z=P==null?void 0:P.elementFromPoint(U,Q),X=M0(a,Z),N=d==null?void 0:d.getBoundingClientRect();if(!N||!X)return;const Y=N0(l,X,i,f,n);if(!Y)return;let $=Rn(e,N),L=!1,j=null,A=!1,R=null;function D(){if(!g||!N)return;const[de,Me]=h0($,N,V);m({x:de,y:Me}),O=requestAnimationFrame(D)}const B={...Y,nodeId:l,type:X,position:Y.position},ne=f.get(l),le={inProgress:!0,isValid:null,from:cs(ne,B,Se.Left,!0),fromHandle:B,fromPosition:B.position,fromNode:ne,to:$,toHandle:null,toPosition:xg[B.position],toNode:null};C(le);let se=le;S==null||S(e,{nodeId:l,handleId:i,handleType:X});function re(de){if(!F()||!B){ue(de);return}const Me=_();$=Rn(de,N),W=OE(ys($,Me,!1,[1,1]),o,f,B),L||(D(),L=!0);const Ce=T0(de,{handle:W,connectionMode:n,fromNodeId:l,fromHandleId:i,fromType:u?"target":"source",isValidConnection:I,doc:P,lib:y,flowId:h,nodeLookup:f});R=Ce.handleDomNode,j=Ce.connection,A=FE(!!W,Ce.isValid);const be={...se,isValid:A,to:W&&A?m0({x:W.x,y:W.y},Me):$,toHandle:Ce.toHandle,toPosition:A&&Ce.toHandle?Ce.toHandle.position:xg[B.position],toNode:Ce.toHandle?f.get(Ce.toHandle.nodeId):null};A&&W&&se.toHandle&&be.toHandle&&se.toHandle.type===be.toHandle.type&&se.toHandle.nodeId===be.toHandle.nodeId&&se.toHandle.id===be.toHandle.id&&se.to.x===be.to.x&&se.to.y===be.to.y||(C(be),se=be)}function ue(de){(W||R)&&j&&A&&(b==null||b(j));const{inProgress:Me,...Ce}=se,be={...Ce,toPosition:se.toHandle?se.toPosition:null};k==null||k(de,be),a&&(T==null||T(de,be)),v(),cancelAnimationFrame(O),L=!1,A=!1,j=null,R=null,P.removeEventListener("mousemove",re),P.removeEventListener("mouseup",ue),P.removeEventListener("touchmove",re),P.removeEventListener("touchend",ue)}P.addEventListener("mousemove",re),P.addEventListener("mouseup",ue),P.addEventListener("touchmove",re),P.addEventListener("touchend",ue)}function T0(e,{handle:n,connectionMode:o,fromNodeId:i,fromHandleId:l,fromType:a,doc:u,lib:d,flowId:f,isValidConnection:y=D0,nodeLookup:g}){const h=a==="target",m=n?u.querySelector(`.${d}-flow__handle[data-id="${f}-${n==null?void 0:n.nodeId}-${n==null?void 0:n.id}-${n==null?void 0:n.type}"]`):null,{x:v,y:S}=Rn(e),b=u.elementFromPoint(v,S),k=b!=null&&b.classList.contains(`${d}-flow__handle`)?b:m,I={handleDomNode:k,isValid:!1,connection:null,toHandle:null};if(k){const T=M0(void 0,k),C=k.getAttribute("data-nodeid"),_=k.getAttribute("data-handleid"),F=k.classList.contains("connectable"),V=k.classList.contains("connectableend");if(!C||!T)return I;const P={source:h?C:i,sourceHandle:h?_:l,target:h?i:C,targetHandle:h?l:_};I.connection=P;const W=F&&V&&(o===Jr.Strict?h&&T==="source"||!h&&T==="target":C!==i||_!==l);I.isValid=W&&y(P),I.toHandle=N0(C,T,_,g,o,!1)}return I}const Ad={onPointerDown:BE,isValid:T0};function VE({domNode:e,panZoom:n,getTransform:o,getViewScale:i}){const l=Ft(e);function a({translateExtent:d,width:f,height:y,zoomStep:g=10,pannable:h=!0,zoomable:m=!0,inversePan:v=!1}){const S=C=>{const _=o();if(C.sourceEvent.type!=="wheel"||!n)return;const F=-C.sourceEvent.deltaY*(C.sourceEvent.deltaMode===1?.05:C.sourceEvent.deltaMode?1:.002)*g,V=_[2]*Math.pow(2,F);n.scaleTo(V)};let b=[0,0];const k=C=>{(C.sourceEvent.type==="mousedown"||C.sourceEvent.type==="touchstart")&&(b=[C.sourceEvent.clientX??C.sourceEvent.touches[0].clientX,C.sourceEvent.clientY??C.sourceEvent.touches[0].clientY])},I=C=>{const _=o();if(C.sourceEvent.type!=="mousemove"&&C.sourceEvent.type!=="touchmove"||!n)return;const F=[C.sourceEvent.clientX??C.sourceEvent.touches[0].clientX,C.sourceEvent.clientY??C.sourceEvent.touches[0].clientY],V=[F[0]-b[0],F[1]-b[1]];b=F;const P=i()*Math.max(_[2],Math.log(_[2]))*(v?-1:1),O={x:_[0]-V[0]*P,y:_[1]-V[1]*P},W=[[0,0],[f,y]];n.setViewportConstrained({x:O.x,y:O.y,zoom:_[2]},W,d)},T=s0().on("start",k).on("zoom",h?I:null).on("zoom.wheel",m?S:null);l.call(T,{})}function u(){l.on("zoom",null)}return{update:a,destroy:u,pointer:cn}}const HE=(e,n)=>e.x!==n.x||e.y!==n.y||e.zoom!==n.k,Ta=e=>({x:e.x,y:e.y,zoom:e.k}),ed=({x:e,y:n,zoom:o})=>_a.translate(e,n).scale(o),$o=(e,n)=>e.target.closest(`.${n}`),P0=(e,n)=>n===2&&Array.isArray(e)&&e.includes(2),td=(e,n=0,o=()=>{})=>{const i=typeof n=="number"&&n>0;return i||o(),i?e.transition().duration(n).on("end",o):e},j0=e=>{const n=e.ctrlKey&&ya()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*n};function WE({zoomPanValues:e,noWheelClassName:n,d3Selection:o,d3Zoom:i,panOnScrollMode:l,panOnScrollSpeed:a,zoomOnPinch:u,onPanZoomStart:d,onPanZoom:f,onPanZoomEnd:y}){return g=>{if($o(g,n))return!1;g.preventDefault(),g.stopImmediatePropagation();const h=o.property("__zoom").k||1;if(g.ctrlKey&&u){const k=cn(g),I=j0(g),T=h*Math.pow(2,I);i.scaleTo(o,T,k,g);return}const m=g.deltaMode===1?20:1;let v=l===Kr.Vertical?0:g.deltaX*m,S=l===Kr.Horizontal?0:g.deltaY*m;!ya()&&g.shiftKey&&l!==Kr.Vertical&&(v=g.deltaY*m,S=0),i.translateBy(o,-(v/h)*a,-(S/h)*a,{internal:!0});const b=Ta(o.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,d==null||d(g,b)),e.isPanScrolling&&(f==null||f(g,b),e.panScrollTimeout=setTimeout(()=>{y==null||y(g,b),e.isPanScrolling=!1},150))}}function UE({noWheelClassName:e,preventScrolling:n,d3ZoomHandler:o}){return function(i,l){if(!n&&i.type==="wheel"&&!i.ctrlKey||$o(i,e))return null;i.preventDefault(),o.call(this,i,l)}}function YE({zoomPanValues:e,onDraggingChange:n,onPanZoomStart:o}){return i=>{var a,u,d;if((a=i.sourceEvent)!=null&&a.internal)return;const l=Ta(i.transform);e.mouseButton=((u=i.sourceEvent)==null?void 0:u.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=l,((d=i.sourceEvent)==null?void 0:d.type)==="mousedown"&&n(!0),o&&(o==null||o(i.sourceEvent,l))}}function GE({zoomPanValues:e,panOnDrag:n,onPaneContextMenu:o,onTransformChange:i,onPanZoom:l}){return a=>{var u,d;e.usedRightMouseButton=!!(o&&P0(n,e.mouseButton??0)),(u=a.sourceEvent)!=null&&u.sync||i([a.transform.x,a.transform.y,a.transform.k]),l&&!((d=a.sourceEvent)!=null&&d.internal)&&(l==null||l(a.sourceEvent,Ta(a.transform)))}}function XE({zoomPanValues:e,panOnDrag:n,panOnScroll:o,onDraggingChange:i,onPanZoomEnd:l,onPaneContextMenu:a}){return u=>{var d;if(!((d=u.sourceEvent)!=null&&d.internal)&&(e.isZoomingOrPanning=!1,a&&P0(n,e.mouseButton??0)&&!e.usedRightMouseButton&&u.sourceEvent&&a(u.sourceEvent),e.usedRightMouseButton=!1,i(!1),l&&HE(e.prevViewport,u.transform))){const f=Ta(u.transform);e.prevViewport=f,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{l==null||l(u.sourceEvent,f)},o?150:0)}}}function ZE({zoomActivationKeyPressed:e,zoomOnScroll:n,zoomOnPinch:o,panOnDrag:i,panOnScroll:l,zoomOnDoubleClick:a,userSelectionActive:u,noWheelClassName:d,noPanClassName:f,lib:y}){return g=>{var S;const h=e||n,m=o&&g.ctrlKey;if(g.button===1&&g.type==="mousedown"&&($o(g,`${y}-flow__node`)||$o(g,`${y}-flow__edge`)))return!0;if(!i&&!h&&!l&&!a&&!o||u||$o(g,d)&&g.type==="wheel"||$o(g,f)&&(g.type!=="wheel"||l&&g.type==="wheel"&&!e)||!o&&g.ctrlKey&&g.type==="wheel")return!1;if(!o&&g.type==="touchstart"&&((S=g.touches)==null?void 0:S.length)>1)return g.preventDefault(),!1;if(!h&&!l&&!m&&g.type==="wheel"||!i&&(g.type==="mousedown"||g.type==="touchstart")||Array.isArray(i)&&!i.includes(g.button)&&g.type==="mousedown")return!1;const v=Array.isArray(i)&&i.includes(g.button)||!g.button||g.button<=1;return(!g.ctrlKey||g.type==="wheel")&&v}}function QE({domNode:e,minZoom:n,maxZoom:o,paneClickDistance:i,translateExtent:l,viewport:a,onPanZoom:u,onPanZoomStart:d,onPanZoomEnd:f,onDraggingChange:y}){const g={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},h=e.getBoundingClientRect(),m=s0().clickDistance(!dn(i)||i<0?0:i).scaleExtent([n,o]).translateExtent(l),v=Ft(e).call(m);C({x:a.x,y:a.y,zoom:Zo(a.zoom,n,o)},[[0,0],[h.width,h.height]],l);const S=v.on("wheel.zoom"),b=v.on("dblclick.zoom");m.wheelDelta(j0);function k(Z,X){return v?new Promise(N=>{m==null||m.transform(td(v,X==null?void 0:X.duration,()=>N(!0)),Z)}):Promise.resolve(!1)}function I({noWheelClassName:Z,noPanClassName:X,onPaneContextMenu:N,userSelectionActive:Y,panOnScroll:$,panOnDrag:L,panOnScrollMode:j,panOnScrollSpeed:A,preventScrolling:R,zoomOnPinch:D,zoomOnScroll:B,zoomOnDoubleClick:ne,zoomActivationKeyPressed:te,lib:le,onTransformChange:se}){Y&&!g.isZoomingOrPanning&&T();const ue=$&&!te&&!Y?WE({zoomPanValues:g,noWheelClassName:Z,d3Selection:v,d3Zoom:m,panOnScrollMode:j,panOnScrollSpeed:A,zoomOnPinch:D,onPanZoomStart:d,onPanZoom:u,onPanZoomEnd:f}):UE({noWheelClassName:Z,preventScrolling:R,d3ZoomHandler:S});if(v.on("wheel.zoom",ue,{passive:!1}),!Y){const Me=YE({zoomPanValues:g,onDraggingChange:y,onPanZoomStart:d});m.on("start",Me);const Ce=GE({zoomPanValues:g,panOnDrag:L,onPaneContextMenu:!!N,onPanZoom:u,onTransformChange:se});m.on("zoom",Ce);const be=XE({zoomPanValues:g,panOnDrag:L,panOnScroll:$,onPaneContextMenu:N,onPanZoomEnd:f,onDraggingChange:y});m.on("end",be)}const de=ZE({zoomActivationKeyPressed:te,panOnDrag:L,zoomOnScroll:B,panOnScroll:$,zoomOnDoubleClick:ne,zoomOnPinch:D,userSelectionActive:Y,noPanClassName:X,noWheelClassName:Z,lib:le});m.filter(de),ne?v.on("dblclick.zoom",b):v.on("dblclick.zoom",null)}function T(){m.on("zoom",null)}async function C(Z,X,N){const Y=ed(Z),$=m==null?void 0:m.constrain()(Y,X,N);return $&&await k($),new Promise(L=>L($))}async function _(Z,X){const N=ed(Z);return await k(N,X),new Promise(Y=>Y(N))}function F(Z){if(v){const X=ed(Z),N=v.property("__zoom");(N.k!==Z.zoom||N.x!==Z.x||N.y!==Z.y)&&(m==null||m.transform(v,X,null,{sync:!0}))}}function V(){const Z=v?i0(v.node()):{x:0,y:0,k:1};return{x:Z.x,y:Z.y,zoom:Z.k}}function P(Z,X){return v?new Promise(N=>{m==null||m.scaleTo(td(v,X==null?void 0:X.duration,()=>N(!0)),Z)}):Promise.resolve(!1)}function O(Z,X){return v?new Promise(N=>{m==null||m.scaleBy(td(v,X==null?void 0:X.duration,()=>N(!0)),Z)}):Promise.resolve(!1)}function W(Z){m==null||m.scaleExtent(Z)}function U(Z){m==null||m.translateExtent(Z)}function Q(Z){const X=!dn(Z)||Z<0?0:Z;m==null||m.clickDistance(X)}return{update:I,destroy:T,setViewport:_,setViewportConstrained:C,getViewport:V,scaleTo:P,scaleBy:O,setScaleExtent:W,setTranslateExtent:U,syncViewport:F,setClickDistance:Q}}var Ji;(function(e){e.Line="line",e.Handle="handle"})(Ji||(Ji={}));function KE({width:e,prevWidth:n,height:o,prevHeight:i,affectsX:l,affectsY:a}){const u=e-n,d=o-i,f=[u>0?1:u<0?-1:0,d>0?1:d<0?-1:0];return u&&l&&(f[0]=f[0]*-1),d&&a&&(f[1]=f[1]*-1),f}function qE(e){const n=e.includes("right")||e.includes("left"),o=e.includes("bottom")||e.includes("top"),i=e.includes("left"),l=e.includes("top");return{isHorizontal:n,isVertical:o,affectsX:i,affectsY:l}}function xr(e,n){return Math.max(0,n-e)}function wr(e,n){return Math.max(0,e-n)}function Xl(e,n,o){return Math.max(0,n-e,e-o)}function Pg(e,n){return e?!n:n}function JE(e,n,o,i,l,a,u,d){let{affectsX:f,affectsY:y}=n;const{isHorizontal:g,isVertical:h}=n,m=g&&h,{xSnapped:v,ySnapped:S}=o,{minWidth:b,maxWidth:k,minHeight:I,maxHeight:T}=i,{x:C,y:_,width:F,height:V,aspectRatio:P}=e;let O=Math.floor(g?v-e.pointerX:0),W=Math.floor(h?S-e.pointerY:0);const U=F+(f?-O:O),Q=V+(y?-W:W),Z=-a[0]*F,X=-a[1]*V;let N=Xl(U,b,k),Y=Xl(Q,I,T);if(u){let j=0,A=0;f&&O<0?j=xr(C+O+Z,u[0][0]):!f&&O>0&&(j=wr(C+U+Z,u[1][0])),y&&W<0?A=xr(_+W+X,u[0][1]):!y&&W>0&&(A=wr(_+Q+X,u[1][1])),N=Math.max(N,j),Y=Math.max(Y,A)}if(d){let j=0,A=0;f&&O>0?j=wr(C+O,d[0][0]):!f&&O<0&&(j=xr(C+U,d[1][0])),y&&W>0?A=wr(_+W,d[0][1]):!y&&W<0&&(A=xr(_+Q,d[1][1])),N=Math.max(N,j),Y=Math.max(Y,A)}if(l){if(g){const j=Xl(U/P,I,T)*P;if(N=Math.max(N,j),u){let A=0;!f&&!y||f&&!y&&m?A=wr(_+X+U/P,u[1][1])*P:A=xr(_+X+(f?O:-O)/P,u[0][1])*P,N=Math.max(N,A)}if(d){let A=0;!f&&!y||f&&!y&&m?A=xr(_+U/P,d[1][1])*P:A=wr(_+(f?O:-O)/P,d[0][1])*P,N=Math.max(N,A)}}if(h){const j=Xl(Q*P,b,k)/P;if(Y=Math.max(Y,j),u){let A=0;!f&&!y||y&&!f&&m?A=wr(C+Q*P+Z,u[1][0])/P:A=xr(C+(y?W:-W)*P+Z,u[0][0])/P,Y=Math.max(Y,A)}if(d){let A=0;!f&&!y||y&&!f&&m?A=xr(C+Q*P,d[1][0])/P:A=wr(C+(y?W:-W)*P,d[0][0])/P,Y=Math.max(Y,A)}}}W=W+(W<0?Y:-Y),O=O+(O<0?N:-N),l&&(m?U>Q*P?W=(Pg(f,y)?-O:O)/P:O=(Pg(f,y)?-W:W)*P:g?(W=O/P,y=f):(O=W*P,f=y));const $=f?C+O:C,L=y?_+W:_;return{width:F+(f?-O:O),height:V+(y?-W:W),x:a[0]*O*(f?-1:1)+$,y:a[1]*W*(y?-1:1)+L}}const A0={width:0,height:0,x:0,y:0},ek={...A0,pointerX:0,pointerY:0,aspectRatio:1};function tk(e){return[[0,0],[e.measured.width,e.measured.height]]}function nk(e,n,o){const i=n.position.x+e.position.x,l=n.position.y+e.position.y,a=e.measured.width??0,u=e.measured.height??0,d=o[0]*a,f=o[1]*u;return[[i-d,l-f],[i+a-d,l+u-f]]}function rk({domNode:e,nodeId:n,getStoreItems:o,onChange:i,onEnd:l}){const a=Ft(e);function u({controlPosition:f,boundaries:y,keepAspectRatio:g,onResizeStart:h,onResize:m,onResizeEnd:v,shouldResize:S}){let b={...A0},k={...ek};const I=qE(f);let T,C=null,_=[],F,V,P;const O=Um().on("start",W=>{const{nodeLookup:U,transform:Q,snapGrid:Z,snapToGrid:X,nodeOrigin:N,paneDomNode:Y}=o();if(T=U.get(n),!T)return;C=(Y==null?void 0:Y.getBoundingClientRect())??null;const{xSnapped:$,ySnapped:L}=qi(W.sourceEvent,{transform:Q,snapGrid:Z,snapToGrid:X,containerBounds:C});b={width:T.measured.width??0,height:T.measured.height??0,x:T.position.x??0,y:T.position.y??0},k={...b,pointerX:$,pointerY:L,aspectRatio:b.width/b.height},F=void 0,T.parentId&&(T.extent==="parent"||T.expandParent)&&(F=U.get(T.parentId),V=F&&T.extent==="parent"?tk(F):void 0),_=[],P=void 0;for(const[j,A]of U)if(A.parentId===n&&(_.push({id:j,position:{...A.position},extent:A.extent}),A.extent==="parent"||A.expandParent)){const R=nk(A,T,A.origin??N);P?P=[[Math.min(R[0][0],P[0][0]),Math.min(R[0][1],P[0][1])],[Math.max(R[1][0],P[1][0]),Math.max(R[1][1],P[1][1])]]:P=R}h==null||h(W,{...b})}).on("drag",W=>{const{transform:U,snapGrid:Q,snapToGrid:Z,nodeOrigin:X}=o(),N=qi(W.sourceEvent,{transform:U,snapGrid:Q,snapToGrid:Z,containerBounds:C}),Y=[];if(!T)return;const{x:$,y:L,width:j,height:A}=b,R={},D=T.origin??X,{width:B,height:ne,x:te,y:le}=JE(k,I,N,y,g,D,V,P),se=B!==j,re=ne!==A,ue=te!==$&&se,de=le!==L&&re;if(!ue&&!de&&!se&&!re)return;if((ue||de||D[0]===1||D[1]===1)&&(R.x=ue?te:b.x,R.y=de?le:b.y,b.x=R.x,b.y=R.y,_.length>0)){const De=te-$,$e=le-L;for(const rt of _)rt.position={x:rt.position.x-De+D[0]*(B-j),y:rt.position.y-$e+D[1]*(ne-A)},Y.push(rt)}if((se||re)&&(R.width=se?B:b.width,R.height=re?ne:b.height,b.width=R.width,b.height=R.height),F&&T.expandParent){const De=D[0]*(R.width??0);R.x&&R.x<De&&(b.x=De,k.x=k.x-(R.x-De));const $e=D[1]*(R.height??0);R.y&&R.y<$e&&(b.y=$e,k.y=k.y-(R.y-$e))}const Me=KE({width:b.width,prevWidth:j,height:b.height,prevHeight:A,affectsX:I.affectsX,affectsY:I.affectsY}),Ce={...b,direction:Me};(S==null?void 0:S(W,Ce))!==!1&&(m==null||m(W,Ce),i(R,Y))}).on("end",W=>{v==null||v(W,{...b}),l==null||l()});a.call(O)}function d(){a.on(".drag",null)}return{update:u,destroy:d}}var nd={exports:{}},rd={},od={exports:{}},id={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg;function ok(){if(jg)return id;jg=1;var e=ds();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var o=typeof Object.is=="function"?Object.is:n,i=e.useState,l=e.useEffect,a=e.useLayoutEffect,u=e.useDebugValue;function d(h,m){var v=m(),S=i({inst:{value:v,getSnapshot:m}}),b=S[0].inst,k=S[1];return a(function(){b.value=v,b.getSnapshot=m,f(b)&&k({inst:b})},[h,v,m]),l(function(){return f(b)&&k({inst:b}),h(function(){f(b)&&k({inst:b})})},[h]),u(v),v}function f(h){var m=h.getSnapshot;h=h.value;try{var v=m();return!o(h,v)}catch{return!0}}function y(h,m){return m()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y:d;return id.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,id}var Ag;function ik(){return Ag||(Ag=1,od.exports=ok()),od.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg;function sk(){if(Lg)return rd;Lg=1;var e=ds(),n=ik();function o(y,g){return y===g&&(y!==0||1/y===1/g)||y!==y&&g!==g}var i=typeof Object.is=="function"?Object.is:o,l=n.useSyncExternalStore,a=e.useRef,u=e.useEffect,d=e.useMemo,f=e.useDebugValue;return rd.useSyncExternalStoreWithSelector=function(y,g,h,m,v){var S=a(null);if(S.current===null){var b={hasValue:!1,value:null};S.current=b}else b=S.current;S=d(function(){function I(V){if(!T){if(T=!0,C=V,V=m(V),v!==void 0&&b.hasValue){var P=b.value;if(v(P,V))return _=P}return _=V}if(P=_,i(C,V))return P;var O=m(V);return v!==void 0&&v(P,O)?(C=V,P):(C=V,_=O)}var T=!1,C,_,F=h===void 0?null:h;return[function(){return I(g())},F===null?void 0:function(){return I(F())}]},[g,h,m,v]);var k=l(y,S[0],S[1]);return u(function(){b.hasValue=!0,b.value=k},[k]),f(k),k},rd}var zg;function lk(){return zg||(zg=1,nd.exports=sk()),nd.exports}var ak=lk();const ck=lm(ak),Rg=e=>{let n;const o=new Set,i=(g,h)=>{const m=typeof g=="function"?g(n):g;if(!Object.is(m,n)){const v=n;n=h??(typeof m!="object"||m===null)?m:Object.assign({},n,m),o.forEach(S=>S(n,v))}},l=()=>n,f={setState:i,getState:l,getInitialState:()=>y,subscribe:g=>(o.add(g),()=>o.delete(g)),destroy:()=>{o.clear()}},y=n=e(i,l,f);return f},uk=e=>e?Rg(e):Rg,{useDebugValue:dk}=ad,{useSyncExternalStoreWithSelector:fk}=ck,pk=e=>e;function L0(e,n=pk,o){const i=fk(e.subscribe,e.getState,e.getServerState||e.getInitialState,n,o);return dk(i),i}const $g=(e,n)=>{const o=uk(e),i=(l,a=n)=>L0(o,l,a);return Object.assign(i,o),i},hk=(e,n)=>e?$g(e,n):$g;function tt(e,n){if(Object.is(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(const[i,l]of e)if(!Object.is(l,n.get(i)))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(const i of e)if(!n.has(i))return!1;return!0}const o=Object.keys(e);if(o.length!==Object.keys(n).length)return!1;for(const i of o)if(!Object.prototype.hasOwnProperty.call(n,i)||!Object.is(e[i],n[i]))return!1;return!0}am();const Pa=M.createContext(null),gk=Pa.Provider,z0=Sn.error001();function ze(e,n){const o=M.useContext(Pa);if(o===null)throw new Error(z0);return L0(o,e,n)}function Xe(){const e=M.useContext(Pa);if(e===null)throw new Error(z0);return M.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Og={display:"none"},mk={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},R0="react-flow__node-desc",$0="react-flow__edge-desc",yk="react-flow__aria-live",vk=e=>e.ariaLiveMessage;function xk({rfId:e}){const n=ze(vk);return x.jsx("div",{id:`${yk}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:mk,children:n})}function wk({rfId:e,disableKeyboardA11y:n}){return x.jsxs(x.Fragment,{children:[x.jsxs("div",{id:`${R0}-${e}`,style:Og,children:["Press enter or space to select a node.",!n&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),x.jsx("div",{id:`${$0}-${e}`,style:Og,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!n&&x.jsx(xk,{rfId:e})]})}const bk=e=>e.userSelectionActive?"none":"all",vs=M.forwardRef(({position:e="top-left",children:n,className:o,style:i,...l},a)=>{const u=ze(bk),d=`${e}`.split("-");return x.jsx("div",{className:st(["react-flow__panel",o,...d]),style:{...i,pointerEvents:u},ref:a,...l,children:n})});vs.displayName="Panel";function Sk({proOptions:e,position:n="bottom-right"}){return e!=null&&e.hideAttribution?null:x.jsx(vs,{position:n,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:x.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const Ek=e=>{const n=[],o=[];for(const[,i]of e.nodeLookup)i.selected&&n.push(i.internals.userNode);for(const[,i]of e.edgeLookup)i.selected&&o.push(i);return{selectedNodes:n,selectedEdges:o}},Zl=e=>e.id;function kk(e,n){return tt(e.selectedNodes.map(Zl),n.selectedNodes.map(Zl))&&tt(e.selectedEdges.map(Zl),n.selectedEdges.map(Zl))}function Ck({onSelectionChange:e}){const n=Xe(),{selectedNodes:o,selectedEdges:i}=ze(Ek,kk);return M.useEffect(()=>{const l={nodes:o,edges:i};e==null||e(l),n.getState().onSelectionChangeHandlers.forEach(a=>a(l))},[o,i,e]),null}const _k=e=>!!e.onSelectionChangeHandlers;function Ik({onSelectionChange:e}){const n=ze(_k);return e||n?x.jsx(Ck,{onSelectionChange:e}):null}const O0=[0,0],Nk={x:0,y:0,zoom:1},Mk=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],Fg=[...Mk,"rfId"],Dk=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),Bg={translateExtent:ss,nodeOrigin:O0,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function Tk(e){const{setNodes:n,setEdges:o,setMinZoom:i,setMaxZoom:l,setTranslateExtent:a,setNodeExtent:u,reset:d,setDefaultNodesAndEdges:f,setPaneClickDistance:y}=ze(Dk,tt),g=Xe();M.useEffect(()=>(f(e.defaultNodes,e.defaultEdges),()=>{h.current=Bg,d()}),[]);const h=M.useRef(Bg);return M.useEffect(()=>{for(const m of Fg){const v=e[m],S=h.current[m];v!==S&&(typeof e[m]>"u"||(m==="nodes"?n(v):m==="edges"?o(v):m==="minZoom"?i(v):m==="maxZoom"?l(v):m==="translateExtent"?a(v):m==="nodeExtent"?u(v):m==="paneClickDistance"?y(v):m==="fitView"?g.setState({fitViewOnInit:v}):m==="fitViewOptions"?g.setState({fitViewOnInitOptions:v}):g.setState({[m]:v})))}h.current=e},Fg.map(m=>e[m])),null}function Vg(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Pk(e){var i;const[n,o]=M.useState(e==="system"?null:e);return M.useEffect(()=>{if(e!=="system"){o(e);return}const l=Vg(),a=()=>o(l!=null&&l.matches?"dark":"light");return a(),l==null||l.addEventListener("change",a),()=>{l==null||l.removeEventListener("change",a)}},[e]),n!==null?n:(i=Vg())!=null&&i.matches?"dark":"light"}const Hg=typeof document<"u"?document:null;function us(e=null,n={target:Hg,actInsideInputWithModifier:!0}){const[o,i]=M.useState(!1),l=M.useRef(!1),a=M.useRef(new Set([])),[u,d]=M.useMemo(()=>{if(e!==null){const y=(Array.isArray(e)?e:[e]).filter(h=>typeof h=="string").map(h=>h.replace("+",`
`).replace(`

`,`
+`).split(`
`)),g=y.reduce((h,m)=>h.concat(...m),[]);return[y,g]}return[[],[]]},[e]);return M.useEffect(()=>{const f=(n==null?void 0:n.target)||Hg;if(e!==null){const y=m=>{if(l.current=m.ctrlKey||m.metaKey||m.shiftKey,(!l.current||l.current&&!n.actInsideInputWithModifier)&&Dd(m))return!1;const S=Ug(m.code,d);a.current.add(m[S]),Wg(u,a.current,!1)&&(m.preventDefault(),i(!0))},g=m=>{if((!l.current||l.current&&!n.actInsideInputWithModifier)&&Dd(m))return!1;const S=Ug(m.code,d);Wg(u,a.current,!0)?(i(!1),a.current.clear()):a.current.delete(m[S]),m.key==="Meta"&&a.current.clear(),l.current=!1},h=()=>{a.current.clear(),i(!1)};return f==null||f.addEventListener("keydown",y),f==null||f.addEventListener("keyup",g),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{f==null||f.removeEventListener("keydown",y),f==null||f.removeEventListener("keyup",g),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[e,i]),o}function Wg(e,n,o){return e.filter(i=>o||i.length===n.size).some(i=>i.every(l=>n.has(l)))}function Ug(e,n){return n.includes(e)?"code":"key"}const jk=()=>{const e=Xe();return M.useMemo(()=>({zoomIn:n=>{const{panZoom:o}=e.getState();return o?o.scaleBy(1.2,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},zoomOut:n=>{const{panZoom:o}=e.getState();return o?o.scaleBy(1/1.2,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},zoomTo:(n,o)=>{const{panZoom:i}=e.getState();return i?i.scaleTo(n,{duration:o==null?void 0:o.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(n,o)=>{const{transform:[i,l,a],panZoom:u}=e.getState();return u?(await u.setViewport({x:n.x??i,y:n.y??l,zoom:n.zoom??a},{duration:o==null?void 0:o.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[n,o,i]=e.getState().transform;return{x:n,y:o,zoom:i}},fitView:n=>{const{nodeLookup:o,minZoom:i,maxZoom:l,panZoom:a,domNode:u}=e.getState();if(!a||!u)return Promise.resolve(!1);const d=Id(o,n),{width:f,height:y}=Da(u);return Nd({nodes:d,width:f,height:y,minZoom:i,maxZoom:l,panZoom:a},n)},setCenter:async(n,o,i)=>{const{width:l,height:a,maxZoom:u,panZoom:d}=e.getState(),f=typeof(i==null?void 0:i.zoom)<"u"?i.zoom:u,y=l/2-n*f,g=a/2-o*f;return d?(await d.setViewport({x:y,y:g,zoom:f},{duration:i==null?void 0:i.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(n,o)=>{const{width:i,height:l,minZoom:a,maxZoom:u,panZoom:d}=e.getState(),f=Qd(n,i,l,a,u,(o==null?void 0:o.padding)??.1);return d?(await d.setViewport(f,{duration:o==null?void 0:o.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(n,o={})=>{const{transform:i,snapGrid:l,snapToGrid:a,domNode:u}=e.getState();if(!u)return n;const{x:d,y:f}=u.getBoundingClientRect(),y={x:n.x-d,y:n.y-f},g=o.snapGrid??l,h=o.snapToGrid??a;return ys(y,i,h,g)},flowToScreenPosition:n=>{const{transform:o,domNode:i}=e.getState();if(!i)return n;const{x:l,y:a}=i.getBoundingClientRect(),u=m0(n,o);return{x:u.x+l,y:u.y+a}}}),[])};function F0(e,n){const o=[],i=new Map,l=[];for(const a of e)if(a.type==="add"){l.push(a);continue}else if(a.type==="remove"||a.type==="replace")i.set(a.id,[a]);else{const u=i.get(a.id);u?u.push(a):i.set(a.id,[a])}for(const a of n){const u=i.get(a.id);if(!u){o.push(a);continue}if(u[0].type==="remove")continue;if(u[0].type==="replace"){o.push({...u[0].item});continue}const d={...a};for(const f of u)Ak(f,d);o.push(d)}return l.length&&l.forEach(a=>{a.index!==void 0?o.splice(a.index,0,{...a.item}):o.push({...a.item})}),o}function Ak(e,n){switch(e.type){case"select":{n.selected=e.selected;break}case"position":{typeof e.position<"u"&&(n.position=e.position),typeof e.dragging<"u"&&(n.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(n.measured??(n.measured={}),n.measured.width=e.dimensions.width,n.measured.height=e.dimensions.height,e.setAttributes&&(n.width=e.dimensions.width,n.height=e.dimensions.height)),typeof e.resizing=="boolean"&&(n.resizing=e.resizing);break}}}function B0(e,n){return F0(e,n)}function V0(e,n){return F0(e,n)}function Ur(e,n){return{id:e,type:"select",selected:n}}function Oo(e,n=new Set,o=!1){const i=[];for(const[l,a]of e){const u=n.has(l);!(a.selected===void 0&&!u)&&a.selected!==u&&(o&&(a.selected=u),i.push(Ur(a.id,u)))}return i}function Yg({items:e=[],lookup:n}){var l;const o=[],i=new Map(e.map(a=>[a.id,a]));for(const[a,u]of e.entries()){const d=n.get(u.id),f=((l=d==null?void 0:d.internals)==null?void 0:l.userNode)??d;f!==void 0&&f!==u&&o.push({id:u.id,item:u,type:"replace"}),f===void 0&&o.push({item:u,type:"add",index:a})}for(const[a]of n)i.get(a)===void 0&&o.push({id:a,type:"remove"});return o}function Gg(e){return{id:e.id,type:"remove"}}const Xg=e=>pE(e),Lk=e=>u0(e);function H0(e){return M.forwardRef(e)}const zk=typeof window<"u"?M.useLayoutEffect:M.useEffect;function Zg(e){const[n,o]=M.useState(BigInt(0)),[i]=M.useState(()=>Rk(()=>o(l=>l+BigInt(1))));return zk(()=>{const l=i.get();l.length&&(e(l),i.reset())},[n]),i}function Rk(e){let n=[];return{get:()=>n,reset:()=>{n=[]},push:o=>{n.push(o),e()}}}const W0=M.createContext(null);function $k({children:e}){const n=Xe(),o=M.useCallback(d=>{const{nodes:f=[],setNodes:y,hasDefaultNodes:g,onNodesChange:h,nodeLookup:m}=n.getState();let v=f;for(const S of d)v=typeof S=="function"?S(v):S;g?y(v):h&&h(Yg({items:v,lookup:m}))},[]),i=Zg(o),l=M.useCallback(d=>{const{edges:f=[],setEdges:y,hasDefaultEdges:g,onEdgesChange:h,edgeLookup:m}=n.getState();let v=f;for(const S of d)v=typeof S=="function"?S(v):S;g?y(v):h&&h(Yg({items:v,lookup:m}))},[]),a=Zg(l),u=M.useMemo(()=>({nodeQueue:i,edgeQueue:a}),[]);return x.jsx(W0.Provider,{value:u,children:e})}function Ok(){const e=M.useContext(W0);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const Fk=e=>!!e.panZoom;function tf(){const e=jk(),n=Xe(),o=Ok(),i=ze(Fk),l=M.useMemo(()=>{const a=h=>n.getState().nodeLookup.get(h),u=h=>{o.nodeQueue.push(h)},d=h=>{o.edgeQueue.push(h)},f=h=>{var I,T;const{nodeLookup:m,nodeOrigin:v}=n.getState(),S=Xg(h)?h:m.get(h.id),b=S.parentId?v0(S.position,S.measured,S.parentId,m,v):S.position,k={...S,position:b,width:((I=S.measured)==null?void 0:I.width)??S.width,height:((T=S.measured)==null?void 0:T.height)??S.height};return Qo(k)},y=(h,m,v={replace:!1})=>{u(S=>S.map(b=>{if(b.id===h){const k=typeof m=="function"?m(b):m;return v.replace&&Xg(k)?k:{...b,...k}}return b}))},g=(h,m,v={replace:!1})=>{d(S=>S.map(b=>{if(b.id===h){const k=typeof m=="function"?m(b):m;return v.replace&&Lk(k)?k:{...b,...k}}return b}))};return{getNodes:()=>n.getState().nodes.map(h=>({...h})),getNode:h=>{var m;return(m=a(h))==null?void 0:m.internals.userNode},getInternalNode:a,getEdges:()=>{const{edges:h=[]}=n.getState();return h.map(m=>({...m}))},getEdge:h=>n.getState().edgeLookup.get(h),setNodes:u,setEdges:d,addNodes:h=>{const m=Array.isArray(h)?h:[h];o.nodeQueue.push(v=>[...v,...m])},addEdges:h=>{const m=Array.isArray(h)?h:[h];o.edgeQueue.push(v=>[...v,...m])},toObject:()=>{const{nodes:h=[],edges:m=[],transform:v}=n.getState(),[S,b,k]=v;return{nodes:h.map(I=>({...I})),edges:m.map(I=>({...I})),viewport:{x:S,y:b,zoom:k}}},deleteElements:async({nodes:h=[],edges:m=[]})=>{const{nodes:v,edges:S,onNodesDelete:b,onEdgesDelete:k,triggerNodeChanges:I,triggerEdgeChanges:T,onDelete:C,onBeforeDelete:_}=n.getState(),{nodes:F,edges:V}=await mE({nodesToRemove:h,edgesToRemove:m,nodes:v,edges:S,onBeforeDelete:_}),P=V.length>0,O=F.length>0;if(P){const W=V.map(Gg);k==null||k(V),T(W)}if(O){const W=F.map(Gg);b==null||b(F),I(W)}return(O||P)&&(C==null||C({nodes:F,edges:V})),{deletedNodes:F,deletedEdges:V}},getIntersectingNodes:(h,m=!0,v)=>{const S=bg(h),b=S?h:f(h),k=v!==void 0;return b?(v||n.getState().nodes).filter(I=>{const T=n.getState().nodeLookup.get(I.id);if(T&&!S&&(I.id===h.id||!T.internals.positionAbsolute))return!1;const C=Qo(k?I:T),_=as(C,b);return m&&_>0||_>=b.width*b.height}):[]},isNodeIntersecting:(h,m,v=!0)=>{const b=bg(h)?h:f(h);if(!b)return!1;const k=as(b,m);return v&&k>0||k>=b.width*b.height},updateNode:y,updateNodeData:(h,m,v={replace:!1})=>{y(h,S=>{const b=typeof m=="function"?m(S):m;return v.replace?{...S,data:b}:{...S,data:{...S.data,...b}}},v)},updateEdge:g,updateEdgeData:(h,m,v={replace:!1})=>{g(h,S=>{const b=typeof m=="function"?m(S):m;return v.replace?{...S,data:b}:{...S,data:{...S.data,...b}}},v)},getNodesBounds:h=>{const{nodeLookup:m,nodeOrigin:v}=n.getState();return hE(h,{nodeLookup:m,nodeOrigin:v})},getHandleConnections:({type:h,id:m,nodeId:v})=>{var S;return Array.from(((S=n.getState().connectionLookup.get(`${v}-${h}${m?`-${m}`:""}`))==null?void 0:S.values())??[])},getNodeConnections:({type:h,handleId:m,nodeId:v})=>{var S;return Array.from(((S=n.getState().connectionLookup.get(`${v}${h?m?`-${h}-${m}`:`-${h}`:""}`))==null?void 0:S.values())??[])}}},[]);return M.useMemo(()=>({...l,...e,viewportInitialized:i}),[i])}const Qg=e=>e.selected,Bk={actInsideInputWithModifier:!1},Vk=typeof window<"u"?window:void 0;function Hk({deleteKeyCode:e,multiSelectionKeyCode:n}){const o=Xe(),{deleteElements:i}=tf(),l=us(e,Bk),a=us(n,{target:Vk});M.useEffect(()=>{if(l){const{edges:u,nodes:d}=o.getState();i({nodes:d.filter(Qg),edges:u.filter(Qg)}),o.setState({nodesSelectionActive:!1})}},[l]),M.useEffect(()=>{o.setState({multiSelectionActive:a})},[a])}function Wk(e){const n=Xe();M.useEffect(()=>{const o=()=>{var l,a;if(!e.current)return!1;const i=Da(e.current);(i.height===0||i.width===0)&&((a=(l=n.getState()).onError)==null||a.call(l,"004",Sn.error004())),n.setState({width:i.width||500,height:i.height||500})};if(e.current){o(),window.addEventListener("resize",o);const i=new ResizeObserver(()=>o());return i.observe(e.current),()=>{window.removeEventListener("resize",o),i&&e.current&&i.unobserve(e.current)}}},[])}const ja={position:"absolute",width:"100%",height:"100%",top:0,left:0},Uk=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function Yk({onPaneContextMenu:e,zoomOnScroll:n=!0,zoomOnPinch:o=!0,panOnScroll:i=!1,panOnScrollSpeed:l=.5,panOnScrollMode:a=Kr.Free,zoomOnDoubleClick:u=!0,panOnDrag:d=!0,defaultViewport:f,translateExtent:y,minZoom:g,maxZoom:h,zoomActivationKeyCode:m,preventScrolling:v=!0,children:S,noWheelClassName:b,noPanClassName:k,onViewportChange:I,isControlledViewport:T,paneClickDistance:C}){const _=Xe(),F=M.useRef(null),{userSelectionActive:V,lib:P}=ze(Uk,tt),O=us(m),W=M.useRef();Wk(F);const U=M.useCallback(Q=>{I==null||I({x:Q[0],y:Q[1],zoom:Q[2]}),T||_.setState({transform:Q})},[I,T]);return M.useEffect(()=>{if(F.current){W.current=QE({domNode:F.current,minZoom:g,maxZoom:h,translateExtent:y,viewport:f,paneClickDistance:C,onDraggingChange:N=>_.setState({paneDragging:N}),onPanZoomStart:(N,Y)=>{const{onViewportChangeStart:$,onMoveStart:L}=_.getState();L==null||L(N,Y),$==null||$(Y)},onPanZoom:(N,Y)=>{const{onViewportChange:$,onMove:L}=_.getState();L==null||L(N,Y),$==null||$(Y)},onPanZoomEnd:(N,Y)=>{const{onViewportChangeEnd:$,onMoveEnd:L}=_.getState();L==null||L(N,Y),$==null||$(Y)}});const{x:Q,y:Z,zoom:X}=W.current.getViewport();return _.setState({panZoom:W.current,transform:[Q,Z,X],domNode:F.current.closest(".react-flow")}),()=>{var N;(N=W.current)==null||N.destroy()}}},[]),M.useEffect(()=>{var Q;(Q=W.current)==null||Q.update({onPaneContextMenu:e,zoomOnScroll:n,zoomOnPinch:o,panOnScroll:i,panOnScrollSpeed:l,panOnScrollMode:a,zoomOnDoubleClick:u,panOnDrag:d,zoomActivationKeyPressed:O,preventScrolling:v,noPanClassName:k,userSelectionActive:V,noWheelClassName:b,lib:P,onTransformChange:U})},[e,n,o,i,l,a,u,d,O,v,k,V,b,P,U]),x.jsx("div",{className:"react-flow__renderer",ref:F,style:ja,children:S})}const Gk=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Xk(){const{userSelectionActive:e,userSelectionRect:n}=ze(Gk,tt);return e&&n?x.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:n.width,height:n.height,transform:`translate(${n.x}px, ${n.y}px)`}}):null}const sd=(e,n)=>o=>{o.target===n.current&&(e==null||e(o))},Zk=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging});function Qk({isSelecting:e,selectionKeyPressed:n,selectionMode:o=ls.Full,panOnDrag:i,selectionOnDrag:l,onSelectionStart:a,onSelectionEnd:u,onPaneClick:d,onPaneContextMenu:f,onPaneScroll:y,onPaneMouseEnter:g,onPaneMouseMove:h,onPaneMouseLeave:m,children:v}){const S=Xe(),{userSelectionActive:b,elementsSelectable:k,dragging:I}=ze(Zk,tt),T=k&&(e||b),C=M.useRef(null),_=M.useRef(),F=M.useRef(new Set),V=M.useRef(new Set),P=M.useRef(!1),O=M.useRef(!1),W=$=>{if(P.current){P.current=!1;return}d==null||d($),S.getState().resetSelectedElements(),S.setState({nodesSelectionActive:!1})},U=$=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){$.preventDefault();return}f==null||f($)},Q=y?$=>y($):void 0,Z=$=>{var D,B;const{resetSelectedElements:L,domNode:j}=S.getState();if(_.current=j==null?void 0:j.getBoundingClientRect(),!k||!e||$.button!==0||$.target!==C.current||!_.current)return;(B=(D=$.target)==null?void 0:D.setPointerCapture)==null||B.call(D,$.pointerId),O.current=!0,P.current=!1;const{x:A,y:R}=Rn($.nativeEvent,_.current);L(),S.setState({userSelectionRect:{width:0,height:0,startX:A,startY:R,x:A,y:R}}),a==null||a($)},X=$=>{const{userSelectionRect:L,transform:j,nodeLookup:A,edgeLookup:R,connectionLookup:D,triggerNodeChanges:B,triggerEdgeChanges:ne,defaultEdgeOptions:te}=S.getState();if(!_.current||!L)return;P.current=!0;const{x:le,y:se}=Rn($.nativeEvent,_.current),{startX:re,startY:ue}=L,de={startX:re,startY:ue,x:le<re?le:re,y:se<ue?se:ue,width:Math.abs(le-re),height:Math.abs(se-ue)},Me=F.current,Ce=V.current;F.current=new Set(d0(A,de,j,o===ls.Partial,!0).map(De=>De.id)),V.current=new Set;const be=(te==null?void 0:te.selectable)??!0;for(const De of F.current){const $e=D.get(De);if($e)for(const{edgeId:rt}of $e.values()){const Ct=R.get(rt);Ct&&(Ct.selectable??be)&&V.current.add(rt)}}if(!Sg(Me,F.current)){const De=Oo(A,F.current,!0);B(De)}if(!Sg(Ce,V.current)){const De=Oo(R,V.current);ne(De)}S.setState({userSelectionRect:de,userSelectionActive:!0,nodesSelectionActive:!1})},N=$=>{var j,A;if($.button!==0||!O.current)return;(A=(j=$.target)==null?void 0:j.releasePointerCapture)==null||A.call(j,$.pointerId);const{userSelectionRect:L}=S.getState();!b&&L&&$.target===C.current&&(W==null||W($)),S.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:F.current.size>0}),u==null||u($),(n||l)&&(P.current=!1),O.current=!1},Y=i===!0||Array.isArray(i)&&i.includes(0);return x.jsxs("div",{className:st(["react-flow__pane",{draggable:Y,dragging:I,selection:e}]),onClick:T?void 0:sd(W,C),onContextMenu:sd(U,C),onWheel:sd(Q,C),onPointerEnter:T?void 0:g,onPointerDown:T?Z:h,onPointerMove:T?X:h,onPointerUp:T?N:void 0,onPointerLeave:m,ref:C,style:ja,children:[v,x.jsx(Xk,{})]})}function Ld({id:e,store:n,unselect:o=!1,nodeRef:i}){const{addSelectedNodes:l,unselectNodesAndEdges:a,multiSelectionActive:u,nodeLookup:d,onError:f}=n.getState(),y=d.get(e);if(!y){f==null||f("012",Sn.error012(e));return}n.setState({nodesSelectionActive:!1}),y.selected?(o||y.selected&&u)&&(a({nodes:[y],edges:[]}),requestAnimationFrame(()=>{var g;return(g=i==null?void 0:i.current)==null?void 0:g.blur()})):l([e])}function U0({nodeRef:e,disabled:n=!1,noDragClassName:o,handleSelector:i,nodeId:l,isSelectable:a,nodeClickDistance:u}){const d=Xe(),[f,y]=M.useState(!1),g=M.useRef();return M.useEffect(()=>{g.current=zE({getStoreItems:()=>d.getState(),onNodeMouseDown:h=>{Ld({id:h,store:d,nodeRef:e})},onDragStart:()=>{y(!0)},onDragStop:()=>{y(!1)}})},[]),M.useEffect(()=>{var h,m;if(n)(h=g.current)==null||h.destroy();else if(e.current)return(m=g.current)==null||m.update({noDragClassName:o,handleSelector:i,domNode:e.current,isSelectable:a,nodeId:l,nodeClickDistance:u}),()=>{var v;(v=g.current)==null||v.destroy()}},[o,i,n,a,e,l]),f}const Kk=e=>n=>n.selected&&(n.draggable||e&&typeof n.draggable>"u");function Y0(){const e=Xe();return M.useCallback(o=>{const{nodeExtent:i,snapToGrid:l,snapGrid:a,nodesDraggable:u,onError:d,updateNodePositions:f,nodeLookup:y,nodeOrigin:g}=e.getState(),h=new Map,m=Kk(u),v=l?a[0]:5,S=l?a[1]:5,b=o.direction.x*v*o.factor,k=o.direction.y*S*o.factor;for(const[,I]of y){if(!m(I))continue;let T={x:I.internals.positionAbsolute.x+b,y:I.internals.positionAbsolute.y+k};l&&(T=Ma(T,a));const{position:C,positionAbsolute:_}=f0({nodeId:I.id,nextPosition:T,nodeLookup:y,nodeExtent:i,nodeOrigin:g,onError:d});I.position=C,I.internals.positionAbsolute=_,h.set(I.id,I)}f(h)},[])}const nf=M.createContext(null),qk=nf.Provider;nf.Consumer;const G0=()=>M.useContext(nf),Jk=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),e3=(e,n,o)=>i=>{const{connectionClickStartHandle:l,connectionMode:a,connection:u}=i,{fromHandle:d,toHandle:f,isValid:y}=u,g=(f==null?void 0:f.nodeId)===e&&(f==null?void 0:f.id)===n&&(f==null?void 0:f.type)===o;return{connectingFrom:(d==null?void 0:d.nodeId)===e&&(d==null?void 0:d.id)===n&&(d==null?void 0:d.type)===o,connectingTo:g,clickConnecting:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===n&&(l==null?void 0:l.type)===o,isPossibleEndHandle:a===Jr.Strict?(d==null?void 0:d.type)!==o:e!==(d==null?void 0:d.nodeId)||n!==(d==null?void 0:d.id),connectionInProcess:!!d,clickConnectionInProcess:!!l,valid:g&&y}};function t3({type:e="source",position:n=Se.Top,isValidConnection:o,isConnectable:i=!0,isConnectableStart:l=!0,isConnectableEnd:a=!0,id:u,onConnect:d,children:f,className:y,onMouseDown:g,onTouchStart:h,...m},v){var Y,$;const S=u||null,b=e==="target",k=Xe(),I=G0(),{connectOnClick:T,noPanClassName:C,rfId:_}=ze(Jk,tt),{connectingFrom:F,connectingTo:V,clickConnecting:P,isPossibleEndHandle:O,connectionInProcess:W,clickConnectionInProcess:U,valid:Q}=ze(e3(I,S,e),tt);I||($=(Y=k.getState()).onError)==null||$.call(Y,"010",Sn.error010());const Z=L=>{const{defaultEdgeOptions:j,onConnect:A,hasDefaultEdges:R}=k.getState(),D={...j,...L};if(R){const{edges:B,setEdges:ne}=k.getState();ne(EE(D,B))}A==null||A(D),d==null||d(D)},X=L=>{if(!I)return;const j=w0(L.nativeEvent);if(l&&(j&&L.button===0||!j)){const A=k.getState();Ad.onPointerDown(L.nativeEvent,{autoPanOnConnect:A.autoPanOnConnect,connectionMode:A.connectionMode,connectionRadius:A.connectionRadius,domNode:A.domNode,nodeLookup:A.nodeLookup,lib:A.lib,isTarget:b,handleId:S,nodeId:I,flowId:A.rfId,panBy:A.panBy,cancelConnection:A.cancelConnection,onConnectStart:A.onConnectStart,onConnectEnd:A.onConnectEnd,updateConnection:A.updateConnection,onConnect:Z,isValidConnection:o||A.isValidConnection,getTransform:()=>k.getState().transform,getFromHandle:()=>k.getState().connection.fromHandle,autoPanSpeed:A.autoPanSpeed})}j?g==null||g(L):h==null||h(L)},N=L=>{const{onClickConnectStart:j,onClickConnectEnd:A,connectionClickStartHandle:R,connectionMode:D,isValidConnection:B,lib:ne,rfId:te,nodeLookup:le,connection:se}=k.getState();if(!I||!R&&!l)return;if(!R){j==null||j(L.nativeEvent,{nodeId:I,handleId:S,handleType:e}),k.setState({connectionClickStartHandle:{nodeId:I,type:e,id:S}});return}const re=x0(L.target),ue=o||B,{connection:de,isValid:Me}=Ad.isValid(L.nativeEvent,{handle:{nodeId:I,id:S,type:e},connectionMode:D,fromNodeId:R.nodeId,fromHandleId:R.id||null,fromType:R.type,isValidConnection:ue,flowId:te,doc:re,lib:ne,nodeLookup:le});Me&&de&&Z(de);const Ce=structuredClone(se);delete Ce.inProgress,Ce.toPosition=Ce.toHandle?Ce.toHandle.position:null,A==null||A(L,Ce),k.setState({connectionClickStartHandle:null})};return x.jsx("div",{"data-handleid":S,"data-nodeid":I,"data-handlepos":n,"data-id":`${_}-${I}-${S}-${e}`,className:st(["react-flow__handle",`react-flow__handle-${n}`,"nodrag",C,y,{source:!b,target:b,connectable:i,connectablestart:l,connectableend:a,clickconnecting:P,connectingfrom:F,connectingto:V,valid:Q,connectionindicator:i&&(!W||O)&&(W||U?a:l)}]),onMouseDown:X,onTouchStart:X,onClick:T?N:void 0,ref:v,...m,children:f})}const qo=M.memo(H0(t3));function n3({data:e,isConnectable:n,sourcePosition:o=Se.Bottom}){return x.jsxs(x.Fragment,{children:[e==null?void 0:e.label,x.jsx(qo,{type:"source",position:o,isConnectable:n})]})}function r3({data:e,isConnectable:n,targetPosition:o=Se.Top,sourcePosition:i=Se.Bottom}){return x.jsxs(x.Fragment,{children:[x.jsx(qo,{type:"target",position:o,isConnectable:n}),e==null?void 0:e.label,x.jsx(qo,{type:"source",position:i,isConnectable:n})]})}function o3(){return null}function i3({data:e,isConnectable:n,targetPosition:o=Se.Top}){return x.jsxs(x.Fragment,{children:[x.jsx(qo,{type:"target",position:o,isConnectable:n}),e==null?void 0:e.label]})}const va={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Kg={input:n3,default:r3,output:i3,group:o3};function s3(e){var n,o,i,l;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((n=e.style)==null?void 0:n.width),height:e.height??e.initialHeight??((o=e.style)==null?void 0:o.height)}:{width:e.width??((i=e.style)==null?void 0:i.width),height:e.height??((l=e.style)==null?void 0:l.height)}}const l3=e=>{const{width:n,height:o,x:i,y:l}=ms(e.nodeLookup,{filter:a=>!!a.selected});return{width:dn(n)?n:null,height:dn(o)?o:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${i}px,${l}px)`}};function a3({onSelectionContextMenu:e,noPanClassName:n,disableKeyboardA11y:o}){const i=Xe(),{width:l,height:a,transformString:u,userSelectionActive:d}=ze(l3,tt),f=Y0(),y=M.useRef(null);if(M.useEffect(()=>{var m;o||(m=y.current)==null||m.focus({preventScroll:!0})},[o]),U0({nodeRef:y}),d||!l||!a)return null;const g=e?m=>{const v=i.getState().nodes.filter(S=>S.selected);e(m,v)}:void 0,h=m=>{Object.prototype.hasOwnProperty.call(va,m.key)&&(m.preventDefault(),f({direction:va[m.key],factor:m.shiftKey?4:1}))};return x.jsx("div",{className:st(["react-flow__nodesselection","react-flow__container",n]),style:{transform:u},children:x.jsx("div",{ref:y,className:"react-flow__nodesselection-rect",onContextMenu:g,tabIndex:o?void 0:-1,onKeyDown:o?void 0:h,style:{width:l,height:a}})})}const qg=typeof window<"u"?window:void 0,c3=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function X0({children:e,onPaneClick:n,onPaneMouseEnter:o,onPaneMouseMove:i,onPaneMouseLeave:l,onPaneContextMenu:a,onPaneScroll:u,paneClickDistance:d,deleteKeyCode:f,selectionKeyCode:y,selectionOnDrag:g,selectionMode:h,onSelectionStart:m,onSelectionEnd:v,multiSelectionKeyCode:S,panActivationKeyCode:b,zoomActivationKeyCode:k,elementsSelectable:I,zoomOnScroll:T,zoomOnPinch:C,panOnScroll:_,panOnScrollSpeed:F,panOnScrollMode:V,zoomOnDoubleClick:P,panOnDrag:O,defaultViewport:W,translateExtent:U,minZoom:Q,maxZoom:Z,preventScrolling:X,onSelectionContextMenu:N,noWheelClassName:Y,noPanClassName:$,disableKeyboardA11y:L,onViewportChange:j,isControlledViewport:A}){const{nodesSelectionActive:R,userSelectionActive:D}=ze(c3),B=us(y,{target:qg}),ne=us(b,{target:qg}),te=ne||O,le=ne||_,se=g&&te!==!0,re=B||D||se;return Hk({deleteKeyCode:f,multiSelectionKeyCode:S}),x.jsx(Yk,{onPaneContextMenu:a,elementsSelectable:I,zoomOnScroll:T,zoomOnPinch:C,panOnScroll:le,panOnScrollSpeed:F,panOnScrollMode:V,zoomOnDoubleClick:P,panOnDrag:!B&&te,defaultViewport:W,translateExtent:U,minZoom:Q,maxZoom:Z,zoomActivationKeyCode:k,preventScrolling:X,noWheelClassName:Y,noPanClassName:$,onViewportChange:j,isControlledViewport:A,paneClickDistance:d,children:x.jsxs(Qk,{onSelectionStart:m,onSelectionEnd:v,onPaneClick:n,onPaneMouseEnter:o,onPaneMouseMove:i,onPaneMouseLeave:l,onPaneContextMenu:a,onPaneScroll:u,panOnDrag:te,isSelecting:!!re,selectionMode:h,selectionKeyPressed:B,selectionOnDrag:se,children:[e,R&&x.jsx(a3,{onSelectionContextMenu:N,noPanClassName:$,disableKeyboardA11y:L})]})})}X0.displayName="FlowRenderer";const u3=M.memo(X0),d3=e=>n=>e?d0(n.nodeLookup,{x:0,y:0,width:n.width,height:n.height},n.transform,!0).map(o=>o.id):Array.from(n.nodeLookup.keys());function f3(e){return ze(M.useCallback(d3(e),[e]),tt)}const p3=e=>e.updateNodeInternals;function h3(){const e=ze(p3),[n]=M.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(o=>{const i=new Map;o.forEach(l=>{const a=l.target.getAttribute("data-id");i.set(a,{id:a,nodeElement:l.target,force:!0})}),e(i)}));return M.useEffect(()=>()=>{n==null||n.disconnect()},[n]),n}function g3({node:e,nodeType:n,hasDimensions:o,resizeObserver:i}){const l=Xe(),a=M.useRef(null),u=M.useRef(null),d=M.useRef(e.sourcePosition),f=M.useRef(e.targetPosition),y=M.useRef(n),g=o&&!!e.internals.handleBounds;return M.useEffect(()=>{a.current&&!e.hidden&&(!g||u.current!==a.current)&&(u.current&&(i==null||i.unobserve(u.current)),i==null||i.observe(a.current),u.current=a.current)},[g,e.hidden]),M.useEffect(()=>()=>{u.current&&(i==null||i.unobserve(u.current),u.current=null)},[]),M.useEffect(()=>{if(a.current){const h=y.current!==n,m=d.current!==e.sourcePosition,v=f.current!==e.targetPosition;(h||m||v)&&(y.current=n,d.current=e.sourcePosition,f.current=e.targetPosition,l.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:a.current,force:!0}]])))}},[e.id,n,e.sourcePosition,e.targetPosition]),a}function m3({id:e,onClick:n,onMouseEnter:o,onMouseMove:i,onMouseLeave:l,onContextMenu:a,onDoubleClick:u,nodesDraggable:d,elementsSelectable:f,nodesConnectable:y,nodesFocusable:g,resizeObserver:h,noDragClassName:m,noPanClassName:v,disableKeyboardA11y:S,rfId:b,nodeTypes:k,nodeClickDistance:I,onError:T}){const{node:C,internals:_,isParent:F}=ze(re=>{const ue=re.nodeLookup.get(e),de=re.parentLookup.has(e);return{node:ue,internals:ue.internals,isParent:de}},tt);let V=C.type||"default",P=(k==null?void 0:k[V])||Kg[V];P===void 0&&(T==null||T("003",Sn.error003(V)),V="default",P=Kg.default);const O=!!(C.draggable||d&&typeof C.draggable>"u"),W=!!(C.selectable||f&&typeof C.selectable>"u"),U=!!(C.connectable||y&&typeof C.connectable>"u"),Q=!!(C.focusable||g&&typeof C.focusable>"u"),Z=Xe(),X=y0(C),N=g3({node:C,nodeType:V,hasDimensions:X,resizeObserver:h}),Y=U0({nodeRef:N,disabled:C.hidden||!O,noDragClassName:m,handleSelector:C.dragHandle,nodeId:e,isSelectable:W,nodeClickDistance:I}),$=Y0();if(C.hidden)return null;const L=Fn(C),j=s3(C),A=W||O||n||o||i||l,R=o?re=>o(re,{..._.userNode}):void 0,D=i?re=>i(re,{..._.userNode}):void 0,B=l?re=>l(re,{..._.userNode}):void 0,ne=a?re=>a(re,{..._.userNode}):void 0,te=u?re=>u(re,{..._.userNode}):void 0,le=re=>{const{selectNodesOnDrag:ue,nodeDragThreshold:de}=Z.getState();W&&(!ue||!O||de>0)&&Ld({id:e,store:Z,nodeRef:N}),n&&n(re,{..._.userNode})},se=re=>{if(!(Dd(re.nativeEvent)||S))if(l0.includes(re.key)&&W){const ue=re.key==="Escape";Ld({id:e,store:Z,unselect:ue,nodeRef:N})}else O&&C.selected&&Object.prototype.hasOwnProperty.call(va,re.key)&&(re.preventDefault(),Z.setState({ariaLiveMessage:`Moved selected node ${re.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~_.positionAbsolute.x}, y: ${~~_.positionAbsolute.y}`}),$({direction:va[re.key],factor:re.shiftKey?4:1}))};return x.jsx("div",{className:st(["react-flow__node",`react-flow__node-${V}`,{[v]:O},C.className,{selected:C.selected,selectable:W,parent:F,draggable:O,dragging:Y}]),ref:N,style:{zIndex:_.z,transform:`translate(${_.positionAbsolute.x}px,${_.positionAbsolute.y}px)`,pointerEvents:A?"all":"none",visibility:X?"visible":"hidden",...C.style,...j},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:R,onMouseMove:D,onMouseLeave:B,onContextMenu:ne,onClick:le,onDoubleClick:te,onKeyDown:Q?se:void 0,tabIndex:Q?0:void 0,role:Q?"button":void 0,"aria-describedby":S?void 0:`${R0}-${b}`,"aria-label":C.ariaLabel,children:x.jsx(qk,{value:e,children:x.jsx(P,{id:e,data:C.data,type:V,positionAbsoluteX:_.positionAbsolute.x,positionAbsoluteY:_.positionAbsolute.y,selected:C.selected??!1,selectable:W,draggable:O,deletable:C.deletable??!0,isConnectable:U,sourcePosition:C.sourcePosition,targetPosition:C.targetPosition,dragging:Y,dragHandle:C.dragHandle,zIndex:_.z,parentId:C.parentId,...L})})})}const y3=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function Z0(e){const{nodesDraggable:n,nodesConnectable:o,nodesFocusable:i,elementsSelectable:l,onError:a}=ze(y3,tt),u=f3(e.onlyRenderVisibleElements),d=h3();return x.jsx("div",{className:"react-flow__nodes",style:ja,children:u.map(f=>x.jsx(m3,{id:f,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:d,nodesDraggable:n,nodesConnectable:o,nodesFocusable:i,elementsSelectable:l,nodeClickDistance:e.nodeClickDistance,onError:a},f))})}Z0.displayName="NodeRenderer";const v3=M.memo(Z0);function x3(e){return ze(M.useCallback(o=>{if(!e)return o.edges.map(l=>l.id);const i=[];if(o.width&&o.height)for(const l of o.edges){const a=o.nodeLookup.get(l.source),u=o.nodeLookup.get(l.target);a&&u&&wE({sourceNode:a,targetNode:u,width:o.width,height:o.height,transform:o.transform})&&i.push(l.id)}return i},[e]),tt)}const w3=({color:e="none",strokeWidth:n=1})=>x.jsx("polyline",{style:{stroke:e,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),b3=({color:e="none",strokeWidth:n=1})=>x.jsx("polyline",{style:{stroke:e,fill:e,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Jg={[ga.Arrow]:w3,[ga.ArrowClosed]:b3};function S3(e){const n=Xe();return M.useMemo(()=>{var l,a;return Object.prototype.hasOwnProperty.call(Jg,e)?Jg[e]:((a=(l=n.getState()).onError)==null||a.call(l,"009",Sn.error009(e)),null)},[e])}const E3=({id:e,type:n,color:o,width:i=12.5,height:l=12.5,markerUnits:a="strokeWidth",strokeWidth:u,orient:d="auto-start-reverse"})=>{const f=S3(n);return f?x.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${i}`,markerHeight:`${l}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:d,refX:"0",refY:"0",children:x.jsx(f,{color:o,strokeWidth:u})}):null},Q0=({defaultColor:e,rfId:n})=>{const o=ze(a=>a.edges),i=ze(a=>a.defaultEdgeOptions),l=M.useMemo(()=>NE(o,{id:n,defaultColor:e,defaultMarkerStart:i==null?void 0:i.markerStart,defaultMarkerEnd:i==null?void 0:i.markerEnd}),[o,i,n,e]);return l.length?x.jsx("svg",{className:"react-flow__marker",children:x.jsx("defs",{children:l.map(a=>x.jsx(E3,{id:a.id,type:a.type,color:a.color,width:a.width,height:a.height,markerUnits:a.markerUnits,strokeWidth:a.strokeWidth,orient:a.orient},a.id))})}):null};Q0.displayName="MarkerDefinitions";var k3=M.memo(Q0);function K0({x:e,y:n,label:o,labelStyle:i={},labelShowBg:l=!0,labelBgStyle:a={},labelBgPadding:u=[2,4],labelBgBorderRadius:d=2,children:f,className:y,...g}){const[h,m]=M.useState({x:1,y:0,width:0,height:0}),v=st(["react-flow__edge-textwrapper",y]),S=M.useRef(null);return M.useEffect(()=>{if(S.current){const b=S.current.getBBox();m({x:b.x,y:b.y,width:b.width,height:b.height})}},[o]),typeof o>"u"||!o?null:x.jsxs("g",{transform:`translate(${e-h.width/2} ${n-h.height/2})`,className:v,visibility:h.width?"visible":"hidden",...g,children:[l&&x.jsx("rect",{width:h.width+2*u[0],x:-u[0],y:-u[1],height:h.height+2*u[1],className:"react-flow__edge-textbg",style:a,rx:d,ry:d}),x.jsx("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:S,style:i,children:o}),f]})}K0.displayName="EdgeText";const C3=M.memo(K0);function Aa({path:e,labelX:n,labelY:o,label:i,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,interactionWidth:y=20,...g}){return x.jsxs(x.Fragment,{children:[x.jsx("path",{...g,d:e,fill:"none",className:st(["react-flow__edge-path",g.className])}),y&&x.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:y,className:"react-flow__edge-interaction"}),i&&dn(n)&&dn(o)?x.jsx(C3,{x:n,y:o,label:i,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f}):null]})}function em({pos:e,x1:n,y1:o,x2:i,y2:l}){return e===Se.Left||e===Se.Right?[.5*(n+i),o]:[n,.5*(o+l)]}function q0({sourceX:e,sourceY:n,sourcePosition:o=Se.Bottom,targetX:i,targetY:l,targetPosition:a=Se.Top}){const[u,d]=em({pos:o,x1:e,y1:n,x2:i,y2:l}),[f,y]=em({pos:a,x1:i,y1:l,x2:e,y2:n}),[g,h,m,v]=b0({sourceX:e,sourceY:n,targetX:i,targetY:l,sourceControlX:u,sourceControlY:d,targetControlX:f,targetControlY:y});return[`M${e},${n} C${u},${d} ${f},${y} ${i},${l}`,g,h,m,v]}function J0(e){return M.memo(({id:n,sourceX:o,sourceY:i,targetX:l,targetY:a,sourcePosition:u=Se.Bottom,targetPosition:d=Se.Top,label:f,labelStyle:y,labelShowBg:g,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:v,style:S,markerEnd:b,markerStart:k,interactionWidth:I})=>{const[T,C,_]=q0({sourceX:o,sourceY:i,sourcePosition:u,targetX:l,targetY:a,targetPosition:d}),F=e.isInternal?void 0:n;return x.jsx(Aa,{id:F,path:T,labelX:C,labelY:_,label:f,labelStyle:y,labelShowBg:g,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:v,style:S,markerEnd:b,markerStart:k,interactionWidth:I})})}const _3=J0({isInternal:!1}),ey=J0({isInternal:!0});_3.displayName="SimpleBezierEdge";ey.displayName="SimpleBezierEdgeInternal";function ty(e){return M.memo(({id:n,sourceX:o,sourceY:i,targetX:l,targetY:a,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:y,labelBgPadding:g,labelBgBorderRadius:h,style:m,sourcePosition:v=Se.Bottom,targetPosition:S=Se.Top,markerEnd:b,markerStart:k,pathOptions:I,interactionWidth:T})=>{const[C,_,F]=Td({sourceX:o,sourceY:i,sourcePosition:v,targetX:l,targetY:a,targetPosition:S,borderRadius:I==null?void 0:I.borderRadius,offset:I==null?void 0:I.offset}),V=e.isInternal?void 0:n;return x.jsx(Aa,{id:V,path:C,labelX:_,labelY:F,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:y,labelBgPadding:g,labelBgBorderRadius:h,style:m,markerEnd:b,markerStart:k,interactionWidth:T})})}const ny=ty({isInternal:!1}),ry=ty({isInternal:!0});ny.displayName="SmoothStepEdge";ry.displayName="SmoothStepEdgeInternal";function oy(e){return M.memo(({id:n,...o})=>{var l;const i=e.isInternal?void 0:n;return x.jsx(ny,{...o,id:i,pathOptions:M.useMemo(()=>{var a;return{borderRadius:0,offset:(a=o.pathOptions)==null?void 0:a.offset}},[(l=o.pathOptions)==null?void 0:l.offset])})})}const I3=oy({isInternal:!1}),iy=oy({isInternal:!0});I3.displayName="StepEdge";iy.displayName="StepEdgeInternal";function sy(e){return M.memo(({id:n,sourceX:o,sourceY:i,targetX:l,targetY:a,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:y,labelBgPadding:g,labelBgBorderRadius:h,style:m,markerEnd:v,markerStart:S,interactionWidth:b})=>{const[k,I,T]=k0({sourceX:o,sourceY:i,targetX:l,targetY:a}),C=e.isInternal?void 0:n;return x.jsx(Aa,{id:C,path:k,labelX:I,labelY:T,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:y,labelBgPadding:g,labelBgBorderRadius:h,style:m,markerEnd:v,markerStart:S,interactionWidth:b})})}const N3=sy({isInternal:!1}),ly=sy({isInternal:!0});N3.displayName="StraightEdge";ly.displayName="StraightEdgeInternal";function ay(e){return M.memo(({id:n,sourceX:o,sourceY:i,targetX:l,targetY:a,sourcePosition:u=Se.Bottom,targetPosition:d=Se.Top,label:f,labelStyle:y,labelShowBg:g,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:v,style:S,markerEnd:b,markerStart:k,pathOptions:I,interactionWidth:T})=>{const[C,_,F]=S0({sourceX:o,sourceY:i,sourcePosition:u,targetX:l,targetY:a,targetPosition:d,curvature:I==null?void 0:I.curvature}),V=e.isInternal?void 0:n;return x.jsx(Aa,{id:V,path:C,labelX:_,labelY:F,label:f,labelStyle:y,labelShowBg:g,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:v,style:S,markerEnd:b,markerStart:k,interactionWidth:T})})}const M3=ay({isInternal:!1}),cy=ay({isInternal:!0});M3.displayName="BezierEdge";cy.displayName="BezierEdgeInternal";const tm={default:cy,straight:ly,step:iy,smoothstep:ry,simplebezier:ey},nm={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},D3=(e,n,o)=>o===Se.Left?e-n:o===Se.Right?e+n:e,T3=(e,n,o)=>o===Se.Top?e-n:o===Se.Bottom?e+n:e,rm="react-flow__edgeupdater";function om({position:e,centerX:n,centerY:o,radius:i=10,onMouseDown:l,onMouseEnter:a,onMouseOut:u,type:d}){return x.jsx("circle",{onMouseDown:l,onMouseEnter:a,onMouseOut:u,className:st([rm,`${rm}-${d}`]),cx:D3(n,i,e),cy:T3(o,i,e),r:i,stroke:"transparent",fill:"transparent"})}function P3({isReconnectable:e,reconnectRadius:n,edge:o,sourceX:i,sourceY:l,targetX:a,targetY:u,sourcePosition:d,targetPosition:f,onReconnect:y,onReconnectStart:g,onReconnectEnd:h,setReconnecting:m,setUpdateHover:v}){const S=Xe(),b=(_,F)=>{if(_.button!==0)return;const{autoPanOnConnect:V,domNode:P,isValidConnection:O,connectionMode:W,connectionRadius:U,lib:Q,onConnectStart:Z,onConnectEnd:X,cancelConnection:N,nodeLookup:Y,rfId:$,panBy:L,updateConnection:j}=S.getState(),A=F.type==="target";m(!0),g==null||g(_,o,F.type);const R=(B,ne)=>{m(!1),h==null||h(B,o,F.type,ne)},D=B=>y==null?void 0:y(o,B);Ad.onPointerDown(_.nativeEvent,{autoPanOnConnect:V,connectionMode:W,connectionRadius:U,domNode:P,handleId:F.id,nodeId:F.nodeId,nodeLookup:Y,isTarget:A,edgeUpdaterType:F.type,lib:Q,flowId:$,cancelConnection:N,panBy:L,isValidConnection:O,onConnect:D,onConnectStart:Z,onConnectEnd:X,onReconnectEnd:R,updateConnection:j,getTransform:()=>S.getState().transform,getFromHandle:()=>S.getState().connection.fromHandle})},k=_=>b(_,{nodeId:o.target,id:o.targetHandle??null,type:"target"}),I=_=>b(_,{nodeId:o.source,id:o.sourceHandle??null,type:"source"}),T=()=>v(!0),C=()=>v(!1);return x.jsxs(x.Fragment,{children:[(e===!0||e==="source")&&x.jsx(om,{position:d,centerX:i,centerY:l,radius:n,onMouseDown:k,onMouseEnter:T,onMouseOut:C,type:"source"}),(e===!0||e==="target")&&x.jsx(om,{position:f,centerX:a,centerY:u,radius:n,onMouseDown:I,onMouseEnter:T,onMouseOut:C,type:"target"})]})}function j3({id:e,edgesFocusable:n,edgesReconnectable:o,elementsSelectable:i,onClick:l,onDoubleClick:a,onContextMenu:u,onMouseEnter:d,onMouseMove:f,onMouseLeave:y,reconnectRadius:g,onReconnect:h,onReconnectStart:m,onReconnectEnd:v,rfId:S,edgeTypes:b,noPanClassName:k,onError:I,disableKeyboardA11y:T}){let C=ze(be=>be.edgeLookup.get(e));const _=ze(be=>be.defaultEdgeOptions);C=_?{..._,...C}:C;let F=C.type||"default",V=(b==null?void 0:b[F])||tm[F];V===void 0&&(I==null||I("011",Sn.error011(F)),F="default",V=tm.default);const P=!!(C.focusable||n&&typeof C.focusable>"u"),O=typeof h<"u"&&(C.reconnectable||o&&typeof C.reconnectable>"u"),W=!!(C.selectable||i&&typeof C.selectable>"u"),U=M.useRef(null),[Q,Z]=M.useState(!1),[X,N]=M.useState(!1),Y=Xe(),{zIndex:$,sourceX:L,sourceY:j,targetX:A,targetY:R,sourcePosition:D,targetPosition:B}=ze(M.useCallback(be=>{const De=be.nodeLookup.get(C.source),$e=be.nodeLookup.get(C.target);if(!De||!$e)return{zIndex:C.zIndex,...nm};const rt=IE({id:e,sourceNode:De,targetNode:$e,sourceHandle:C.sourceHandle||null,targetHandle:C.targetHandle||null,connectionMode:be.connectionMode,onError:I});return{zIndex:xE({selected:C.selected,zIndex:C.zIndex,sourceNode:De,targetNode:$e,elevateOnSelect:be.elevateEdgesOnSelect}),...rt||nm}},[C.source,C.target,C.sourceHandle,C.targetHandle,C.selected,C.zIndex]),tt),ne=M.useMemo(()=>C.markerStart?`url('#${Pd(C.markerStart,S)}')`:void 0,[C.markerStart,S]),te=M.useMemo(()=>C.markerEnd?`url('#${Pd(C.markerEnd,S)}')`:void 0,[C.markerEnd,S]);if(C.hidden||L===null||j===null||A===null||R===null)return null;const le=be=>{var Ct;const{addSelectedEdges:De,unselectNodesAndEdges:$e,multiSelectionActive:rt}=Y.getState();W&&(Y.setState({nodesSelectionActive:!1}),C.selected&&rt?($e({nodes:[],edges:[C]}),(Ct=U.current)==null||Ct.blur()):De([e])),l&&l(be,C)},se=a?be=>{a(be,{...C})}:void 0,re=u?be=>{u(be,{...C})}:void 0,ue=d?be=>{d(be,{...C})}:void 0,de=f?be=>{f(be,{...C})}:void 0,Me=y?be=>{y(be,{...C})}:void 0,Ce=be=>{var De;if(!T&&l0.includes(be.key)&&W){const{unselectNodesAndEdges:$e,addSelectedEdges:rt}=Y.getState();be.key==="Escape"?((De=U.current)==null||De.blur(),$e({edges:[C]})):rt([e])}};return x.jsx("svg",{style:{zIndex:$},children:x.jsxs("g",{className:st(["react-flow__edge",`react-flow__edge-${F}`,C.className,k,{selected:C.selected,animated:C.animated,inactive:!W&&!l,updating:Q,selectable:W}]),onClick:le,onDoubleClick:se,onContextMenu:re,onMouseEnter:ue,onMouseMove:de,onMouseLeave:Me,onKeyDown:P?Ce:void 0,tabIndex:P?0:void 0,role:P?"button":"img","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":C.ariaLabel===null?void 0:C.ariaLabel||`Edge from ${C.source} to ${C.target}`,"aria-describedby":P?`${$0}-${S}`:void 0,ref:U,children:[!X&&x.jsx(V,{id:e,source:C.source,target:C.target,type:C.type,selected:C.selected,animated:C.animated,selectable:W,deletable:C.deletable??!0,label:C.label,labelStyle:C.labelStyle,labelShowBg:C.labelShowBg,labelBgStyle:C.labelBgStyle,labelBgPadding:C.labelBgPadding,labelBgBorderRadius:C.labelBgBorderRadius,sourceX:L,sourceY:j,targetX:A,targetY:R,sourcePosition:D,targetPosition:B,data:C.data,style:C.style,sourceHandleId:C.sourceHandle,targetHandleId:C.targetHandle,markerStart:ne,markerEnd:te,pathOptions:"pathOptions"in C?C.pathOptions:void 0,interactionWidth:C.interactionWidth}),O&&x.jsx(P3,{edge:C,isReconnectable:O,reconnectRadius:g,onReconnect:h,onReconnectStart:m,onReconnectEnd:v,sourceX:L,sourceY:j,targetX:A,targetY:R,sourcePosition:D,targetPosition:B,setUpdateHover:Z,setReconnecting:N})]})})}const A3=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function uy({defaultMarkerColor:e,onlyRenderVisibleElements:n,rfId:o,edgeTypes:i,noPanClassName:l,onReconnect:a,onEdgeContextMenu:u,onEdgeMouseEnter:d,onEdgeMouseMove:f,onEdgeMouseLeave:y,onEdgeClick:g,reconnectRadius:h,onEdgeDoubleClick:m,onReconnectStart:v,onReconnectEnd:S,disableKeyboardA11y:b}){const{edgesFocusable:k,edgesReconnectable:I,elementsSelectable:T,onError:C}=ze(A3,tt),_=x3(n);return x.jsxs("div",{className:"react-flow__edges",children:[x.jsx(k3,{defaultColor:e,rfId:o}),_.map(F=>x.jsx(j3,{id:F,edgesFocusable:k,edgesReconnectable:I,elementsSelectable:T,noPanClassName:l,onReconnect:a,onContextMenu:u,onMouseEnter:d,onMouseMove:f,onMouseLeave:y,onClick:g,reconnectRadius:h,onDoubleClick:m,onReconnectStart:v,onReconnectEnd:S,rfId:o,onError:C,edgeTypes:i,disableKeyboardA11y:b},F))]})}uy.displayName="EdgeRenderer";const L3=M.memo(uy),z3=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function R3({children:e}){const n=ze(z3);return x.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:n},children:e})}function $3(e){const n=tf(),o=M.useRef(!1);M.useEffect(()=>{!o.current&&n.viewportInitialized&&e&&(setTimeout(()=>e(n),1),o.current=!0)},[e,n.viewportInitialized])}const O3=e=>{var n;return(n=e.panZoom)==null?void 0:n.syncViewport};function F3(e){const n=ze(O3),o=Xe();return M.useEffect(()=>{e&&(n==null||n(e),o.setState({transform:[e.x,e.y,e.zoom]}))},[e,n]),null}function B3(e){return e.connection.inProgress?{...e.connection,to:ys(e.connection.to,e.transform)}:{...e.connection}}function V3(e){return B3}function H3(e){const n=V3();return ze(n,tt)}const W3=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function U3({containerStyle:e,style:n,type:o,component:i}){const{nodesConnectable:l,width:a,height:u,isValid:d,inProgress:f}=ze(W3,tt);return!(a&&l&&f)?null:x.jsx("svg",{style:e,width:a,height:u,className:"react-flow__connectionline react-flow__container",children:x.jsx("g",{className:st(["react-flow__connection",c0(d)]),children:x.jsx(dy,{style:n,type:o,CustomComponent:i,isValid:d})})})}const dy=({style:e,type:n=Sr.Bezier,CustomComponent:o,isValid:i})=>{const{inProgress:l,from:a,fromNode:u,fromHandle:d,fromPosition:f,to:y,toNode:g,toHandle:h,toPosition:m}=H3();if(!l)return;if(o)return x.jsx(o,{connectionLineType:n,connectionLineStyle:e,fromNode:u,fromHandle:d,fromX:a.x,fromY:a.y,toX:y.x,toY:y.y,fromPosition:f,toPosition:m,connectionStatus:c0(i),toNode:g,toHandle:h});let v="";const S={sourceX:a.x,sourceY:a.y,sourcePosition:f,targetX:y.x,targetY:y.y,targetPosition:m};switch(n){case Sr.Bezier:[v]=S0(S);break;case Sr.SimpleBezier:[v]=q0(S);break;case Sr.Step:[v]=Td({...S,borderRadius:0});break;case Sr.SmoothStep:[v]=Td(S);break;default:[v]=k0(S)}return x.jsx("path",{d:v,fill:"none",className:"react-flow__connection-path",style:e})};dy.displayName="ConnectionLine";const Y3={};function im(e=Y3){M.useRef(e),Xe(),M.useEffect(()=>{},[e])}function G3(){Xe(),M.useRef(!1),M.useEffect(()=>{},[])}function fy({nodeTypes:e,edgeTypes:n,onInit:o,onNodeClick:i,onEdgeClick:l,onNodeDoubleClick:a,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:y,onNodeContextMenu:g,onSelectionContextMenu:h,onSelectionStart:m,onSelectionEnd:v,connectionLineType:S,connectionLineStyle:b,connectionLineComponent:k,connectionLineContainerStyle:I,selectionKeyCode:T,selectionOnDrag:C,selectionMode:_,multiSelectionKeyCode:F,panActivationKeyCode:V,zoomActivationKeyCode:P,deleteKeyCode:O,onlyRenderVisibleElements:W,elementsSelectable:U,defaultViewport:Q,translateExtent:Z,minZoom:X,maxZoom:N,preventScrolling:Y,defaultMarkerColor:$,zoomOnScroll:L,zoomOnPinch:j,panOnScroll:A,panOnScrollSpeed:R,panOnScrollMode:D,zoomOnDoubleClick:B,panOnDrag:ne,onPaneClick:te,onPaneMouseEnter:le,onPaneMouseMove:se,onPaneMouseLeave:re,onPaneScroll:ue,onPaneContextMenu:de,paneClickDistance:Me,nodeClickDistance:Ce,onEdgeContextMenu:be,onEdgeMouseEnter:De,onEdgeMouseMove:$e,onEdgeMouseLeave:rt,reconnectRadius:Ct,onReconnect:Er,onReconnectStart:to,onReconnectEnd:kr,noDragClassName:en,noWheelClassName:pn,noPanClassName:Cn,disableKeyboardA11y:Bn,nodeExtent:no,rfId:Vn,viewport:Hn,onViewportChange:Wn}){return im(e),im(n),G3(),$3(o),F3(Hn),x.jsx(u3,{onPaneClick:te,onPaneMouseEnter:le,onPaneMouseMove:se,onPaneMouseLeave:re,onPaneContextMenu:de,onPaneScroll:ue,paneClickDistance:Me,deleteKeyCode:O,selectionKeyCode:T,selectionOnDrag:C,selectionMode:_,onSelectionStart:m,onSelectionEnd:v,multiSelectionKeyCode:F,panActivationKeyCode:V,zoomActivationKeyCode:P,elementsSelectable:U,zoomOnScroll:L,zoomOnPinch:j,zoomOnDoubleClick:B,panOnScroll:A,panOnScrollSpeed:R,panOnScrollMode:D,panOnDrag:ne,defaultViewport:Q,translateExtent:Z,minZoom:X,maxZoom:N,onSelectionContextMenu:h,preventScrolling:Y,noDragClassName:en,noWheelClassName:pn,noPanClassName:Cn,disableKeyboardA11y:Bn,onViewportChange:Wn,isControlledViewport:!!Hn,children:x.jsxs(R3,{children:[x.jsx(L3,{edgeTypes:n,onEdgeClick:l,onEdgeDoubleClick:u,onReconnect:Er,onReconnectStart:to,onReconnectEnd:kr,onlyRenderVisibleElements:W,onEdgeContextMenu:be,onEdgeMouseEnter:De,onEdgeMouseMove:$e,onEdgeMouseLeave:rt,reconnectRadius:Ct,defaultMarkerColor:$,noPanClassName:Cn,disableKeyboardA11y:Bn,rfId:Vn}),x.jsx(U3,{style:b,type:S,component:k,containerStyle:I}),x.jsx("div",{className:"react-flow__edgelabel-renderer"}),x.jsx(v3,{nodeTypes:e,onNodeClick:i,onNodeDoubleClick:a,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:y,onNodeContextMenu:g,nodeClickDistance:Ce,onlyRenderVisibleElements:W,noPanClassName:Cn,noDragClassName:en,disableKeyboardA11y:Bn,nodeExtent:no,rfId:Vn}),x.jsx("div",{className:"react-flow__viewport-portal"})]})})}fy.displayName="GraphView";const X3=M.memo(fy),sm=({nodes:e,edges:n,defaultNodes:o,defaultEdges:i,width:l,height:a,fitView:u,nodeOrigin:d,nodeExtent:f}={})=>{const y=new Map,g=new Map,h=new Map,m=new Map,v=i??n??[],S=o??e??[],b=d??[0,0],k=f??ss;_0(h,m,v),jd(S,y,g,{nodeOrigin:b,nodeExtent:k,elevateNodesOnSelect:!1});let I=[0,0,1];if(u&&l&&a){const T=ms(y,{filter:V=>!!((V.width||V.initialWidth)&&(V.height||V.initialHeight))}),{x:C,y:_,zoom:F}=Qd(T,l,a,.5,2,.1);I=[C,_,F]}return{rfId:"1",width:0,height:0,transform:I,nodes:S,nodeLookup:y,parentLookup:g,edges:v,edgeLookup:m,connectionLookup:h,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:o!==void 0,hasDefaultEdges:i!==void 0,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:ss,nodeExtent:k,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Jr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:b,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...a0},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:yE,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},Z3=({nodes:e,edges:n,defaultNodes:o,defaultEdges:i,width:l,height:a,fitView:u,nodeOrigin:d,nodeExtent:f})=>hk((y,g)=>({...sm({nodes:e,edges:n,width:l,height:a,fitView:u,nodeOrigin:d,nodeExtent:f,defaultNodes:o,defaultEdges:i}),setNodes:h=>{const{nodeLookup:m,parentLookup:v,nodeOrigin:S,elevateNodesOnSelect:b}=g();jd(h,m,v,{nodeOrigin:S,nodeExtent:f,elevateNodesOnSelect:b,checkEquality:!0}),y({nodes:h})},setEdges:h=>{const{connectionLookup:m,edgeLookup:v}=g();_0(m,v,h),y({edges:h})},setDefaultNodesAndEdges:(h,m)=>{if(h){const{setNodes:v}=g();v(h),y({hasDefaultNodes:!0})}if(m){const{setEdges:v}=g();v(m),y({hasDefaultEdges:!0})}},updateNodeInternals:(h,m={triggerFitView:!0})=>{const{triggerNodeChanges:v,nodeLookup:S,parentLookup:b,fitViewOnInit:k,fitViewDone:I,fitViewOnInitOptions:T,domNode:C,nodeOrigin:_,nodeExtent:F,debug:V,fitViewSync:P}=g(),{changes:O,updatedInternals:W}=jE(h,S,b,C,_,F);if(W){if(DE(S,b,{nodeOrigin:_,nodeExtent:F}),m.triggerFitView){let U=I;!I&&k&&(U=P({...T,nodes:T==null?void 0:T.nodes})),y({fitViewDone:U})}else y({});(O==null?void 0:O.length)>0&&(V&&console.log("React Flow: trigger node changes",O),v==null||v(O))}},updateNodePositions:(h,m=!1)=>{const v=[],S=[],{nodeLookup:b,triggerNodeChanges:k}=g();for(const[I,T]of h){const C=b.get(I),_=!!(C!=null&&C.expandParent&&(C!=null&&C.parentId)&&(T!=null&&T.position)),F={id:I,type:"position",position:_?{x:Math.max(0,T.position.x),y:Math.max(0,T.position.y)}:T.position,dragging:m};_&&C.parentId&&v.push({id:I,parentId:C.parentId,rect:{...T.internals.positionAbsolute,width:T.measured.width??0,height:T.measured.height??0}}),S.push(F)}if(v.length>0){const{parentLookup:I,nodeOrigin:T}=g(),C=ef(v,b,I,T);S.push(...C)}k(S)},triggerNodeChanges:h=>{const{onNodesChange:m,setNodes:v,nodes:S,hasDefaultNodes:b,debug:k}=g();if(h!=null&&h.length){if(b){const I=B0(h,S);v(I)}k&&console.log("React Flow: trigger node changes",h),m==null||m(h)}},triggerEdgeChanges:h=>{const{onEdgesChange:m,setEdges:v,edges:S,hasDefaultEdges:b,debug:k}=g();if(h!=null&&h.length){if(b){const I=V0(h,S);v(I)}k&&console.log("React Flow: trigger edge changes",h),m==null||m(h)}},addSelectedNodes:h=>{const{multiSelectionActive:m,edgeLookup:v,nodeLookup:S,triggerNodeChanges:b,triggerEdgeChanges:k}=g();if(m){const I=h.map(T=>Ur(T,!0));b(I);return}b(Oo(S,new Set([...h]),!0)),k(Oo(v))},addSelectedEdges:h=>{const{multiSelectionActive:m,edgeLookup:v,nodeLookup:S,triggerNodeChanges:b,triggerEdgeChanges:k}=g();if(m){const I=h.map(T=>Ur(T,!0));k(I);return}k(Oo(v,new Set([...h]))),b(Oo(S,new Set,!0))},unselectNodesAndEdges:({nodes:h,edges:m}={})=>{const{edges:v,nodes:S,nodeLookup:b,triggerNodeChanges:k,triggerEdgeChanges:I}=g(),T=h||S,C=m||v,_=T.map(V=>{const P=b.get(V.id);return P&&(P.selected=!1),Ur(V.id,!1)}),F=C.map(V=>Ur(V.id,!1));k(_),I(F)},setMinZoom:h=>{const{panZoom:m,maxZoom:v}=g();m==null||m.setScaleExtent([h,v]),y({minZoom:h})},setMaxZoom:h=>{const{panZoom:m,minZoom:v}=g();m==null||m.setScaleExtent([v,h]),y({maxZoom:h})},setTranslateExtent:h=>{var m;(m=g().panZoom)==null||m.setTranslateExtent(h),y({translateExtent:h})},setPaneClickDistance:h=>{var m;(m=g().panZoom)==null||m.setClickDistance(h)},resetSelectedElements:()=>{const{edges:h,nodes:m,triggerNodeChanges:v,triggerEdgeChanges:S}=g(),b=m.reduce((I,T)=>T.selected?[...I,Ur(T.id,!1)]:I,[]),k=h.reduce((I,T)=>T.selected?[...I,Ur(T.id,!1)]:I,[]);v(b),S(k)},setNodeExtent:h=>{const{nodes:m,nodeLookup:v,parentLookup:S,nodeOrigin:b,elevateNodesOnSelect:k,nodeExtent:I}=g();h[0][0]===I[0][0]&&h[0][1]===I[0][1]&&h[1][0]===I[1][0]&&h[1][1]===I[1][1]||(jd(m,v,S,{nodeOrigin:b,nodeExtent:h,elevateNodesOnSelect:k,checkEquality:!1}),y({nodeExtent:h}))},panBy:h=>{const{transform:m,width:v,height:S,panZoom:b,translateExtent:k}=g();return AE({delta:h,panZoom:b,transform:m,translateExtent:k,width:v,height:S})},fitView:h=>{const{panZoom:m,width:v,height:S,minZoom:b,maxZoom:k,nodeLookup:I}=g();if(!m)return Promise.resolve(!1);const T=Id(I,h);return Nd({nodes:T,width:v,height:S,panZoom:m,minZoom:b,maxZoom:k},h)},fitViewSync:h=>{const{panZoom:m,width:v,height:S,minZoom:b,maxZoom:k,nodeLookup:I}=g();if(!m)return!1;const T=Id(I,h);return Nd({nodes:T,width:v,height:S,panZoom:m,minZoom:b,maxZoom:k},h),T.size>0},cancelConnection:()=>{y({connection:{...a0}})},updateConnection:h=>{y({connection:h})},reset:()=>y({...sm()})}),Object.is);function py({initialNodes:e,initialEdges:n,defaultNodes:o,defaultEdges:i,initialWidth:l,initialHeight:a,fitView:u,nodeOrigin:d,nodeExtent:f,children:y}){const[g]=M.useState(()=>Z3({nodes:e,edges:n,defaultNodes:o,defaultEdges:i,width:l,height:a,fitView:u,nodeOrigin:d,nodeExtent:f}));return x.jsx(gk,{value:g,children:x.jsx($k,{children:y})})}function Q3({children:e,nodes:n,edges:o,defaultNodes:i,defaultEdges:l,width:a,height:u,fitView:d,nodeOrigin:f,nodeExtent:y}){return M.useContext(Pa)?x.jsx(x.Fragment,{children:e}):x.jsx(py,{initialNodes:n,initialEdges:o,defaultNodes:i,defaultEdges:l,initialWidth:a,initialHeight:u,fitView:d,nodeOrigin:f,nodeExtent:y,children:e})}const K3={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function q3({nodes:e,edges:n,defaultNodes:o,defaultEdges:i,className:l,nodeTypes:a,edgeTypes:u,onNodeClick:d,onEdgeClick:f,onInit:y,onMove:g,onMoveStart:h,onMoveEnd:m,onConnect:v,onConnectStart:S,onConnectEnd:b,onClickConnectStart:k,onClickConnectEnd:I,onNodeMouseEnter:T,onNodeMouseMove:C,onNodeMouseLeave:_,onNodeContextMenu:F,onNodeDoubleClick:V,onNodeDragStart:P,onNodeDrag:O,onNodeDragStop:W,onNodesDelete:U,onEdgesDelete:Q,onDelete:Z,onSelectionChange:X,onSelectionDragStart:N,onSelectionDrag:Y,onSelectionDragStop:$,onSelectionContextMenu:L,onSelectionStart:j,onSelectionEnd:A,onBeforeDelete:R,connectionMode:D,connectionLineType:B=Sr.Bezier,connectionLineStyle:ne,connectionLineComponent:te,connectionLineContainerStyle:le,deleteKeyCode:se="Backspace",selectionKeyCode:re="Shift",selectionOnDrag:ue=!1,selectionMode:de=ls.Full,panActivationKeyCode:Me="Space",multiSelectionKeyCode:Ce=ya()?"Meta":"Control",zoomActivationKeyCode:be=ya()?"Meta":"Control",snapToGrid:De,snapGrid:$e,onlyRenderVisibleElements:rt=!1,selectNodesOnDrag:Ct,nodesDraggable:Er,nodesConnectable:to,nodesFocusable:kr,nodeOrigin:en=O0,edgesFocusable:pn,edgesReconnectable:Cn,elementsSelectable:Bn=!0,defaultViewport:no=Nk,minZoom:Vn=.5,maxZoom:Hn=2,translateExtent:Wn=ss,preventScrolling:ro=!0,nodeExtent:oo,defaultMarkerColor:Cr="#b1b1b7",zoomOnScroll:_r=!0,zoomOnPinch:La=!0,panOnScroll:xs=!1,panOnScrollSpeed:ws=.5,panOnScrollMode:za=Kr.Free,zoomOnDoubleClick:ti=!0,panOnDrag:ni=!0,onPaneClick:ri,onPaneMouseEnter:oi,onPaneMouseMove:ii,onPaneMouseLeave:Un,onPaneScroll:Yn,onPaneContextMenu:bs,paneClickDistance:si=0,nodeClickDistance:Ss=0,children:Es,onReconnect:ks,onReconnectStart:li,onReconnectEnd:Cs,onEdgeContextMenu:Ir,onEdgeDoubleClick:ai,onEdgeMouseEnter:Nr,onEdgeMouseMove:Ra,onEdgeMouseLeave:Mr,reconnectRadius:io=10,onNodesChange:so,onEdgesChange:ci,noDragClassName:$a="nodrag",noWheelClassName:Oa="nowheel",noPanClassName:_s="nopan",fitView:hn,fitViewOptions:Is,connectOnClick:Ns,attributionPosition:Fa,proOptions:Ms,defaultEdgeOptions:Ds,elevateNodesOnSelect:Ts,elevateEdgesOnSelect:Ps,disableKeyboardA11y:js=!1,autoPanOnConnect:Ba,autoPanOnNodeDrag:Ze,autoPanSpeed:Va,connectionRadius:ui,isValidConnection:As,onError:lo,style:Ha,id:di,nodeDragThreshold:ao,viewport:Wt,onViewportChange:Wa,width:jt,height:Ua,colorMode:Ya="light",debug:Ga,onScroll:_n,...co},Dr){const Gn=di||"1",Xa=Pk(Ya),Za=M.useCallback(uo=>{uo.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),_n==null||_n(uo)},[_n]);return x.jsx("div",{"data-testid":"rf__wrapper",...co,onScroll:Za,style:{...Ha,...K3},ref:Dr,className:st(["react-flow",l,Xa]),id:di,children:x.jsxs(Q3,{nodes:e,edges:n,width:jt,height:Ua,fitView:hn,nodeOrigin:en,nodeExtent:oo,children:[x.jsx(X3,{onInit:y,onNodeClick:d,onEdgeClick:f,onNodeMouseEnter:T,onNodeMouseMove:C,onNodeMouseLeave:_,onNodeContextMenu:F,onNodeDoubleClick:V,nodeTypes:a,edgeTypes:u,connectionLineType:B,connectionLineStyle:ne,connectionLineComponent:te,connectionLineContainerStyle:le,selectionKeyCode:re,selectionOnDrag:ue,selectionMode:de,deleteKeyCode:se,multiSelectionKeyCode:Ce,panActivationKeyCode:Me,zoomActivationKeyCode:be,onlyRenderVisibleElements:rt,defaultViewport:no,translateExtent:Wn,minZoom:Vn,maxZoom:Hn,preventScrolling:ro,zoomOnScroll:_r,zoomOnPinch:La,zoomOnDoubleClick:ti,panOnScroll:xs,panOnScrollSpeed:ws,panOnScrollMode:za,panOnDrag:ni,onPaneClick:ri,onPaneMouseEnter:oi,onPaneMouseMove:ii,onPaneMouseLeave:Un,onPaneScroll:Yn,onPaneContextMenu:bs,paneClickDistance:si,nodeClickDistance:Ss,onSelectionContextMenu:L,onSelectionStart:j,onSelectionEnd:A,onReconnect:ks,onReconnectStart:li,onReconnectEnd:Cs,onEdgeContextMenu:Ir,onEdgeDoubleClick:ai,onEdgeMouseEnter:Nr,onEdgeMouseMove:Ra,onEdgeMouseLeave:Mr,reconnectRadius:io,defaultMarkerColor:Cr,noDragClassName:$a,noWheelClassName:Oa,noPanClassName:_s,rfId:Gn,disableKeyboardA11y:js,nodeExtent:oo,viewport:Wt,onViewportChange:Wa}),x.jsx(Tk,{nodes:e,edges:n,defaultNodes:o,defaultEdges:i,onConnect:v,onConnectStart:S,onConnectEnd:b,onClickConnectStart:k,onClickConnectEnd:I,nodesDraggable:Er,nodesConnectable:to,nodesFocusable:kr,edgesFocusable:pn,edgesReconnectable:Cn,elementsSelectable:Bn,elevateNodesOnSelect:Ts,elevateEdgesOnSelect:Ps,minZoom:Vn,maxZoom:Hn,nodeExtent:oo,onNodesChange:so,onEdgesChange:ci,snapToGrid:De,snapGrid:$e,connectionMode:D,translateExtent:Wn,connectOnClick:Ns,defaultEdgeOptions:Ds,fitView:hn,fitViewOptions:Is,onNodesDelete:U,onEdgesDelete:Q,onDelete:Z,onNodeDragStart:P,onNodeDrag:O,onNodeDragStop:W,onSelectionDrag:Y,onSelectionDragStart:N,onSelectionDragStop:$,onMove:g,onMoveStart:h,onMoveEnd:m,noPanClassName:_s,nodeOrigin:en,rfId:Gn,autoPanOnConnect:Ba,autoPanOnNodeDrag:Ze,autoPanSpeed:Va,onError:lo,connectionRadius:ui,isValidConnection:As,selectNodesOnDrag:Ct,nodeDragThreshold:ao,onBeforeDelete:R,paneClickDistance:si,debug:Ga}),x.jsx(Ik,{onSelectionChange:X}),Es,x.jsx(Sk,{proOptions:Ms,position:Fa}),x.jsx(wk,{rfId:Gn,disableKeyboardA11y:js})]})})}var J3=H0(q3);function eC(e){const[n,o]=M.useState(e),i=M.useCallback(l=>o(a=>B0(l,a)),[]);return[n,o,i]}function tC(e){const[n,o]=M.useState(e),i=M.useCallback(l=>o(a=>V0(l,a)),[]);return[n,o,i]}function nC({dimensions:e,lineWidth:n,variant:o,className:i}){return x.jsx("path",{strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:st(["react-flow__background-pattern",o,i])})}function rC({radius:e,className:n}){return x.jsx("circle",{cx:e,cy:e,r:e,className:st(["react-flow__background-pattern","dots",n])})}var $n;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})($n||($n={}));const oC={[$n.Dots]:1,[$n.Lines]:1,[$n.Cross]:6},iC=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function hy({id:e,variant:n=$n.Dots,gap:o=20,size:i,lineWidth:l=1,offset:a=0,color:u,bgColor:d,style:f,className:y,patternClassName:g}){const h=M.useRef(null),{transform:m,patternId:v}=ze(iC,tt),S=i||oC[n],b=n===$n.Dots,k=n===$n.Cross,I=Array.isArray(o)?o:[o,o],T=[I[0]*m[2]||1,I[1]*m[2]||1],C=S*m[2],_=Array.isArray(a)?a:[a,a],F=k?[C,C]:T,V=[_[0]*m[2]||1+F[0]/2,_[1]*m[2]||1+F[1]/2],P=`${v}${e||""}`;return x.jsxs("svg",{className:st(["react-flow__background",y]),style:{...f,...ja,"--xy-background-color-props":d,"--xy-background-pattern-color-props":u},ref:h,"data-testid":"rf__background",children:[x.jsx("pattern",{id:P,x:m[0]%T[0],y:m[1]%T[1],width:T[0],height:T[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${V[0]},-${V[1]})`,children:b?x.jsx(rC,{radius:C/2,className:g}):x.jsx(nC,{dimensions:F,lineWidth:l,variant:n,className:g})}),x.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${P})`})]})}hy.displayName="Background";const sC=M.memo(hy);function lC(){return x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:x.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function aC(){return x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:x.jsx("path",{d:"M0 0h32v4.2H0z"})})}function cC(){return x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:x.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function uC(){return x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:x.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function dC(){return x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:x.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Ql({children:e,className:n,...o}){return x.jsx("button",{type:"button",className:st(["react-flow__controls-button",n]),...o,children:e})}const fC=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom});function gy({style:e,showZoom:n=!0,showFitView:o=!0,showInteractive:i=!0,fitViewOptions:l,onZoomIn:a,onZoomOut:u,onFitView:d,onInteractiveChange:f,className:y,children:g,position:h="bottom-left",orientation:m="vertical","aria-label":v="React Flow controls"}){const S=Xe(),{isInteractive:b,minZoomReached:k,maxZoomReached:I}=ze(fC,tt),{zoomIn:T,zoomOut:C,fitView:_}=tf(),F=()=>{T(),a==null||a()},V=()=>{C(),u==null||u()},P=()=>{_(l),d==null||d()},O=()=>{S.setState({nodesDraggable:!b,nodesConnectable:!b,elementsSelectable:!b}),f==null||f(!b)},W=m==="horizontal"?"horizontal":"vertical";return x.jsxs(vs,{className:st(["react-flow__controls",W,y]),position:h,style:e,"data-testid":"rf__controls","aria-label":v,children:[n&&x.jsxs(x.Fragment,{children:[x.jsx(Ql,{onClick:F,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:I,children:x.jsx(lC,{})}),x.jsx(Ql,{onClick:V,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:k,children:x.jsx(aC,{})})]}),o&&x.jsx(Ql,{className:"react-flow__controls-fitview",onClick:P,title:"fit view","aria-label":"fit view",children:x.jsx(cC,{})}),i&&x.jsx(Ql,{className:"react-flow__controls-interactive",onClick:O,title:"toggle interactivity","aria-label":"toggle interactivity",children:b?x.jsx(dC,{}):x.jsx(uC,{})}),g]})}gy.displayName="Controls";const pC=M.memo(gy);function hC({id:e,x:n,y:o,width:i,height:l,style:a,color:u,strokeColor:d,strokeWidth:f,className:y,borderRadius:g,shapeRendering:h,selected:m,onClick:v}){const{background:S,backgroundColor:b}=a||{},k=u||S||b;return x.jsx("rect",{className:st(["react-flow__minimap-node",{selected:m},y]),x:n,y:o,rx:g,ry:g,width:i,height:l,style:{fill:k,stroke:d,strokeWidth:f},shapeRendering:h,onClick:v?I=>v(I,e):void 0})}const gC=M.memo(hC),mC=e=>e.nodes.map(n=>n.id),ld=e=>e instanceof Function?e:()=>e;function yC({nodeStrokeColor:e,nodeColor:n,nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:l,nodeComponent:a=gC,onClick:u}){const d=ze(mC,tt),f=ld(n),y=ld(e),g=ld(o),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return x.jsx(x.Fragment,{children:d.map(m=>x.jsx(xC,{id:m,nodeColorFunc:f,nodeStrokeColorFunc:y,nodeClassNameFunc:g,nodeBorderRadius:i,nodeStrokeWidth:l,NodeComponent:a,onClick:u,shapeRendering:h},m))})}function vC({id:e,nodeColorFunc:n,nodeStrokeColorFunc:o,nodeClassNameFunc:i,nodeBorderRadius:l,nodeStrokeWidth:a,shapeRendering:u,NodeComponent:d,onClick:f}){const{node:y,x:g,y:h,width:m,height:v}=ze(S=>{const b=S.nodeLookup.get(e),{x:k,y:I}=b.internals.positionAbsolute,{width:T,height:C}=Fn(b);return{node:b,x:k,y:I,width:T,height:C}},tt);return!y||y.hidden||!y0(y)?null:x.jsx(d,{x:g,y:h,width:m,height:v,style:y.style,selected:!!y.selected,className:i(y),color:n(y),borderRadius:l,strokeColor:o(y),strokeWidth:a,shapeRendering:u,onClick:f,id:y.id})}const xC=M.memo(vC);var wC=M.memo(yC);const bC=200,SC=150,EC=e=>{const n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:e.nodeLookup.size>0?g0(ms(e.nodeLookup),n):n,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height}},kC="react-flow__minimap-desc";function my({style:e,className:n,nodeStrokeColor:o,nodeColor:i,nodeClassName:l="",nodeBorderRadius:a=5,nodeStrokeWidth:u,nodeComponent:d,bgColor:f,maskColor:y,maskStrokeColor:g,maskStrokeWidth:h,position:m="bottom-right",onClick:v,onNodeClick:S,pannable:b=!1,zoomable:k=!1,ariaLabel:I="React Flow mini map",inversePan:T,zoomStep:C=10,offsetScale:_=5}){const F=Xe(),V=M.useRef(null),{boundingRect:P,viewBB:O,rfId:W,panZoom:U,translateExtent:Q,flowWidth:Z,flowHeight:X}=ze(EC,tt),N=(e==null?void 0:e.width)??bC,Y=(e==null?void 0:e.height)??SC,$=P.width/N,L=P.height/Y,j=Math.max($,L),A=j*N,R=j*Y,D=_*j,B=P.x-(A-P.width)/2-D,ne=P.y-(R-P.height)/2-D,te=A+D*2,le=R+D*2,se=`${kC}-${W}`,re=M.useRef(0),ue=M.useRef();re.current=j,M.useEffect(()=>{if(V.current&&U)return ue.current=VE({domNode:V.current,panZoom:U,getTransform:()=>F.getState().transform,getViewScale:()=>re.current}),()=>{var Ce;(Ce=ue.current)==null||Ce.destroy()}},[U]),M.useEffect(()=>{var Ce;(Ce=ue.current)==null||Ce.update({translateExtent:Q,width:Z,height:X,inversePan:T,pannable:b,zoomStep:C,zoomable:k})},[b,k,T,C,Q,Z,X]);const de=v?Ce=>{var $e;const[be,De]=(($e=ue.current)==null?void 0:$e.pointer(Ce))||[0,0];v(Ce,{x:be,y:De})}:void 0,Me=S?M.useCallback((Ce,be)=>{const De=F.getState().nodeLookup.get(be);S(Ce,De)},[]):void 0;return x.jsx(vs,{position:m,style:{...e,"--xy-minimap-background-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-background-color-props":typeof y=="string"?y:void 0,"--xy-minimap-mask-stroke-color-props":typeof g=="string"?g:void 0,"--xy-minimap-mask-stroke-width-props":typeof h=="number"?h*j:void 0,"--xy-minimap-node-background-color-props":typeof i=="string"?i:void 0,"--xy-minimap-node-stroke-color-props":typeof o=="string"?o:void 0,"--xy-minimap-node-stroke-width-props":typeof u=="string"?u:void 0},className:st(["react-flow__minimap",n]),"data-testid":"rf__minimap",children:x.jsxs("svg",{width:N,height:Y,viewBox:`${B} ${ne} ${te} ${le}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":se,ref:V,onClick:de,children:[I&&x.jsx("title",{id:se,children:I}),x.jsx(wC,{onClick:Me,nodeColor:i,nodeStrokeColor:o,nodeBorderRadius:a,nodeClassName:l,nodeStrokeWidth:u,nodeComponent:d}),x.jsx("path",{className:"react-flow__minimap-mask",d:`M${B-D},${ne-D}h${te+D*2}v${le+D*2}h${-te-D*2}z
        M${O.x},${O.y}h${O.width}v${O.height}h${-O.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}my.displayName="MiniMap";M.memo(my);function CC({nodeId:e,position:n,variant:o=Ji.Handle,className:i,style:l={},children:a,color:u,minWidth:d=10,minHeight:f=10,maxWidth:y=Number.MAX_VALUE,maxHeight:g=Number.MAX_VALUE,keepAspectRatio:h=!1,shouldResize:m,onResizeStart:v,onResize:S,onResizeEnd:b}){const k=G0(),I=typeof e=="string"?e:k,T=Xe(),C=M.useRef(null),_=o===Ji.Line?"right":"bottom-right",F=n??_,V=M.useRef(null);M.useEffect(()=>{if(!(!C.current||!I))return V.current||(V.current=rk({domNode:C.current,nodeId:I,getStoreItems:()=>{const{nodeLookup:U,transform:Q,snapGrid:Z,snapToGrid:X,nodeOrigin:N,domNode:Y}=T.getState();return{nodeLookup:U,transform:Q,snapGrid:Z,snapToGrid:X,nodeOrigin:N,paneDomNode:Y}},onChange:(U,Q)=>{const{triggerNodeChanges:Z,nodeLookup:X,parentLookup:N,nodeOrigin:Y}=T.getState(),$=[],L={x:U.x,y:U.y},j=X.get(I);if(j&&j.expandParent&&j.parentId){const A=j.origin??Y,R=U.width??j.measured.width??0,D=U.height??j.measured.height??0,B={id:j.id,parentId:j.parentId,rect:{width:R,height:D,...v0({x:U.x??j.position.x,y:U.y??j.position.y},{width:R,height:D},j.parentId,X,A)}},ne=ef([B],X,N,Y);$.push(...ne),L.x=U.x?Math.max(A[0]*R,U.x):void 0,L.y=U.y?Math.max(A[1]*D,U.y):void 0}if(L.x!==void 0&&L.y!==void 0){const A={id:I,type:"position",position:{...L}};$.push(A)}if(U.width!==void 0&&U.height!==void 0){const A={id:I,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:U.width,height:U.height}};$.push(A)}for(const A of Q){const R={...A,type:"position"};$.push(R)}Z($)},onEnd:()=>{const U={id:I,type:"dimensions",resizing:!1};T.getState().triggerNodeChanges([U])}})),V.current.update({controlPosition:F,boundaries:{minWidth:d,minHeight:f,maxWidth:y,maxHeight:g},keepAspectRatio:h,onResizeStart:v,onResize:S,onResizeEnd:b,shouldResize:m}),()=>{var U;(U=V.current)==null||U.destroy()}},[F,d,f,y,g,h,v,S,b,m]);const P=F.split("-"),O=o===Ji.Line?"borderColor":"backgroundColor",W=u?{...l,[O]:u}:l;return x.jsx("div",{className:st(["react-flow__resize-control","nodrag",...P,o,i]),ref:C,style:W,children:a})}M.memo(CC);function _C(e,n,o){const[i,l]=M.useState(!1),a=M.useRef(o);M.useEffect(()=>{a.current=o},[o]);const u=M.useCallback(g=>{n&&(g.preventDefault(),g.dataTransfer.dropEffect="move",l(!0))},[n]),d=M.useCallback(()=>{l(!1)},[]),f=M.useCallback(g=>{if(n){g.preventDefault(),l(!1);try{const h=g.dataTransfer.getData("application/json");if(!h){console.warn("No drag data found");return}const m=JSON.parse(h);if(m.type==="component-definition"){let v;if(m.definitionId?v=m.definitionId:m.id?v=m.id:m.data&&m.data.definitionId&&(v=m.data.definitionId),!v){console.error("Missing definition ID in drag data:",m);return}const S={x:g.nativeEvent.offsetX,y:g.nativeEvent.offsetY},b={x:{value:S.x,unit:"px"},y:{value:S.y,unit:"px"}},k=it.addComponentToWidget(e,v,b);k&&a.current&&a.current(k.id);const I=new CustomEvent("widget-updated",{detail:{widgetId:e,action:"component-added"}});document.dispatchEvent(I)}}catch(h){console.error("Error handling drop:",h)}}},[n,e]);return{dropProps:M.useMemo(()=>({onDragOver:u,onDragLeave:d,onDrop:f,"data-widget-id":e,"data-edit-mode":n?"true":"false",className:i?"drop-target-active":""}),[u,d,f,e,n,i]),isOver:i}}const IC=({position:e,isActive:n=!0,isContainer:o=!1,className:i,children:l,style:a})=>{const[u,d]=M.useState(!1),f=M.useRef(null);if(M.useEffect(()=>{if(e&&n){const S=setTimeout(()=>d(!0),50);return()=>clearTimeout(S)}else d(!1)},[e,n]),!e||!n||e===Be.INSIDE&&!o)return null;const y="drop-indicator pointer-events-none absolute z-[100] transition-opacity duration-200",g="animate-pulse",h=u?"opacity-100":"opacity-0",m=()=>{switch(e){case Be.BEFORE:return Pe("drop-indicator-before","top-0 left-0 right-0 h-1 bg-blue-500","rounded-t-sm shadow-sm");case Be.AFTER:return Pe("drop-indicator-after","bottom-0 left-0 right-0 h-1 bg-blue-500","rounded-b-sm shadow-sm");case Be.INSIDE:return Pe("drop-indicator-inside","inset-0 border-2 border-dashed border-blue-500 bg-blue-500 bg-opacity-10","rounded-sm");default:return""}},v={...e===Be.BEFORE&&{height:"4px",boxShadow:"0 0 4px rgba(59, 130, 246, 0.5)"},...e===Be.AFTER&&{height:"4px",boxShadow:"0 0 4px rgba(59, 130, 246, 0.5)"},...a};return x.jsx("div",{ref:f,className:Pe(y,m(),g,h,i),style:v,"data-drop-position":e,children:e===Be.INSIDE&&l})};class NC{constructor(){an(this,"currentTarget",null)}findDropTargetAtPosition(n,o,i){var f,y,g,h,m,v,S;const l=Bl.findAllComponentsAtPosition(n,o,i);l.sort((b,k)=>k.depth-b.depth);const a=aa.getState().dragSource;if(((f=a==null?void 0:a.data)==null?void 0:f.widgetId)&&a.data.widgetId!==n&&a.data.widgetId!=="palette"&&console.log(`Cross-widget drag detected from ${(y=a==null?void 0:a.data)==null?void 0:y.widgetId} to ${n}`),l.length===0)return console.log("[FindTarget] No components found, using widget as target"),{widgetId:n,componentId:null,position:Be.INSIDE,element:null,canDrop:!0,isContainer:!0,sourceWidgetId:(g=a==null?void 0:a.data)==null?void 0:g.widgetId};const d=l.filter(b=>b.element.getAttribute("data-is-container")==="true");if(d.length>0){const b=d[0],k=b.element,I=k.hasAttribute("data-no-drop")||k.classList.contains("non-droppable");if(I&&d.length>1){const T=d[1];return this.determineDropTargetInfo(n,T.id,T.element,o,i,(h=a==null?void 0:a.data)==null?void 0:h.widgetId)}if(!I)return this.determineDropTargetInfo(n,b.id,k,o,i,(m=a==null?void 0:a.data)==null?void 0:m.widgetId)}if(l.length>0){const b=l[0],k=b.element;return this.determineDropTargetInfo(n,b.id,k,o,i,(v=a==null?void 0:a.data)==null?void 0:v.widgetId)}return{widgetId:n,componentId:null,position:Be.INSIDE,element:null,canDrop:!0,isContainer:!0,sourceWidgetId:(S=a==null?void 0:a.data)==null?void 0:S.widgetId}}determineDropTargetInfo(n,o,i,l,a,u){const d=i.hasAttribute("data-is-container")&&i.getAttribute("data-is-container")==="true",f=i.getAttribute("data-parent-id"),y=d?[Be.BEFORE,Be.AFTER,Be.INSIDE]:[Be.BEFORE,Be.AFTER],g=Bl.calculateDropPosition(i,l,a,d,y);return console.log(`[FindTarget] Target ${o} (container: ${d}), position: ${g}`),{widgetId:n,componentId:o,position:g,element:i,canDrop:!0,isContainer:d,parentId:f,sourceWidgetId:u}}updateDropTarget(n){if(this.clearCurrentIndicators(),!n){this.currentTarget=null;return}if(this.currentTarget=n,n.componentId&&n.position&&n.element){if(console.log(`Setting drop position: ${n.componentId} -> ${n.position}`),n.element&&(n.element.setAttribute("data-drop-before","false"),n.element.setAttribute("data-drop-after","false"),n.element.setAttribute("data-drop-inside","false")),Bl.setDropPosition(n.componentId,n.element,n.position,n.isContainer),n.element&&n.position)n.element.setAttribute(`data-drop-${n.position}`,"true");else if(!n.componentId&&n.widgetId){const o=document.querySelector(`[data-widget-id="${n.widgetId}"]`);o instanceof HTMLElement&&o.classList.add("widget-drop-target")}}}clearCurrentIndicators(){var o;if(console.log("AGGRESSIVE CLEANUP: Clearing all drop indicators and attributes"),this.currentTarget&&this.currentTarget.componentId){const i=document.querySelector(`[data-component-id="${this.currentTarget.componentId}"]`);i instanceof HTMLElement&&(i.setAttribute("data-drop-before","false"),i.setAttribute("data-drop-after","false"),i.setAttribute("data-drop-inside","false"),i.classList.remove("drop-highlight"),i.classList.remove("drop-target"),i.classList.remove("container-highlight"),i.style.outline="",i.style.boxShadow="",i.style.backgroundColor="")}const n=(o=this.currentTarget)==null?void 0:o.widgetId;if(n){this.cleanAllComponentsInWidget(n);const i=document.querySelector(`[data-widget-id="${n}"]`);i instanceof HTMLElement&&i.classList.remove("widget-drop-target")}this.currentTarget=null,Bl.clearAllDropStates(),this.globalEmergencyCleanup()}cleanAllComponentsInWidget(n){document.querySelectorAll(`[data-widget-id="${n}"] [data-component-id]`).forEach(i=>{if(i instanceof HTMLElement){i.setAttribute("data-drop-before","false"),i.setAttribute("data-drop-after","false"),i.setAttribute("data-drop-inside","false"),i.classList.remove("drop-highlight"),i.classList.remove("drop-target"),i.classList.remove("container-highlight"),i.style.outline="",i.style.boxShadow="",i.style.backgroundColor="",i.querySelectorAll(".drop-indicator").forEach(u=>{u.parentElement&&u.parentElement.removeChild(u)});const a=i.querySelector('[data-children-container="true"]');a instanceof HTMLElement&&(a.style.outline="",a.style.boxShadow="",a.style.backgroundColor="",a.classList.remove("drop-highlight"))}})}globalEmergencyCleanup(){document.querySelectorAll(".drop-indicator, .drop-indicator-before, .drop-indicator-after, .drop-indicator-inside").forEach(n=>{n.parentElement&&n.parentElement.removeChild(n)}),document.querySelectorAll('[data-drop-before="true"], [data-drop-after="true"], [data-drop-inside="true"]').forEach(n=>{n instanceof HTMLElement&&(n.setAttribute("data-drop-before","false"),n.setAttribute("data-drop-after","false"),n.setAttribute("data-drop-inside","false"))}),document.querySelectorAll(".drop-highlight, .drop-target, .container-highlight").forEach(n=>{n.classList.remove("drop-highlight"),n.classList.remove("drop-target"),n.classList.remove("container-highlight")})}handleDrop(n,o,i){var g,h;if(!this.currentTarget)return!1;const{widgetId:l,componentId:a,position:u,parentId:d,sourceWidgetId:f}=this.currentTarget,y=f&&f!==l&&f!=="palette";y&&console.log(`Processing cross-widget drop from ${f} to ${l}`);try{if(o==="component-definition"){const m=n.definitionId||n.id;if(!m)return!1;if(a&&u===Be.INSIDE){const v=it.addChildComponent(l,a,m,i||{x:{value:10,unit:"px"},y:{value:10,unit:"px"}});if(v)return ye.publish("component:added",{componentId:v.id,widgetId:l,parentId:a}),!0}else if(a&&(u===Be.BEFORE||u===Be.AFTER)){const v=it.addComponentToWidget(l,m,i||{x:{value:10,unit:"px"},y:{value:10,unit:"px"}});if(v)return it.moveComponent(l,v.id,d),it.reorderComponents(l,d||l,v.id,a,u===Be.BEFORE?"before":"after"),ye.publish("component:added",{componentId:v.id,widgetId:l,parentId:d}),!0}else if(!a){const v=it.addComponentToWidget(l,m,i||{x:{value:10,unit:"px"},y:{value:10,unit:"px"}});if(v)return ye.publish("component:added",{componentId:v.id,widgetId:l}),!0}}else if(o==="component"){const m=n.id||((g=n.data)==null?void 0:g.id),v=n.widgetId||((h=n.data)==null?void 0:h.widgetId)||f;if(!m||!v)return console.error("Missing source component or widget ID in drag data"),!1;if(v==="palette")return console.warn("Cannot move palette items - they should be added as new components"),!1;if(v!==l&&console.log(`Cross-widget component move:
                    Component: ${m}
                    From: ${v}
                    To: ${l}
                    Target: ${a||"widget root"}
                    Position: ${u||"inside"}
                `),v===l&&m===a)return!1;if(v===l&&a&&u===Be.INSIDE&&this.wouldCreateCircularReference(l,m,a))return console.warn("Cannot create circular reference in component hierarchy"),!1;if(a&&u===Be.INSIDE){if(it.moveComponent(v,m,a,l))return v!==l?ye.publish("component:moved",{componentId:m,sourceWidgetId:v,destinationWidgetId:l,newParentId:a}):ye.publish("component:updated",{componentId:m,widgetId:l,parentId:a}),!0}else if(a&&(u===Be.BEFORE||u===Be.AFTER)){if(it.moveComponent(v,m,d,l))return it.reorderComponents(l,d||l,m,a,u===Be.BEFORE?"before":"after"),v!==l?ye.publish("component:moved",{componentId:m,sourceWidgetId:v,destinationWidgetId:l,newParentId:d}):ye.publish("component:updated",{componentId:m,widgetId:l,parentId:d}),!0}else if(!a&&it.moveComponent(v,m,void 0,l))return v!==l?ye.publish("component:moved",{componentId:m,sourceWidgetId:v,destinationWidgetId:l}):ye.publish("component:updated",{componentId:m,widgetId:l}),!0}return!1}catch(m){return console.error("Error handling drop in WidgetOverlayManager:",m),!1}finally{this.clearCurrentIndicators(),this.currentTarget=null,l&&ye.publish("hierarchy:changed",{widgetId:l}),y&&f&&ye.publish("hierarchy:changed",{widgetId:f})}}getCurrentTarget(){return this.currentTarget}wouldCreateCircularReference(n,o,i){try{const a=qe.getState().getWidget(n);if(!a)return!0;const u=(d,f)=>{if(d===f)return!0;const y=a.components.find(g=>g.id===f);return!y||!y.parentId?!1:u(d,y.parentId)};return u(o,i)}catch(l){return console.error("Error checking for circular reference:",l),!0}}}const Ro=new NC,MC=({widgetId:e,isEditMode:n,onDropComplete:o})=>{var C;const[i,l]=M.useState(null),[a,u]=M.useState(!1),d=aa(_=>_.isDragging),f=aa(_=>_.dragSource),y=M.useRef(null),[g,h]=M.useState({x:0,y:0}),[m,v]=M.useState(""),S=M.useCallback(_=>{if(!n)return;_.preventDefault(),_.stopPropagation(),_.dataTransfer.dropEffect="move",h({x:_.clientX,y:_.clientY});const F=Ro.findDropTargetAtPosition(e,_.clientX,_.clientY);(!i||i.componentId!==F.componentId||i.position!==F.position)&&(Ro.updateDropTarget(F),l(F),u(!0),v(JSON.stringify({targetId:F.componentId||"widget",position:F.position,container:F.isContainer},null,2)))},[e,n,i]),b=M.useCallback(_=>{if(_.preventDefault(),_.stopPropagation(),y.current){const F=y.current.getBoundingClientRect();(_.clientX<F.left||_.clientX>F.right||_.clientY<F.top||_.clientY>F.bottom)&&(Ro.clearCurrentIndicators(),l(null),u(!1),v(""),document.querySelectorAll(`[data-widget-id="${e}"] [data-component-id]`).forEach(P=>{P instanceof HTMLElement&&(P.setAttribute("data-drop-before","false"),P.setAttribute("data-drop-after","false"),P.setAttribute("data-drop-inside","false"),P.classList.remove("drop-highlight"))}))}},[e]),k=M.useCallback(_=>{var F,V;if(n){_.preventDefault(),_.stopPropagation();try{const P=_.dataTransfer.getData("application/json");if(!P)return;const O=JSON.parse(P),W={x:{value:_.clientX-(((F=y.current)==null?void 0:F.getBoundingClientRect().left)||0),unit:"px"},y:{value:_.clientY-(((V=y.current)==null?void 0:V.getBoundingClientRect().top)||0),unit:"px"}};Ro.handleDrop(O.data||O,O.type,W)&&(console.log("Drop successful"),o&&o())}catch(P){console.error("Error handling drop:",P)}finally{Ro.clearCurrentIndicators(),l(null),u(!1),v("")}}},[e,n,o]);if(M.useEffect(()=>()=>{Ro.clearCurrentIndicators()},[]),!d||!n)return null;const I=(f==null?void 0:f.type)==="component-definition"||(f==null?void 0:f.type)==="component"&&((C=f.data)==null?void 0:C.widgetId)===e,T={position:"absolute",inset:0,backgroundColor:a?"rgba(59, 130, 246, 0.05)":"transparent",pointerEvents:"auto",zIndex:1e3,cursor:I?a?"copy":"grab":"no-drop",transition:"background-color 0.2s ease"};return x.jsx("div",{ref:y,className:Pe("widget-drop-overlay",a&&"widget-drop-overlay-active"),style:T,onDragOver:S,onDragLeave:b,onDrop:k,"data-widget-id":e,"data-is-overlay":"true","data-drop-active":a?"true":"false","data-can-drop":I?"true":"false","data-debug-info":m,children:!1})},DC=M.memo(function({data:n,selected:o=!1}){var Y,$;const i=qe(),l=pt(),a=Yo.getState(),[u,d]=M.useState(0),f=M.useRef(null),y=M.useRef({width:n.size.width.value,height:n.size.height.value}),g=M.useRef(null),h=M.useRef(!0),[m,v]=M.useState(0),S=M.useMemo(()=>n.id===l.selectedWidgetId?l.selectedComponentId:null,[n.id,l.selectedComponentId,l.selectedWidgetId]),b=M.useCallback(()=>{d(L=>L+1)},[]),k=M.useCallback(L=>{l.selectComponent(L,n.id,{syncWithLayoutPanel:!0,openPropertyPanel:!0}),b(),ye.publish("component:added",{componentId:L,widgetId:n.id})},[n.id,l,b]),I=M.useCallback((L,j)=>{j&&j.stopPropagation(),!(L===S&&n.id===l.selectedWidgetId)&&(l.selectComponent(L,n.id,{syncWithLayoutPanel:!0,openPropertyPanel:!0}),ye.publish("component:selected",{componentId:L,widgetId:n.id}))},[S,n.id,l]),T=M.useCallback(L=>{L.target===L.currentTarget&&(l.deselectAll(),i.setActiveWidget(n.id),ye.publish("component:deselected",{widgetId:n.id}))},[n.id,l,i]),C=M.useCallback((L,j)=>{j&&j.stopPropagation(),L===S&&l.deselectAll(),it.deleteComponent(n.id,L),ye.publish("component:deleted",{componentId:L,widgetId:n.id}),b()},[n.id,S,l,b]),{dropProps:_,isOver:F}=_C(n.id,n.isEditMode,k),V=M.useCallback((L,j)=>{if(j){switch(L){case"show":i.showWidget(j);break;case"hide":i.hideWidget(j);break;case"toggle":i.toggleWidget(j);break}ye.publish("widget:updated",{widgetId:j,action:L})}},[i]),P=M.useCallback(()=>{v(L=>L+1),b()},[b]),O=M.useCallback(()=>{const L=!n.isEditMode;i.updateWidget(n.id,{isEditMode:L}),h.current=L,ye.publish("widget:updated",{widgetId:n.id,action:L?"editModeEnabled":"editModeDisabled"})},[n.id,n.isEditMode,i]);Ew(n.id,b),kt("component:added",L=>{L.data.widgetId===n.id&&b()},[n.id,b]),kt("component:deleted",L=>{L.data.widgetId===n.id&&b()},[n.id,b]),kt("component:updated",L=>{L.data.widgetId===n.id&&b()},[n.id,b]),kt("component:moved",L=>{L.data.widgetId===n.id&&(console.log("Widget received component move event:",L.data),b())},[n.id,b]),kt("hierarchy:changed",L=>{L.data.widgetId===n.id&&(console.log("Widget received hierarchy change event:",L.data),b())},[n.id,b]),M.useEffect(()=>{const L=j=>{var R;((R=j.detail)==null?void 0:R.widgetId)===n.id&&(console.log("Widget received legacy hierarchy change event"),b())};return document.addEventListener("component-hierarchy-changed",L),()=>{document.removeEventListener("component-hierarchy-changed",L)}},[n.id,b]);const W=M.useMemo(()=>n.components.filter(j=>!j.parentId),[n.components,u]),U=M.useCallback(L=>L===S,[S]),{className:Q,...Z}=_||{},X=M.useCallback(()=>x.jsx("div",{className:"h-full widget-content-container rounded overflow-hidden",...Z,onClick:T,children:x.jsx(ba,{className:"h-full widget-scroll-container",children:x.jsx("div",{className:"flex flex-col gap-2 p-2 widget-components-container",children:W.length>0?W.map(L=>a.renderComponentHierarchy(L.instanceId,n.id,{isEditMode:n.isEditMode,isSelected:U(L.id),onSelect:I,onDelete:C,actionHandler:V,dragDropEnabled:n.isEditMode},S)):x.jsx("div",{className:"text-font-dark-muted text-center p-4 italic",children:n.isEditMode?"Drag components here to add them to the widget":"This widget is empty"})})})}),[W,n.id,n.isEditMode,T,I,C,V,U,S,a,_]);Mm(),M.useEffect(()=>{if(!n.isEditMode||!h.current)return;const L=f.current;if(L)return g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{const j=Date.now(),A=L.getAttribute("data-last-resize-time");if(A&&j-parseInt(A)<500)return;const R=L.querySelectorAll("[data-component-id]");if(R.length===0)return;let D=0,B=0;const ne=L.getBoundingClientRect();R.forEach(Ce=>{const be=Ce.getBoundingClientRect(),De=be.bottom-ne.top,$e=be.right-ne.left;B=Math.max(B,De),D=Math.max(D,$e)});const te=50,le=n.size.width.value,se=n.size.height.value,re=Math.min(Math.max(le,D+te),1280),ue=Math.min(Math.max(se,B+te),1280),de=Math.abs(re-y.current.width),Me=Math.abs(ue-y.current.height);(de>10||Me>10)&&(y.current={width:re,height:ue},i.updateWidget(n.id,{size:{width:{value:re,unit:"px"},height:{value:ue,unit:"px"}}}),L.setAttribute("data-last-resize-time",j.toString()),ye.publish("widget:updated",{widgetId:n.id,action:"resized"}))},300),()=>{g.current&&clearTimeout(g.current)}},[n.isEditMode,n.id,n.size.width.value,n.size.height.value,u,W.length,i]),M.useEffect(()=>{o&&n.id&&qe.getState().activeWidgetId!==n.id&&(i.setActiveWidget(n.id),l.selectedComponentId&&l.selectedWidgetId!==n.id&&l.selectComponent(null,n.id),ye.publish("widget:selected",{widgetId:n.id}))},[o,n.id,l]),M.useEffect(()=>{const L=A=>{var D,B,ne;const R=A;try{const te=(D=R.dataTransfer)==null?void 0:D.getData("application/json");if(!te)return;const le=JSON.parse(te);if(le.type==="component"){const se=le.widgetId||((B=le.data)==null?void 0:B.widgetId);se&&se!==n.id&&se!=="palette"&&(f.current&&f.current.setAttribute("data-cross-widget-target","true"),n.isEditMode||(ne=f.current)==null||ne.setAttribute("data-temp-edit-mode","true"))}}catch{}},j=()=>{f.current&&(f.current.removeAttribute("data-cross-widget-target"),f.current.hasAttribute("data-temp-edit-mode")&&f.current.removeAttribute("data-temp-edit-mode"))};return document.addEventListener("dragstart",L),document.addEventListener("dragend",j),()=>{document.removeEventListener("dragstart",L),document.removeEventListener("dragend",j)}},[n.id,n.isEditMode]);const N=Pe("rounded shadow-lg widget-node",o?"outline outline-accent-dark-bright":"",F?"bg-accent-dark-neutral/20":"",n.isEditMode?"widget-edit-mode":"widget-view-mode",(Y=f.current)!=null&&Y.hasAttribute("data-cross-widget-target")?"cross-widget-drop-target":"",($=f.current)!=null&&$.hasAttribute("data-temp-edit-mode")?"temp-edit-mode":"");return x.jsxs(x.Fragment,{children:[x.jsx(qo,{type:"target",position:Se.Top,style:{visibility:"hidden"}}),x.jsxs("div",{ref:f,className:N,style:{width:n.size.width.value,height:n.size.height.value,minWidth:300,minHeight:100},"data-widget-id":n.id,"data-edit-mode":n.isEditMode?"true":"false","data-selected":o?"true":"false",children:[x.jsxs("div",{className:"flex justify-between items-center mb-0.25 drag-handle__widget",children:[x.jsx("div",{className:"text-xs text-font-dark-muted truncate max-w-[70%]",children:n.label}),x.jsx("div",{className:"flex gap-1",children:x.jsx("button",{className:Pe("text-xxs px-1 py-0.25 transition rounded","bg-accent-dark-neutral hover:bg-accent-dark-bright",n.isEditMode?"bg-accent-dark-bright":""),onClick:O,title:n.isEditMode?"Switch to view mode":"Switch to edit mode",children:n.isEditMode?"View":"Edit"})})]}),x.jsx("div",{className:"widget-content relative h-full",children:X()}),F&&n.isEditMode&&x.jsx(IC,{position:Be.INSIDE,isActive:!0,isContainer:!0,className:"z-10"}),x.jsx(MC,{widgetId:n.id,isEditMode:n.isEditMode,onDropComplete:P})]}),x.jsx(qo,{type:"source",position:Se.Bottom,style:{visibility:"hidden"}})]})}),TC={widget:DC},PC=M.memo(function(){const{gridSettings:n}=pt(),o=qe(),i=pt(),l=Math.max(5,n.gridSize||10),[a,u,d]=eC([]),[f,y,g]=tC([]),[h,m]=M.useState(null),[v,S]=M.useState(!1),b=M.useRef(!1),k=M.useRef(null),I=M.useCallback(()=>{const Q=o.convertToNodes();u(Q)},[o,u]),T=M.useCallback(()=>{I()},[I]);vw(T),kt("widget:updated",T,[T]),kt("widget:created",T,[T]),kt("widget:deleted",T,[T]);const C=M.useCallback(Q=>{i.deselectAll(),ye.publish("component:deselected",{})},[i]),_=M.useCallback(Q=>{Q.preventDefault(),Q.dataTransfer.dropEffect="move"},[]),F=M.useCallback((Q,Z)=>{try{const X=Z.label?`${Z.label} Widget`:"New Widget",N=it.createWidget(X,cd.fromXYPosition(Q));if(!(N!=null&&N.id))throw new Error("Failed to create widget");return Z.definitionId&&it.addComponentToWidget(N.id,Z.definitionId,{x:{value:20,unit:"px"},y:{value:20,unit:"px"}},{autoSelect:!0,openPropertyPanel:!0}),ye.publish("widget:created",{widgetId:N.id}),ye.publish("widget:updated",{widgetId:N.id}),N.id}catch(X){return console.error("Error creating widget from drop:",X),null}},[i]),V=M.useCallback(Q=>{var Z;if(Q.preventDefault(),!(!h||v))try{if(Q.target.closest(".react-flow__node")!==null)return;const Y=(Z=k.current)==null?void 0:Z.getBoundingClientRect();if(!Y)return;const $=Q.clientX-Y.left,L=Q.clientY-Y.top,j=h.screenToFlowPosition({x:$,y:L}),A=n.snapToGrid?{x:Math.round(j.x/l)*l,y:Math.round(j.y/l)*l}:j,R=Q.dataTransfer.getData("application/json");if(!R)return;const D=JSON.parse(R);D.type==="component-definition"&&F(A,D)&&T()}catch(X){console.error("Error handling drop on canvas:",X)}},[h,v,n.snapToGrid,l,F,T]),P=M.useCallback(Q=>{console.log("Connection attempt:",Q)},[]),O=M.useCallback((Q,Z)=>{it.updateWidgetPosition(Z.id,cd.fromXYPosition(Z.position)),ye.publish("widget:updated",{widgetId:Z.id,action:"moved"})},[]),W=M.useCallback(Q=>{Q.forEach(Z=>{it.deleteWidget(Z.id),ye.publish("widget:deleted",{widgetId:Z.id})}),T()},[T]),U=M.useCallback(Q=>{m(Q)},[]);return M.useEffect(()=>{const Q=X=>{X.code==="Space"&&(S(!0),document.body.style.cursor="grab"),(X.key==="Delete"||X.key==="Backspace")&&i.selectedWidgetId&&!i.selectedComponentId&&(it.deleteWidget(i.selectedWidgetId),i.deselectAll(),ye.publish("widget:deleted",{widgetId:i.selectedWidgetId}),T())},Z=X=>{X.code==="Space"&&(S(!1),document.body.style.cursor="default")};return window.addEventListener("keydown",Q),window.addEventListener("keyup",Z),()=>{window.removeEventListener("keydown",Q),window.removeEventListener("keyup",Z)}},[i,T]),M.useEffect(()=>{if(I(),o.getVisibleWidgets().length===0&&!b.current){const Z=it.createWidget("Main Canvas",{x:{value:100,unit:"px"},y:{value:180,unit:"px"}});Z&&ye.publish("widget:created",{widgetId:Z.id}),b.current=!0}},[I,o]),x.jsx("div",{className:"w-full h-full relative canvas-container",ref:k,"data-testid":"canvas",children:x.jsx(py,{children:x.jsxs(J3,{nodes:a,edges:f,nodeTypes:TC,onNodesChange:d,onEdgesChange:g,onConnect:P,onInit:U,onDrop:V,onClick:C,onDragOver:_,onNodeDragStop:O,onNodesDelete:W,connectionMode:Jr.Loose,deleteKeyCode:"Delete",snapToGrid:n.snapToGrid,snapGrid:[l,l],fitView:!0,attributionPosition:"bottom-right",nodesDraggable:!0,elementsSelectable:!0,selectNodesOnDrag:!1,children:[x.jsx(sC,{variant:$n.Dots,gap:Math.max(10,n.gridSize||20),size:Math.max(1,n.gridSize/20||1),color:n.showGrid?"rgba(100, 100, 100, 0.8)":"transparent"}),x.jsx(pC,{}),x.jsx(vs,{position:"bottom-center",className:"bg-bg-dark bg-opacity-75 p-2 rounded text-font-dark text-sm",children:x.jsx("div",{className:"text-xs text-font-dark-muted",children:"Drag components onto canvas  Scroll to zoom  Drag in empty space to pan"})})]})})})});function jC(){return null}const AC=()=>{const[e,n]=M.useState(!1);return M.useEffect(()=>{(async()=>{if(!e)try{await dw({resetStores:!1}),console.log("Core system initialized successfully"),n(!0)}catch(i){console.error("Failed to initialize core system:",i)}})()},[e]),x.jsx(zw,{defaultTheme:"dark",children:x.jsx(sw,{children:x.jsxs("div",{className:"relative bg-zinc-700 text-white flex flex-col w-screen h-screen",children:[x.jsx(PC,{}),x.jsxs("div",{className:"grid fixed top-0 left-0 bottom-0 z-50 h-screen",children:[x.jsx(aw,{}),x.jsx(Tw,{}),x.jsx(Pw,{}),x.jsx(jw,{})]}),x.jsx("div",{className:"fixed top-0 right-0 bottom-0 z-50 max-h-screen"}),x.jsx(jC,{}),x.jsx(Aw,{})]})})})};function LC(){return x.jsx("div",{className:"w-fit min-w-screen h-fit min-h-screen",children:x.jsx(AC,{})})}ov.createRoot(document.getElementById("root")).render(x.jsx(M.StrictMode,{children:x.jsx(LC,{})}));export{Yi as C,Kx as b,RC as c,Kl as n,Xx as p,Gx as s,Je as u};
